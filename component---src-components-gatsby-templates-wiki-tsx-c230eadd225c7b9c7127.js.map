{"version":3,"file":"component---src-components-gatsby-templates-wiki-tsx-c230eadd225c7b9c7127.js","mappings":"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","sources":["webpack://cat-logic/./src/components/atoms/Link.tsx","webpack://cat-logic/./src/components/molecules/Toc.tsx","webpack://cat-logic/./src/components/molecules/WikiContent.tsx","webpack://cat-logic/./src/components/molecules/Comments.tsx","webpack://cat-logic/./src/components/molecules/GrassActivity.tsx","webpack://cat-logic/./src/components/molecules/HomeLink.tsx","webpack://cat-logic/./src/components/organisms/GitHubCommitLink.tsx","webpack://cat-logic/./src/components/templates/Wiki.tsx","webpack://cat-logic/./src/utils/html-string.ts","webpack://cat-logic/./src/components/gatsby-templates/Wiki.tsx","webpack://cat-logic/./src/components/templates/layout/PageLayout.tsx","webpack://cat-logic/./src/constants/device.ts","webpack://cat-logic/./src/constants/theme.ts"],"sourcesContent":["import * as React from \"react\"\nimport styled from \"styled-components\"\n\nconst A = styled.a`\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`\n\nexport default function Link(\n  { children, href }: { children: React.ReactNode; href: string },\n) {\n  return (\n    <A href={href}>{children}</A>\n  )\n}\n\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport theme from \"../../constants/theme\"\n\nconst Container = styled.div`\n  box-sizing: border-box;\n  background-color: #f5f5f5;\n  padding: 1rem 1rem 1rem 0;\n  border: 1px solid #e0e0e0;\n\n  ul {\n    list-style: none;\n    padding-left: 1rem;\n    margin: 0;\n    font-size: .8rem;\n\n    p {\n      margin: 0;\n    }\n  }\n\n  // link style\n  a {\n    text-decoration: none;\n\n    &:hover {\n      color: ${theme.colors.highlight};\n    }\n  }\n`\n\nexport default function Toc(\n  {\n    className,\n    contents,\n  }: {\n    className?: string,\n    contents: string,\n  },\n) {\n  return (\n    <Container className={className} dangerouslySetInnerHTML={{ __html: contents }} />\n  )\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport theme from \"../../constants/theme\"\n\nconst Container = styled.div`\n  overflow: auto;\n  overflow-wrap: break-word;\n  color: ${theme.colors.foreground};\n  font-size: .8rem;\n\n  // link style\n  a {\n    text-decoration-style: dotted;\n\n    &:visited {\n      color: ${theme.colors.linkVisited};\n    }\n  }\n\n  // inline code block style\n  code:not(pre code) {\n    background-color: #f5f5f5;\n    border-radius: .5rem;\n    padding: .2rem .4rem;\n  }\n\n  // code block style\n  pre:has(code) {\n    font-size: 85%;\n    background-color: #f5f5f5;\n    border-radius: .5rem;\n    padding: 1rem;\n    overflow: auto;\n  }\n\n  // limits image size to prevent image overs container\n  img {\n    max-width: 100%;\n  }\n\n  // quote style\n  blockquote {\n    border-left: 4px solid #ddd;\n    padding-left: 1rem;\n    margin-left: 0;\n    font-style: italic;\n  }\n\n  // table style\n  table {\n    width: 100%;\n    border-collapse: collapse;\n\n    td, th {\n      padding: .2rem .5rem;\n    }\n\n    thead {\n      background-color: ${theme.colors.background2};\n    }\n\n    tbody {\n      font-size: .8rem;\n\n      tr:nth-child(even) {\n        background-color: ${theme.colors.background2};\n      }\n\n      tr:hover {\n        background-color: ${theme.colors.backgroundHighlight};\n      }\n    }\n  }\n`\n\nexport default function WikiContent(\n  { contents }: { contents: string },\n) {\n  return (\n    <Container dangerouslySetInnerHTML={{ __html: contents }} />\n  )\n}\n","import React, { useEffect } from \"react\"\nimport styled from \"styled-components\"\n\nconst Container = styled.div`\n  padding-top: 20rem;\n`\n\nexport default function Comments() {\n  const commentsInjectionRoot: React.RefObject<HTMLDivElement> = React.createRef()\n\n  useEffect(() => {\n    if (commentsInjectionRoot.current?.children.length === 0) {\n      const scriptEl = document.createElement(\"script\")\n      scriptEl.setAttribute(\"src\", \"https://utteranc.es/client.js\")\n      scriptEl.setAttribute(\"crossorigin\", \"anonymous\")\n      scriptEl.setAttribute(\"async\", \"true\")\n      scriptEl.setAttribute(\n        \"repo\",\n        \"edunga1/cat-logic-comments\"\n      )\n      scriptEl.setAttribute(\"issue-term\", \"pathname\")\n      scriptEl.setAttribute(\"theme\", \"github-light\")\n      commentsInjectionRoot.current?.appendChild(scriptEl)\n    }\n  }, [])\n\n  return (\n    <Container>\n      <hr />\n      <div ref={commentsInjectionRoot} />\n    </Container>\n  )\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\n\n// TODO: MUST REFACTOR THIS COMPONENT\n\nconst Container = styled.div`\n  height: 1rem;\n  position: relative;\n  display: flex;\n  align-items: center;\n  // TODO: this might be tricky. children are out of the container\n  margin-right: .5rem;\n`\n\nconst Point = styled.div<\n  {\n    left: number\n    fixed: boolean\n  }\n>`\n  width: .5rem;\n  height: .5rem;\n  position: absolute;\n  left: ${props => props.left.toFixed(2)}%;\n  background-color: ${props => props.fixed ? \"#eee\" : \"#c0debf\"};\n  z-index: ${props => props.fixed ? 0 : 1};\n`\n\nexport default function GrassActivity(\n  {\n    dates,\n    range,\n  }: {\n    dates: Date[]\n    range?: Date[]\n  },\n) {\n  const activityDates = dates.sort((a, b) => a.getTime() - b.getTime())\n  const steps = parseSteps(range ?? [], activityDates.at(0))\n  const points = calculatePoints(steps, activityDates)\n  return (\n    <Container>\n      {\n        points.map((point, index) => {\n          return (\n            <Point\n              key={index}\n              left={point.rate * 100}\n              fixed={point.isFixed}\n            >\n            </Point>\n          )\n        })\n      }\n    </Container>\n  )\n}\n\nfunction parseSteps(range: Date[], fallback?: Date) {\n  function getMinimumDate() {\n    return fallback !== undefined\n      ? (fallback > range[0] ? minusDays(new Date(), 10) : fallback)\n      : minusDays(new Date(), 10)\n  }\n  const steps = []\n  if (range.length === 0) {\n    steps.push(getMinimumDate())\n    steps.push(new Date())\n  } else if (range.length === 1) {\n    steps.unshift(getMinimumDate())\n  }\n  return steps\n}\n\nfunction minusDays(date: Date, days: number) {\n  return new Date(date.setDate(date.getDate() - days))\n}\n\nfunction calculatePoints(steps: Date[], dates: Date[]): Point[] {\n  const range = steps[steps.length - 1].getTime() - steps[0].getTime()\n  const points = steps.map(x => (\n    {\n      date: x,\n      rate: (x.getTime() - steps[0].getTime()) / range,\n      isFixed: true,\n    }\n  ))\n  return dates\n    .filter(x => x >= steps[0] && x <= steps[steps.length - 1])\n    .sort((a, b) => a.getTime() - b.getTime())\n    .reduce((acc, date) => {\n      const p = {\n        date,\n        rate: (date.getTime() - steps[0].getTime()) / range,\n        isFixed: false,\n      }\n      acc.splice(acc.length - 1, 0, p)\n      return acc\n    }, points)\n}\n\ntype Point = {\n  date: Date\n  rate: number\n  isFixed: boolean\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport theme from \"../../constants/theme\"\nimport Link from \"../atoms/Link\"\n\nconst Container = styled.div`\n  font-size: 1.5rem;\n  text-align: right;\n\n  a {\n    color: ${theme.colors.foreground};\n    opacity: 0.2;\n    font-weight: 700;\n\n    &:hover {\n      text-decoration: none;\n    }\n\n    &:after {\n      content: \"»\";\n      margin-left: .1rem;\n    }\n  }\n`\n\nexport default function HomeLink(\n  { slug }: { slug: string },\n) {\n  const [href, setHref] = React.useState(\"\")\n\n  React.useEffect(() => {\n    setHref(removeSlugFromPath(window.location.href, slug))\n  })\n\n  return (\n    <Container>\n      <Link href={href}>CAT</Link>\n    </Container>\n  )\n}\n\nfunction removeSlugFromPath(href: string, slug: string): string {\n  // remove slug from href and return the path\n  const url = new URL(href)\n  return url.pathname.replace(`wiki${slug}`, \"\")\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport theme from \"../../constants/theme\"\n\nconst Container = styled.div`\n  font-size: .7rem;\n  color: ${theme.colors.lowlight};\n\n  a {\n    color: ${theme.colors.lowlight};\n    text-decoration: none;\n  }\n`\n\nexport default function GitHubCommitLink(\n  {\n    lastModified,\n    gitHubRepositoryUrl,\n    hash,\n  }: {\n    lastModified: Date,\n    gitHubRepositoryUrl?: string,\n    hash?: string\n  },\n) {\n  const lastModifiedStr = lastModified.toLocaleString()\n  const element = gitHubRepositoryUrl && hash\n    ? <a href={`${gitHubRepositoryUrl}/commit/${hash}`}>{lastModifiedStr}</a>\n    : <span>{lastModifiedStr}</span>\n  return (\n    <Container>{element}</Container>\n  )\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport Toc from \"../../components/molecules/Toc\"\nimport WikiContent from \"../../components/molecules/WikiContent\"\nimport device from \"../../constants/device\"\nimport theme from \"../../constants/theme\"\nimport Link from \"../atoms/Link\"\nimport Comments from \"../molecules/Comments\"\nimport GrassActivity from \"../molecules/GrassActivity\"\nimport HomeLink from \"../molecules/HomeLink\"\nimport GitHubCommitLink from \"../organisms/GitHubCommitLink\"\nimport PageLayout from \"./layout/PageLayout\"\n\nconst Main = styled.div`\n  padding: 0 1rem;\n  overflow: auto;\n`\n\nconst RelatedLinksHeader = styled.h3`\n  margin: 0;\n  padding: 1rem 0 0 1rem;\n  font-size: 1rem;\n`\n\nconst RelatedLinks = styled.ul`\n  list-style: none;\n  padding-left: 1rem;\n  margin: 0;\n\n  > li {\n    padding: 0;\n    line-height: 1;\n  }\n`\n\nconst TitleContainer = styled.div`\n  display: flex;\n  margin: 1rem 0;\n  gap: .5rem;\n`\n\nconst Title = styled.h1`\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: ${theme.colors.foreground};\n`\n\nconst TitleBottom = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`\n\nconst TocMain = styled(Toc)`\n  display: block;\n\n  @media (${device.larger}) {\n    display: none;\n  }\n`\n\nconst TocSide = styled(Toc)`\n  margin-top: 2rem;\n  max-width: 20rem;\n`\n\nexport default function Wiki(\n  {\n    title,\n    tableOfContents,\n    relatedLinksToc,\n    wikiContents,\n    slug,\n    lastModified,\n    lastCommitHash,\n    gitHubRepositoryUrl,\n    activityDates,\n  }: {\n    title?: string\n    tableOfContents: string\n    relatedLinksToc: JSX.Element[]\n    wikiContents: string\n    slug: string\n    lastModified?: Date\n    lastCommitHash?: string\n    gitHubRepositoryUrl?: string\n    activityDates?: Date[]\n  },\n) {\n  const relatedItems = relatedLinksToc.map((item, index) => (\n    <li key={index}>{item}</li>\n  ))\n  const containerRelatedLinks = <div>\n    <RelatedLinksHeader>Related Links</RelatedLinksHeader>\n    <RelatedLinks>{relatedItems}</RelatedLinks>\n  </div>\n  const githubLink = lastModified\n    ? <GitHubCommitLink\n        lastModified={lastModified}\n        gitHubRepositoryUrl={gitHubRepositoryUrl}\n        hash={lastCommitHash}\n      />\n    : null\n\n  return (\n    <PageLayout>\n      <Main>\n        <TitleContainer>\n          <HomeLink slug={slug} />\n          <Link href=\".\"><Title>{title}</Title></Link>\n        </TitleContainer>\n        <GrassActivity dates={activityDates || []} />\n        <TitleBottom>{githubLink}</TitleBottom>\n        <TocMain contents={tableOfContents} />\n        <WikiContent contents={wikiContents} />\n        <Comments />\n      </Main>\n      {relatedLinksToc.length > 0 ? containerRelatedLinks : null}\n      <TocSide contents={tableOfContents} />\n    </PageLayout>\n  )\n}\n","export function removeFirstHeading(html: string): string {\n  return html.replace(/<h1.*?>(.*?)<\\/h1>/, '')\n}\n","import * as React from \"react\"\nimport { graphql, PageProps } from \"gatsby\"\nimport Wiki from \"../../components/templates/Wiki\"\nimport { removeFirstHeading } from \"../../utils/html-string\"\n\nconst relatedLinkStyle = {\n  fontSize: \"0.5em\",\n  marginRight: \"0.5em\",\n}\nexport default function BlogPostTemplate(\n  { data }: PageProps<Queries.WikiDetailQuery>,\n) {\n  const {\n    tableOfContents,\n    html,\n    fields,\n  } = data.file?.childMarkdownRemark ?? {}\n  const commitLogs = data.file?.fields?.gitLogs || []\n  const logDates = extractLogDates(data)\n  const { hash: gitLogLatestHash, date: gitLogLatestDate } = commitLogs[0] || {}\n  const docTitle = extractDocTitle(data)\n  const relatedDocs = extractRelatedDocs(data)\n  const relatedLinksToc = relatedDocs.map(doc => {\n    const link = doc.slug\n    return <a key={link} href={`../${link}`} style={relatedLinkStyle}>{link}</a>\n  })\n  const gitHubRepositoryUrl = data.site?.siteMetadata?.gitHubRepositoryUrl || undefined\n\n  return (\n    <Wiki\n      title={docTitle}\n      tableOfContents={tableOfContents || \"\"}\n      relatedLinksToc={relatedLinksToc}\n      wikiContents={removeFirstHeading(html || \"\")}\n      slug={fields?.slug || \"\"}\n      lastModified={gitLogLatestDate ? new Date(gitLogLatestDate) : undefined}\n      lastCommitHash={gitLogLatestHash || undefined}\n      gitHubRepositoryUrl={gitHubRepositoryUrl}\n      activityDates={logDates}\n    />\n  )\n}\n\nexport const pageQuery = graphql`\n  query WikiDetail($id: String!) {\n    file(childMarkdownRemark: {id: {eq: $id}}) {\n      fields {\n        gitLogs {\n          hash\n          date\n        }\n      }\n      childMarkdownRemark {\n        headings(depth: h1) {\n          value\n        }\n        fields {\n          slug\n          relatedDocs {\n            slug\n            similarity\n          }\n        }\n        tableOfContents\n        html\n      }\n    }\n    site {\n      siteMetadata {\n        gitHubRepositoryUrl\n      }\n    }\n  }\n`\n\nexport function Head(\n  { data }: PageProps<Queries.WikiDetailQuery>,\n) {\n  const docTitle = extractDocTitle(data)\n  return (\n    <title>Cat Logic{docTitle && ` - ${docTitle}`}</title>\n  )\n}\n\nfunction extractDocTitle(data: Queries.WikiDetailQuery) {\n  const { headings } = data.file?.childMarkdownRemark ?? {}\n  return headings?.[0]?.value || undefined\n}\n\nfunction extractRelatedDocs(data: Queries.WikiDetailQuery) {\n  const relatedDocs = data.file?.childMarkdownRemark?.fields?.relatedDocs || []\n  return relatedDocs\n    .filter(x => x.similarity < 1)\n    .sort((a, b) => b.similarity - a.similarity)\n    .slice(0, 5)\n}\n\nfunction extractLogDates(data: Queries.WikiDetailQuery) {\n  const logs = data.file?.fields?.gitLogs || []\n  return logs\n    .map(x => x && x.date && new Date(x.date) || null)\n    .filter(x => x !== null)\n    .map(x => x as Date)\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport device from \"../../../constants/device\"\nimport theme from \"../../../constants/theme\"\n\nconst Container = styled.div`\n  padding-top: 10%;\n  color: ${theme.colors.foreground};\n  overflow: hidden;\n  display: grid;\n  grid-template-columns: 1fr;\n  position: relative;\n\n  a {\n    color: ${theme.colors.link};\n  }\n\n  @media (${device.larger}) {\n    padding: 1rem 1rem 3rem 1rem;\n    grid-template-columns: .5fr minmax(auto, 40rem) 10rem;\n    > :nth-child(1) {\n      grid-column: 2;\n    }\n    > :nth-child(2) {\n      grid-column: 3;\n      position: fixed;\n    }\n  }\n`\n\nconst Main = styled.div`\n  width: 100%;\n  padding: 0 1rem;\n  display: grid;\n`\n\nconst Side = styled.div`\n  display: none;\n\n  @media (${device.larger}) {\n    display: block;\n    padding: 0 1rem;\n  }\n`\n\nexport default function PageLayout(\n  { children }: { children: React.ReactNode | React.ReactNode[] },\n) {\n  const [main, side] = Array.isArray(children)\n    ? [children[0], children.slice(1)]\n    : [children, null]\n  return (\n    <Container>\n      <Main>{main}</Main>\n      <Side>{side}</Side>\n    </Container>\n  )\n}\n","export default {\n  larger: \"min-width: 700px\",\n}\n","export default {\n  colors: {\n    foreground: \"#333333\",\n    highlight: \"#512DA8\",\n    lowlight: \"#BDBDBD\",\n    link: \"#0D47A1\",\n    linkVisited: \"#B4CFF9\",\n    accent: \"#C9C9C9\",\n    background2: \"#F5F5F5\",\n    backgroundHighlight: \"#D0D0D0\",\n  },\n  fonts: {\n    body: \"-apple-system, Roboto, sans-serif, serif\",\n    heading: \"-apple-system, Roboto, sans-serif, serif\",\n  }\n}\n"],"names":["A","styled","a","withConfig","displayName","componentId","Link","_ref","children","href","React","Container","div","theme","colors","highlight","Toc","className","contents","dangerouslySetInnerHTML","__html","foreground","linkVisited","background2","backgroundHighlight","WikiContent","Comments","commentsInjectionRoot","useEffect","_commentsInjectionRoo","current","length","_commentsInjectionRoo2","scriptEl","document","createElement","setAttribute","appendChild","ref","Point","props","left","toFixed","fixed","GrassActivity","dates","range","activityDates","sort","b","getTime","steps","fallback","getMinimumDate","undefined","minusDays","Date","push","unshift","parseSteps","at","points","map","x","date","rate","isFixed","filter","reduce","acc","p","splice","calculatePoints","point","index","key","days","setDate","getDate","HomeLink","slug","setHref","url","URL","pathname","replace","removeSlugFromPath","window","location","lowlight","GitHubCommitLink","lastModified","gitHubRepositoryUrl","hash","lastModifiedStr","toLocaleString","element","Main","RelatedLinksHeader","h3","RelatedLinks","ul","TitleContainer","Title","h1","TitleBottom","TocMain","device","larger","TocSide","Wiki","title","tableOfContents","relatedLinksToc","wikiContents","lastCommitHash","relatedItems","item","containerRelatedLinks","githubLink","PageLayout","removeFirstHeading","html","relatedLinkStyle","fontSize","marginRight","BlogPostTemplate","_data$file$childMarkd","_data$file","_data$file2","_data$file2$fields","_data$site","_data$site$siteMetada","data","fields","file","childMarkdownRemark","commitLogs","gitLogs","logDates","_data$file5","_data$file5$fields","logs","extractLogDates","gitLogLatestHash","gitLogLatestDate","docTitle","extractDocTitle","relatedDocs","_data$file4","_data$file4$childMark","_data$file4$childMark2","similarity","slice","extractRelatedDocs","doc","link","style","site","siteMetadata","Head","_ref2","_data$file$childMarkd2","_data$file3","_headings$","headings","value","Side","main","side","Array","isArray","accent","fonts","body","heading"],"sourceRoot":""}