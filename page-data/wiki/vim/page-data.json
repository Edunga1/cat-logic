{"componentChunkName":"component---src-components-gatsby-templates-wiki-tsx","path":"/wiki/vim/","result":{"data":{"file":{"fields":{"gitLogs":[{"hash":"307fc6c36f3aa9075d9752578b7ba56fd28c561f","date":"2025-07-21T19:45:05+09:00"},{"hash":"82bed63ae9ae08090cbaac8d31273cb6b3c560df","date":"2025-07-14T12:08:06+09:00"},{"hash":"f27e2f4169123ffd701a0bdba310a8a12e95ce63","date":"2025-06-08T19:52:58+09:00"},{"hash":"18e109610eef3bd551fcb730b751941664636f3a","date":"2025-06-08T19:51:16+09:00"},{"hash":"a94883c223cac8d99763350ec452eec32fb50955","date":"2025-05-20T22:28:32+09:00"},{"hash":"577fb810752a352626922fcc6e0bbdb8563b11e7","date":"2025-05-16T16:17:00+09:00"},{"hash":"d0b6075bb04f3f7cd15015c1cd0d9b3b8645da9d","date":"2025-04-23T10:21:26+09:00"},{"hash":"b39ca069c76c463526829c5ed873c8a5554d2ce3","date":"2025-04-01T10:12:36+09:00"},{"hash":"af1a356dd0797c95f0b6dec2817a273d328a12a6","date":"2025-02-07T17:28:22+09:00"},{"hash":"3132761d2a2fba75e4ad0f4d0310a23580fd2028","date":"2025-02-07T16:10:56+09:00"}]},"childMarkdownRemark":{"headings":[{"value":"Vim"}],"fields":{"slug":"/vim/","relatedDocs":[{"slug":"reverse-engineering","similarity":0.1576360282},{"slug":"kubernetes","similarity":0.266274544},{"slug":"hardware","similarity":0.2479421335},{"slug":"network","similarity":0.337926369},{"slug":"physics","similarity":0.3200787239},{"slug":"experience-review","similarity":0.2816963327},{"slug":"css","similarity":0.3474723251},{"slug":"gradle","similarity":0.305384351},{"slug":"redis","similarity":0.3104201987},{"slug":"apm","similarity":0.2634062197},{"slug":"bk","similarity":0.1918500453},{"slug":"embeddings","similarity":0.3778544213},{"slug":"openai","similarity":0.3300880979},{"slug":"clean-code","similarity":0.3333736689},{"slug":"scp","similarity":0.3061065212},{"slug":"vimwiki","similarity":0.511289459},{"slug":"amazon-redshift","similarity":0.2270136939},{"slug":"github","similarity":0.3252464613},{"slug":"jargon","similarity":0.3343282079},{"slug":"windows","similarity":0.3417169786},{"slug":"test-driven-development","similarity":0.2370202621},{"slug":"c-sharp","similarity":0.3257976327},{"slug":"linux","similarity":0.2484488815},{"slug":"testing","similarity":0.3246891383},{"slug":"valve","similarity":0.2879133399},{"slug":"sentry","similarity":0.2680298746},{"slug":"phidata","similarity":0.3097104821},{"slug":"continuous-integration-and-deployment","similarity":0.264292411},{"slug":"object-oriented-programming","similarity":0.380135701},{"slug":"webgl","similarity":0.3009131978},{"slug":"quotation","similarity":0.2822053231},{"slug":"airflow","similarity":0.27385531},{"slug":"reactjs","similarity":0.3145058651},{"slug":"unicode","similarity":0.3193679193},{"slug":"sfml","similarity":0.2794756597},{"slug":"data-structure","similarity":0.3434127371},{"slug":"java","similarity":0.3027467081},{"slug":"system-failures","similarity":0.2389843722},{"slug":"swagger","similarity":0.1937392438},{"slug":"postgresql","similarity":0.3349862338},{"slug":"vimenter-2023","similarity":0.3939873237},{"slug":"reactive-extensions","similarity":0.21950226},{"slug":"windows-subsystem-for-linux","similarity":0.4326745333},{"slug":"mail","similarity":0.2948930747},{"slug":"godot","similarity":0.4012020101},{"slug":"unity3d","similarity":0.3576059979},{"slug":"code-review","similarity":0.2801522232},{"slug":"language-server-protocol","similarity":0.3506886165},{"slug":"programming-paradigm","similarity":0.3900723455},{"slug":"elasticsearch","similarity":0.3389451311},{"slug":"idea-methodology","similarity":0.2958386841},{"slug":"software-development","similarity":0.3545098736},{"slug":"docker","similarity":0.399479949},{"slug":"devops","similarity":0.3069709355},{"slug":"html-canvas","similarity":0.2895316262},{"slug":"podman","similarity":0.3499476388},{"slug":"ionic-framework","similarity":0.3028055631},{"slug":"data-analysis","similarity":0.2698269645},{"slug":"large-language-model","similarity":0.2776640551},{"slug":"security","similarity":0.2650192312},{"slug":"html","similarity":0.346340601},{"slug":"computer-graphics","similarity":0.3155587825},{"slug":"vuejs","similarity":0.3244158877},{"slug":"crontab","similarity":0.3672605471},{"slug":"database","similarity":0.3380274756},{"slug":"추론 애플리케이션","similarity":0.2233986575},{"slug":"python","similarity":0.4200505662},{"slug":"tools","similarity":0.321760468},{"slug":"nodejs","similarity":0.4182640503},{"slug":"ollama","similarity":0.3968292702},{"slug":"web","similarity":0.4109776214},{"slug":"space","similarity":0.1532432216},{"slug":"rust","similarity":0.3366643968},{"slug":"treesitter","similarity":0.5660637071},{"slug":"spring-framework","similarity":0.2835468217},{"slug":"chrome-browser","similarity":0.3290507904},{"slug":"markdown","similarity":0.5320156311},{"slug":"shell","similarity":0.5347901966},{"slug":"logging","similarity":0.2846029822},{"slug":"jetbrains","similarity":0.3855326748},{"slug":"google-analytics","similarity":0.2225439197},{"slug":"company","similarity":0.2820187478},{"slug":"curl","similarity":0.3028172802},{"slug":"inspiration","similarity":0.3251292188},{"slug":"philosophy","similarity":0.3736467634},{"slug":"programming-convention","similarity":0.365168781},{"slug":"tmux","similarity":0.423511222},{"slug":"2016-11-16-google-campus-two-things-you-must-keep-in-google-play","similarity":0.1995039043},{"slug":"git","similarity":0.458873111},{"slug":"kotlin","similarity":0.3317606441},{"slug":"design-pattern","similarity":0.3535078369},{"slug":"cat-logic","similarity":0.3543364384},{"slug":"machine-learning","similarity":0.3897468849},{"slug":"algorithm","similarity":0.2901097515},{"slug":"javascript","similarity":0.3782353089},{"slug":"mac-os","similarity":0.3767962853},{"slug":"architecture","similarity":0.3450369449},{"slug":"playwright","similarity":0.2972696869},{"slug":"jira","similarity":0.3099858843},{"slug":"book","similarity":0.3165373586},{"slug":"model-context-protocol","similarity":0.2891378457},{"slug":"vim","similarity":1},{"slug":"angularjs","similarity":0.3402437131},{"slug":"2016-08-27-gdg-webtech-workshop-nnn","similarity":0.327707594},{"slug":"vim-plugins","similarity":0.5441410387},{"slug":"aws","similarity":0.3272817635},{"slug":"gatsbyjs","similarity":0.3703417681},{"slug":"game","similarity":0.2930639244}]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#vim\">Vim</a></p>\n<ul>\n<li>\n<p><a href=\"#neovim\">Neovim</a></p>\n<ul>\n<li><a href=\"#lua-%EA%B0%80%EC%9D%B4%EB%93%9C\">Lua 가이드</a></li>\n<li><a href=\"#%EB%82%B4%EC%9E%A5-language-server-protocol-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">내장 Language Server Protocol 사용하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%8F%84%EC%9B%80%EB%A7%90-help\">도움말 <code class=\"language-text\">:help</code></a></p>\n<ul>\n<li><a href=\"#%EB%8F%84%EC%9B%80%EB%A7%90-%ED%83%90%EC%83%89%ED%95%98%EA%B8%B0\">도움말 탐색하기</a></li>\n<li><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A1%B0%ED%95%A9%EC%97%90-%EA%B4%80%ED%95%9C-%ED%8C%81\">명령어 조합에 관한 팁</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%82%AC%EC%9A%A9-%EC%82%AC%EB%A1%80\">사용 사례</a></p>\n<ul>\n<li><a href=\"#%ED%8C%8C%EC%9D%BC-%EA%B2%80%EC%83%89\">파일 검색</a></li>\n<li><a href=\"#%EC%B0%BD-%EB%84%A4%EB%B9%84%EA%B2%8C%EC%9D%B4%EC%85%98\">창 네비게이션</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%82%B4%EC%9E%A5-%EA%B8%B0%EB%8A%A5\">내장 기능</a></p>\n<ul>\n<li>\n<p><a href=\"#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%8B%9C%EC%8A%A4%ED%85%9C\">플러그인 시스템</a></p>\n</li>\n<li>\n<p><a href=\"#quickfix--location-list\">quickfix &#x26; location list</a></p>\n<ul>\n<li><a href=\"#commands\">commands</a></li>\n<li><a href=\"#grep\">grep</a></li>\n<li><a href=\"#cdo-ldo-%EA%B2%80%EC%83%89%EB%90%9C-%EB%AA%A8%EB%93%A0-entry%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9\"><code class=\"language-text\">cdo</code>, <code class=\"language-text\">ldo</code> 검색된 모든 entry에 명령어 적용</a></li>\n<li><a href=\"#cfdo-lfdo-%EA%B2%80%EC%83%89%EB%90%9C-%EB%AA%A8%EB%93%A0-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9\"><code class=\"language-text\">cfdo</code>, <code class=\"language-text\">lfdo</code> 검색된 모든 파일에 명령어 적용</a></li>\n<li><a href=\"#bufdo-%EB%AA%A8%EB%93%A0-buffer-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9\"><code class=\"language-text\">bufdo</code> 모든 buffer 파일에 명령어 적용</a></li>\n<li><a href=\"#user-function\">User Function</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#fuzzy-%EB%A7%A4%EC%B9%AD-matchfuzzy\">Fuzzy 매칭: <code class=\"language-text\">matchfuzzy()</code></a></p>\n</li>\n<li>\n<p><a href=\"#make-and-makeprg\"><code class=\"language-text\">:make</code> and <code class=\"language-text\">makeprg</code></a></p>\n<ul>\n<li><a href=\"#build-integration---how-to-do-90-of-what-plugins-do\">build integration - How to Do 90% of What Plugins Do</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#matchit\">matchit</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%84%B0%EB%AF%B8%EB%84%90-%EC%97%90%EB%AE%AC%EB%A0%88%EC%9D%B4%ED%84%B0\">터미널 에뮬레이터</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9E%90%EB%8F%99-%EC%84%9C%EC%8B%9D-formatoptions\">자동 서식: <code class=\"language-text\">formatoptions</code></a></p>\n</li>\n<li>\n<p><a href=\"#%EC%8B%A4%ED%96%89%EC%B7%A8%EC%86%8Cundo-%EA%B4%80%EB%A6%AClocal-history\">실행취소(undo) 관리(Local History)</a></p>\n<ul>\n<li><a href=\"#undotree-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8\">undotree 플러그인</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9E%90%EB%8F%99%EC%99%84%EC%84%B1\">자동완성</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B5%AC%EB%AC%B8-%EA%B0%95%EC%A1%B0\">구문 강조</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0registers\">레지스터(Registers)</a></p>\n</li>\n<li>\n<p><a href=\"#variables\">Variables</a></p>\n<ul>\n<li><a href=\"#path\"><code class=\"language-text\">path</code></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#text-objects\">Text Objects</a></p>\n</li>\n<li>\n<p><a href=\"#plugin-%EB%A7%8C%EB%93%A4%EA%B8%B0\">Plugin 만들기</a></p>\n<ul>\n<li><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0\">프로젝트 구조</a></li>\n<li><a href=\"#autoload\"><code class=\"language-text\">autoload</code></a></li>\n<li><a href=\"#ftplugin\"><code class=\"language-text\">ftplugin</code></a></li>\n<li><a href=\"#plug-sid\"><code class=\"language-text\">&lt;Plug></code> <code class=\"language-text\">&lt;SID></code></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9A%A9%EC%96%B4\">용어</a></p>\n<ul>\n<li><a href=\"#pager----more---%EB%A1%9C-%EC%B6%9C%EB%A0%A5%EB%90%98%EB%8A%94-%ED%99%94%EB%A9%B4\">pager: <code class=\"language-text\">-- More --</code>로 출력되는 화면</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#tips\">Tips</a></p>\n<ul>\n<li>\n<p><a href=\"#mapping-%EC%8B%9C-cr-vs-cmdcr\">mapping 시 <code class=\"language-text\">:...&lt;cr></code> vs <code class=\"language-text\">&lt;cmd>...&lt;cr></code></a></p>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BC%EB%A7%81-%ED%95%98%EA%B8%B0\">프로파일링 하기</a></p>\n</li>\n<li>\n<p><a href=\"#text-object-%EA%B0%9C%EC%84%A0%ED%95%98%EA%B8%B0\">text object 개선하기</a></p>\n<ul>\n<li><a href=\"#vim-pythonsense\">vim-pythonsense</a></li>\n<li><a href=\"#vim-expand-region\">vim-expand-region</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#command-%EB%8C%80%EC%8B%A0-command%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%9E%90\"><code class=\"language-text\">command</code> 대신 <code class=\"language-text\">command!</code>를 사용하자.</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%98%B5%EC%85%98%EC%9D%B4-%EC%96%B4%EB%8A%90-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EB%B3%80%EA%B2%BD%EB%90%98%EC%97%88%EB%8A%94%EC%A7%80-%EC%95%8C%EB%A0%A4%EB%A9%B4-verbose\">옵션이 어느 파일에서 변경되었는지 알려면 <code class=\"language-text\">:verbose</code></a></p>\n</li>\n<li>\n<p><a href=\"#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98%EB%90%98%EC%96%B4-%EC%9E%88%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\">플러그인 설치되어 있는지 확인하기</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0\">문제 해결</a></p>\n<ul>\n<li><a href=\"#typescript-filetype-%EB%AC%B8%EC%A0%9C\">Typescript filetype 문제</a></li>\n<li><a href=\"#colorscheme-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8%EC%9D%B4-%EC%A0%90%EC%A0%90-%EB%8A%90%EB%A0%A4%EC%A7%80%EA%B2%8C-%EB%A7%8C%EB%93%9C%EB%8A%94-%ED%98%84%EC%83%81\">colorscheme 플러그인이 점점 느려지게 만드는 현상</a></li>\n<li><a href=\"#ubuntu%EC%97%90-%EC%84%A4%EC%B9%98%ED%95%9C-vim%EC%9D%B4-%EC%8B%9C%EC%9E%91-%EC%8B%9C-vimrc%EC%97%90%EC%84%9C-%EB%A7%8E%EC%9D%80-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%ED%98%84%EC%83%81\">Ubuntu에 설치한 vim이 시작 시 <code class=\"language-text\">.vimrc</code>에서 많은 에러가 발생하는 현상</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B4%80%EB%A0%A8-%EA%B8%B0%EC%82%AC\">관련 기사</a></p>\n</li>\n<li>\n<p><a href=\"#troubleshooting\">Troubleshooting</a></p>\n<ul>\n<li><a href=\"#git-commit-%EC%8B%9C-waiting-for-your-editor-to-close-the-file-%EB%A9%94%EC%8B%9C%EC%A7%80%EC%99%80-%ED%95%A8%EA%BB%98-%EC%BB%A4%EB%B0%8B%EC%9D%B4-%EC%95%88%EB%90%98%EB%8A%94-%EB%AC%B8%EC%A0%9C\">Git commit 시 \"Waiting for your editor to close the file...\" 메시지와 함께 커밋이 안되는 문제</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","html":"<h1 id=\"vim\" style=\"position:relative;\"><a href=\"#vim\" aria-label=\"vim permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vim</h1>\n<p>터미널 기반 텍스트 편집기.</p>\n<p><a href=\"https://github.com/Edunga1/dotfiles/blob/master/vim/.vimrc\">.vimrc</a>는 vim 설정 파일이다.\n누구나 같은 설정 파일을 사용한다면 같은 환경을 재현할 수 있다.\nvim은 사람마다 다른 형태를 가지면서도 복제하기 쉽다.</p>\n<p>vim 보다 <a href=\"https://github.com/neovim/neovim\">neovim</a>을 사용중이다.\nneovim은 vim의 fork라 호환성이 유지돼서 바로 넘어가더라도 큰 문제가 없다.\n기존 vim 설정을 조금 수정해야 하는데, neovim 메뉴얼 <code class=\"language-text\">:h nvim-from-vim</code>에 잘 설명되어 있다.\nvim에서 제공하는 기능은 대부분 neovim에서도 사용할 수 있다. 다만 2023년 11월 기준으로 vim 9.0은 아직인 듯.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Vim_(text_editor)\">Wikipedia</a> 배포 내역을 보면,\n8.0 이전까지는 배포가 느렸지만, 8.0부터는 모던 에디터의 추세에 맞춰 팝업 Window와 비동기 I/O 등이 추가되었다.\n이전에는 Bram이 대부분 혼자서 개발하느라 느렸던 것으로 알고있다.\n<a href=\"https://github.com/vim/vim#sponsoring\">GitHub vim 저장소</a>를 보면 Bram은 직장에 복귀했다고 한다.\n그래서 8.0 이후로는 다양한 사람들이 기여하고 있다.</p>\n<p>Vim 창시자인 Bram Moolenaar는 2023년 8월 5일에 생을 마감했다.<br>\n공식 저장소는 그의 의지를 이어받아 우간다의 아이들을 돕기 위해 후원금을 받고있다.<br>\n우간다에 대한 이야기는 <code class=\"language-text\">:h uganda</code>에서 확인할 수 있다.</p>\n<p>vim은 에디터를 개선해 나가는 즐거움을 준다.\n시작은 불편하고, 아무 기능도 없는 텍스트 편집기지만, 플러그인과 설정을 추가함에 따라 IDE로, 별도 도구로 변한다.\n다른 에디터라면 버전업 될 때마다 설렘이 있겠지만, vim은 그 설렘이 나로부터 시작된다.\n불필요한 기능을 제거하는 것이 아니라, 필요한 기능을 추가한다는 점은 vim만의 차별화된 특성이다.</p>\n<p>vimscript라는 자체 스크립트를 제공하는데, 학습하기 꽤 어려운 언어이다.\n<a href=\"https://www.reddit.com/r/neovim/comments/l1mne8/learning_vimscript_vs_lua/\">어떤 글</a>에서는 정규식에 빗대어, 학습하는 것이 아니라 그냥 사용하는 것이라고 한다:</p>\n<blockquote>\n<p>Vimscript is like regex, you don't learn it, just use it.</p>\n</blockquote>\n<p>창시자인 Bram Moolenaar의 <a href=\"https://yozm.wishket.com/magazine/detail/2183/\">23년 인터뷰 중</a>에서 플러그인을 많이 사용하지 않는다고 한다:</p>\n<blockquote>\n<p>사실 저는 배포판에 포함된 플러그인(matchit, termdebug 등)을 제외하고는 플러그인 자체를 많이 사용하지 않습니다. 필요한 기능이 있으면 간단한 것은 바로 만들거나 Vim 베이스에 추가하는 편입니다.</p>\n</blockquote>\n<p>Vim 자체는 텍스트 편집기일 뿐이기 때문에, IDE처럼 사용하기 위해서는 플러그인이 필요하다.\n자세한 사항은 아래의 <a href=\"#%EB%82%B4%EC%9E%A5-language-server-protocol-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">내장 Language Server Protocol 사용하기</a>를 참고하자.</p>\n<h2 id=\"neovim\" style=\"position:relative;\"><a href=\"#neovim\" aria-label=\"neovim permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Neovim</h2>\n<p>Neovim은 vim을 fork하고, vimscript와 더불어 lua도 지원하며, 더 확장된 기능을 제공한다.</p>\n<p><a href=\"https://github.com/neovim/neovim\">https://github.com/neovim/neovim</a></p>\n<p>검색해보면 neovim 커뮤니티에서는 vim에 대한 불만이 많이 보인다. :0<br>\n아무래도 원작자인 Bram의 방향성과 상충되어서가 아닐까. 잘 모르겠다.</p>\n<p>neovim으로 이전한 이유는 <a href=\"../language-server-protocol\">LSP</a>를 사용하기 위함이었다.\nneovim은 LSP를 자체적으로 제공한다. 바닐라 vim은 <a href=\"https://github.com/neoclide/coc.nvim\">coc.nvim</a>을 사용해야 한다.\ncoc.nvim은 자체 플러그인 기능으로 편리하게 다양한 언어 서버를 설치할 수 있어서 편리하지만, neovim 자체 기능보다는 느리다.\n솔직하게 말하면 답답할 정도.</p>\n<p>개인적으로는 Lua를 <a href=\"../game#ultima-online\">Ultima Online</a>의 스크립트 언어로 사용한 경험을 비추어 보았을 때,\n딱히 생산성이나 편의성이 높지는 않았다. 다만 vimscript 보다는 학습 곡선이 낮다.</p>\n<p>vim에서 사용하는 변수, 옵션, 함수를 lua 스크립트에서도 사용할 수 있다.\n그래서 <code class=\"language-text\">.vimrc</code> 내용을 lua로 이전할 수 있는데, 나는 그냥 vimscript로 사용중이다.</p>\n<p>lua 스크립트로만 초기화할 수 있는 플러그인들이 있다.\nneovim에 맞춰진 플러그인은 ~.nvim 이라는 접미사를 붙이는 것이 관례인데,\n이런 플러그인들은 lua 스크립트로 include해서 직접 초기화하는 방식을 주로 사용한다.\n예를들어 <a href=\"https://github.com/neovim/nvim-lspconfig\">nvim-lsp</a>를 보면 <code class=\"language-text\">require'lspconfig'.pyright.setup{}</code>로 초기화한다.</p>\n<p>vim과 neovim의 다른점은 <code class=\"language-text\">:h vim-differences</code>에서 확인하자.</p>\n<h3 id=\"lua-가이드\" style=\"position:relative;\"><a href=\"#lua-%EA%B0%80%EC%9D%B4%EB%93%9C\" aria-label=\"lua 가이드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lua 가이드</h3>\n<p><a href=\"https://github.com/nanotee/nvim-lua-guide#modules\">https://github.com/nanotee/nvim-lua-guide#modules</a></p>\n<ul>\n<li>내 custom lua 파일을 가져올 때 lua/ 내에서 찾는다.\n<ul>\n<li>runtimepath간 이름 충돌이 발생할 수 있다.</li>\n</ul>\n</li>\n</ul>\n<p><code class=\"language-text\">init.vim</code> 대신 <code class=\"language-text\">init.lua</code>에서 설정을 명세할 수 있다.</p>\n<p>vim 함수를 <code class=\"language-text\">:call Foo()</code>로 호출하는 것처럼, lua 함수도 <code class=\"language-text\">:lua Foo()</code>로 호출할 수 있다.\n예를들어 LSP에 설정된 코드 액션 매핑이 있는데:</p>\n<div class=\"gatsby-highlight\" data-language=\"lua\"><pre class=\"language-lua\"><code class=\"language-lua\">vim<span class=\"token punctuation\">.</span>keymap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'n'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'&lt;space>ca'</span><span class=\"token punctuation\">,</span> vim<span class=\"token punctuation\">.</span>lsp<span class=\"token punctuation\">.</span>buf<span class=\"token punctuation\">.</span>code_action<span class=\"token punctuation\">,</span> bufopts<span class=\"token punctuation\">)</span></code></pre></div>\n<p>직접 호출하려면 <code class=\"language-text\">:lua vim.lsp.buf.code_action()</code>로 호출한다.</p>\n<h3 id=\"내장-language-server-protocol-사용하기\" style=\"position:relative;\"><a href=\"#%EB%82%B4%EC%9E%A5-language-server-protocol-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"내장 language server protocol 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>내장 Language Server Protocol 사용하기</h3>\n<p>Neovim은 자체적으로 <a href=\"../language-server-protocol\">Language Server Protocol</a>을 제공한다.</p>\n<p>Vim을 IDE처럼 사용하기 위해서는 몇 가지 플러그인이 필요하다.</p>\n<p><a href=\"https://github.com/Edunga1/dotfiles/blob/master/vim/.vimrc#L28-L33\">.vimrc</a>에 다음 플러그인을 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Plug 'neovim/nvim-lspconfig'\nPlug 'williamboman/mason.nvim'\nPlug 'williamboman/mason-lspconfig.nvim'\nPlug 'nvimtools/none-ls.nvim'</code></pre></div>\n<p>각 플러그인의 역할은 다음과 같다:</p>\n<ul>\n<li><a href=\"https://github.com/neovim/nvim-lspconfig\">nvim-lspconfig</a>: LSP 설정을 쉽게 관리한다. nvim 만으로도 LSP를 사용할 수 있지만, 이 플러그인을 사용하면 더 편리하다.</li>\n<li><a href=\"https://github.com/williamboman/mason.nvim\">mason &#x26; mason-lspconfig</a>: language server와 개발 도구를 관리한다. 직접 executable 설치해야 하는 수고를 덜 수 있다.</li>\n<li><a href=\"https://github.com/nvimtools/none-ls.nvim\">none-ls(null-ls)</a>: LSP가 아닌 도구(prettier, ruff 등)를 LSP처럼 사용할 수 있게 연결해 준다.</li>\n</ul>\n<p>null-ls는 개발 중단하면서, none-ls 프로젝트에서 개발 진행한다.\nlua init 파일에서 다음과 같이 설정한다:</p>\n<div class=\"gatsby-highlight\" data-language=\"lua\"><pre class=\"language-lua\"><code class=\"language-lua\"><span class=\"token comment\">-- none-ls 설정은 생략</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mason\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mason-lspconfig\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nrequire<span class=\"token string\">'lspconfig'</span><span class=\"token punctuation\">.</span>tsserver<span class=\"token punctuation\">.</span><span class=\"token function\">setup</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Language Server를 설치한다: <code class=\"language-text\">:MasonInstall typescript-language-server</code><br>\n<code class=\"language-text\">:Mason</code> 명령으로 대화형 UI를 통해 목록을 확인하고 설치할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/d8c86/nvim-mason-example.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR42pWTS0/CQBSF+1fUIAqosFDSBmKMFgiFEFaEqCzcNqFQyqstffBmAX/5eO8IRkSJLr7MtDP39NxHpZOzU1SrVUGlUkG5XEapVIKmadBozeVyuH94Ih6hqiqKxaI4/wrf5dhoNAopnkojDAMixGg0EkwmE6xWKwHvw/EYAZ3znfl8juVyucdiscBms0E2m4WUvE2j1W5D13UYhoE27TudjsAkrG4XlmVhMBggCAJ4nncAm5hOp5BlGVIsEUev1xP0+30B71nAcxx4W9ccyII/4fu+cK4oCqSbuwxc18VwOBSwUJdcGc0mdNuGTWn6W8FdSVjgV8FEIiYEOVWGBaezGV7rdSimCYcuhkfcHQheXKfgUmomBTPsziUXLySYoRqGJB58c3Q85XTm0yE3hQW5m8+1GrKtFny6+C/BxNUlHNuhrpqiszbVbUyj8tZoQKXuOrTf1fA39rocTcrCIb/kr/BMMTxfK56z7fMxOG69Xn/M4XksLqa/UCiIlSeepz+fz/8Z/ps4NhKJ4B0+vvQYgMYsZQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mason example\"\n        title=\"\"\n        src=\"/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/fcda8/nvim-mason-example.png\"\n        srcset=\"/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/12f09/nvim-mason-example.png 148w,\n/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/e4a3f/nvim-mason-example.png 295w,\n/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/fcda8/nvim-mason-example.png 590w,\n/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/efc66/nvim-mason-example.png 885w,\n/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/c83ae/nvim-mason-example.png 1180w,\n/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/d8c86/nvim-mason-example.png 1663w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이제 설치한 language server가 지원하는 파일을 열면 자동으로 LSP가 활성화된다.<br>\n<code class=\"language-text\">:LspInfo</code>로 현재 활성화된 LSP 목록을 확인할 수 있다.</p>\n<p><code class=\"language-text\">&lt;C-]></code>로 변수, 함수 등 정의부나 심볼로 이동하도록 매핑되어 있다(<code class=\"language-text\">:h vim.lsp.tagfunc()</code>).\n<a href=\"https://github.com/Edunga1/dotfiles/blob/9da2e8fafc64921b9ab458215ef7e5e6977f543f/vim/lua/lsp/servers/utils/common.lua#L15\">직접 정의부 이동을 매핑</a>하고 사용해보면 매끄럽지 않다.\nneovim이 직접 tagfunc을 <a href=\"https://github.com/neovim/neovim/blob/5371659524089b425887af1ce14bf9a374f0f234/runtime/lua/vim/lsp/_tagfunc.lua#L93\">구현한 것</a>을 사용하는 편이 낫다.</p>\n<hr>\n<ul>\n<li><a href=\"../server_configurations\">nvim-lspconfig/server_configurations.md</a>에서 설정 가능한 language server 목록을 확인할 수 있다.\n<ul>\n<li>또는 <code class=\"language-text\">:h lspconfig-all</code> 도움말에서 확인할 수 있다.</li>\n</ul>\n</li>\n<li><a href=\"../BUILTINS\">none-js/BUILTINS</a> 제공하는 lsp 도구 목록</li>\n</ul>\n<h2 id=\"도움말-help\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%9B%80%EB%A7%90-help\" aria-label=\"도움말 help permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도움말 <code class=\"language-text\">:help</code></h2>\n<p>vim 도움말. 명령어, 함수, 변수 등 키워드로 도움말을 제공한다.\n기능이 많으므로 도움말을 보는 방법은 필수적으로 알아둬야 한다.</p>\n<p><code class=\"language-text\">:h help</code>는 도움말에 대한 도움말이다.\n도움말 창이 뜨면 노말 모드처럼 탐색하면 된다.</p>\n<p>설치한 플러그인의 도움말도 여기서 제공하므로 같은 경험을 준다.</p>\n<p><code class=\"language-text\">:h KEYWORD</code>와 같이 사용한다.\n키워드 전체를 입력하지 않아도 된다.\n키워드 일부만 입력해도 가장 근접한 키워드를 찾는다.\n예를들어 <code class=\"language-text\">:h usr_12.txt</code> 대신 <code class=\"language-text\">:h 12.txt</code>만 입력해도 된다.</p>\n<h3 id=\"도움말-탐색하기\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%9B%80%EB%A7%90-%ED%83%90%EC%83%89%ED%95%98%EA%B8%B0\" aria-label=\"도움말 탐색하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도움말 탐색하기</h3>\n<p>도움말은 다른 도움말에 대한 링크를 포함한다.</p>\n<p>링크는 색상이 강조되어 표기된다.\n키워드에 커서를 위치시키고 <code class=\"language-text\">CTRL-]</code>를 누르면 해당 섹션으로 이동한다.</p>\n<p>일반 텍스트도 <code class=\"language-text\">CTRL-]</code>로 이동할 수 있는데,\n<code class=\"language-text\">CTRL-]</code>의 기능은 단순히 키워드의 정의를 찾는 기능이기 때문이다.</p>\n<h3 id=\"명령어-조합에-관한-팁\" style=\"position:relative;\"><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A1%B0%ED%95%A9%EC%97%90-%EA%B4%80%ED%95%9C-%ED%8C%81\" aria-label=\"명령어 조합에 관한 팁 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>명령어 조합에 관한 팁</h3>\n<p><code class=\"language-text\">:h usr_12.txt</code>는 유용한 명령어 조합에 대한 팁이 담긴 메뉴얼이다.</p>\n<p><code class=\"language-text\">:h 12.4</code>는 모든 줄을 역정렬하는 방법을 설명한다.</p>\n<p><code class=\"language-text\">:global/^/move 0</code>로 전체 줄을 역정렬할 수 있다. <code class=\"language-text\">move 0</code>가 이동할 줄 번호를 의미하므로, <code class=\"language-text\">move 10</code>이면 10번째 아래의 모든 줄만 역정렬한다.</p>\n<h2 id=\"사용-사례\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EC%82%AC%EB%A1%80\" aria-label=\"사용 사례 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용 사례</h2>\n<h3 id=\"파일-검색\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%EC%9D%BC-%EA%B2%80%EC%83%89\" aria-label=\"파일 검색 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>파일 검색</h3>\n<p><a href=\"https://github.com/junegunn/fzf.vim\">fzf.vim</a>이 제공하는 기능 몇가지를 사용한다.</p>\n<p>fzf.vim이 제공하는 미리보기 창으로 파일을 검색한다.\n코드를 미리 볼 수 있고, interactive 검색이 가능한 장점이 있다.</p>\n<ol>\n<li>ctrl + p</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\">nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span><span class=\"token keyword\">p</span><span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> fzf#<span class=\"token keyword\">vim</span>#<span class=\"token function\">gitfiles</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'dir'</span><span class=\"token punctuation\">:</span> <span class=\"token function\">getcwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span></code></pre></div>\n<p><code class=\"language-text\">:GFiles</code>는 버퍼의 디렉토리 기준으로 검색한다.\n버퍼 파일이 git 프로젝트가 아니라면 <code class=\"language-text\">Not in git repo</code> 경고와 함께 실패하는게 스트레스인 것도 덤.\n<code class=\"language-text\">getcwd()</code>를 전달하여, 현재 작업 디렉토리 기준으로 검색하도록 변경했다.</p>\n<ol start=\"2\">\n<li><code class=\"language-text\">:Rg</code> or <code class=\"language-text\">:Ag</code></li>\n</ol>\n<p>각각 <a href=\"https://github.com/BurntSushi/ripgrep\">ripgrep</a>, <a href=\"https://github.com/ggreer/the_silver_searcher\">the_silver_searcher를</a> 사용하는 명렁어다.\n따라서 각 도구 설치가 필요하다.</p>\n<p>도구 이름에서 보이듯이 grep, 즉 파일 내용을 검색한다.\n검색 결과 미리보기 창에서 다시 검색할 수 있다.</p>\n<p>두 도구 차이점은 모르겠다. 검색 결과는 조금 다르다.</p>\n<h3 id=\"창-네비게이션\" style=\"position:relative;\"><a href=\"#%EC%B0%BD-%EB%84%A4%EB%B9%84%EA%B2%8C%EC%9D%B4%EC%85%98\" aria-label=\"창 네비게이션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>창 네비게이션</h3>\n<ol>\n<li>팝업 창으로 커서 이동</li>\n</ol>\n<p>nvim의 diagnostic 또는 hover(<s-k>)는 팝업 창을 띄운다.\n커서를 옮기면 팝업 창이 사라지는데, 팝업 안으로 커서를 이동하려면 <code class=\"language-text\">&lt;c-w>w</code>를 사용한다.(<code class=\"language-text\">:h CTRL-W_w</code>)</p>\n<h2 id=\"내장-기능\" style=\"position:relative;\"><a href=\"#%EB%82%B4%EC%9E%A5-%EA%B8%B0%EB%8A%A5\" aria-label=\"내장 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>내장 기능</h2>\n<h3 id=\"플러그인-시스템\" style=\"position:relative;\"><a href=\"#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%8B%9C%EC%8A%A4%ED%85%9C\" aria-label=\"플러그인 시스템 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>플러그인 시스템</h3>\n<p><a href=\"../vim-plugins\">Vim 플러그인 문서</a> 참조.</p>\n<h3 id=\"quickfix--location-list\" style=\"position:relative;\"><a href=\"#quickfix--location-list\" aria-label=\"quickfix  location list permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>quickfix &#x26; location list</h3>\n<p><code class=\"language-text\">:h quickfix</code> <code class=\"language-text\">:h location-list</code></p>\n<p>파일 위치를 목록으로 관리한다.\nquickfix는 모든 창에서, location-list는 현재 창에서만 유지한다는 점이 다르다.</p>\n<p>ref. <a href=\"https://freshman.tech/vim-quickfix-and-location-list/\">https://freshman.tech/vim-quickfix-and-location-list/</a></p>\n<p>목록에 나타난 코드를 한꺼번에 수정할 수 있는데, 동시에 여러 파일을 수정하는 용도로 사용한다.</p>\n<h4 id=\"commands\" style=\"position:relative;\"><a href=\"#commands\" aria-label=\"commands permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>commands</h4>\n<ul>\n<li><code class=\"language-text\">cnext</code>: 다음 지점으로.</li>\n<li><code class=\"language-text\">cprevious</code>: 이전 지점으로.</li>\n<li><code class=\"language-text\">copen</code>: 목록을 연다.</li>\n</ul>\n<p>location-list의 명령어는 prefix <code class=\"language-text\">c</code> -> <code class=\"language-text\">l</code> 바꾸면 대응한다.</p>\n<h4 id=\"grep\" style=\"position:relative;\"><a href=\"#grep\" aria-label=\"grep permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>grep</h4>\n<p>e.g. <code class=\"language-text\">:vimgrep /myfunc/ **/*.c</code></p>\n<p><code class=\"language-text\">:h vimgrep</code> <code class=\"language-text\">:grep</code> <code class=\"language-text\">:lgrep</code>(location-list)</p>\n<p>패턴을 검색하고 결과를 quickfix 목록으로 만든다.</p>\n<h4 id=\"cdo-ldo-검색된-모든-entry에-명령어-적용\" style=\"position:relative;\"><a href=\"#cdo-ldo-%EA%B2%80%EC%83%89%EB%90%9C-%EB%AA%A8%EB%93%A0-entry%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9\" aria-label=\"cdo ldo 검색된 모든 entry에 명령어 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">cdo</code>, <code class=\"language-text\">ldo</code> 검색된 모든 entry에 명령어 적용</h4>\n<p><code class=\"language-text\">cdo s/foo/bar</code> <code class=\"language-text\">ldo s/foo/bar</code></p>\n<p>quickfix, location-list 검색 결과에 명령어를 적용한다.</p>\n<p>grep으로 검색하고, cdo로 적용, 예시:</p>\n<ol>\n<li><code class=\"language-text\">:vimgrep foo **/*.md</code> 모든 <code class=\"language-text\">md</code> 파일에서 <code class=\"language-text\">foo</code> 검색한다.</li>\n<li><code class=\"language-text\">:copen</code> 검색 결과 확인하고.</li>\n<li><code class=\"language-text\">cdo s/foo/bar</code> 검색 결과에서 <code class=\"language-text\">foo</code> -> <code class=\"language-text\">bar</code> 대체한다.</li>\n</ol>\n<p><code class=\"language-text\">:cdo s/foo/bar | update</code></p>\n<p><code class=\"language-text\">| update</code>를 사용하면 수정과 함께 저장한다.</p>\n<h4 id=\"cfdo-lfdo-검색된-모든-파일에-명령어-적용\" style=\"position:relative;\"><a href=\"#cfdo-lfdo-%EA%B2%80%EC%83%89%EB%90%9C-%EB%AA%A8%EB%93%A0-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9\" aria-label=\"cfdo lfdo 검색된 모든 파일에 명령어 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">cfdo</code>, <code class=\"language-text\">lfdo</code> 검색된 모든 파일에 명령어 적용</h4>\n<p><code class=\"language-text\">:cfdo %s/foo/bar</code> or <code class=\"language-text\">:ldo %s/foo/bar</code></p>\n<p><code class=\"language-text\">cdo</code>와 차이점은 파일 모든 내용에 대해서 적용한다는 점이 다르다. 검색 목록에서 보이지 않는 라인도 적용되니 주의.</p>\n<h4 id=\"bufdo-모든-buffer-파일에-명령어-적용\" style=\"position:relative;\"><a href=\"#bufdo-%EB%AA%A8%EB%93%A0-buffer-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9\" aria-label=\"bufdo 모든 buffer 파일에 명령어 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">bufdo</code> 모든 buffer 파일에 명령어 적용</h4>\n<p><code class=\"language-text\">:bufdo %s/foo/bar</code></p>\n<p>모든 buffer에 대해서 적용하므로 <code class=\"language-text\">:buffers</code>등 명령어로 적용 대상을 잘 확인하자.</p>\n<h4 id=\"user-function\" style=\"position:relative;\"><a href=\"#user-function\" aria-label=\"user function permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>User Function</h4>\n<p>사용자 함수에 대한 메뉴얼은 <code class=\"language-text\">:help userfunc</code>에서 설명한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">MyFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n  echo <span class=\"token string\">\"Hello World!\"</span>\n<span class=\"token keyword\">endfunction</span></code></pre></div>\n<p>위 함수는 <code class=\"language-text\">:call MyFunction()</code>으로 호출할 수 있다.</p>\n<p><code class=\"language-text\">function!</code>의 <code class=\"language-text\">!</code>는 함수가 이미 존재하면 덮어쓴다는 의미다.\n<code class=\"language-text\">function</code>은 함수가 이미 존재하면 에러가 발생한다.\n<code class=\"language-text\">:help E122</code>에서 설명한다.</p>\n<p><code class=\"language-text\">abort</code>는 에러가 발생하면 함수를 거기서 종료한다. <code class=\"language-text\">:help func-abort</code>에서 설명한다.</p>\n<hr>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">MyFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  echo <span class=\"token string\">\"Hello World!\"</span>\n<span class=\"token keyword\">endfunction</span></code></pre></div>\n<p><code class=\"language-text\">s:</code>를 붙이면 local function이 된다.\n함수는 정의된 스크립트에서만 호출할 수 있다. 즉, <code class=\"language-text\">call MyFunction()</code>로 호출할 수 없다.\nvim은 많은 플러그인을 통해 함수가 정의되어 이름 충돌할 수 있으므로 local function을 사용하는 것이 좋다.</p>\n<h3 id=\"fuzzy-매칭-matchfuzzy\" style=\"position:relative;\"><a href=\"#fuzzy-%EB%A7%A4%EC%B9%AD-matchfuzzy\" aria-label=\"fuzzy 매칭 matchfuzzy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fuzzy 매칭: <code class=\"language-text\">matchfuzzy()</code></h3>\n<p><code class=\"language-text\">:h matchfuzzy()</code></p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token punctuation\">:</span>echo <span class=\"token function\">matchfuzzy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'red apple'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'yellow banana'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ra'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">\" [</span><span class=\"token string\">'red apple'</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>dictionary를 검색할 수도 있다:</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> s<span class=\"token punctuation\">:</span>lst <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  \\ <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'john'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  \\ <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'jane'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  \\ <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'joe'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">40</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  \\ <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'jill'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  \\<span class=\"token punctuation\">]</span>\n\necho s<span class=\"token punctuation\">:</span>lst<span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">matchfuzzy</span><span class=\"token punctuation\">(</span><span class=\"token string\">'je'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'key'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'name'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">\" [{</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'joe'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'jane'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>fuzzy search하는 함수.</p>\n<h3 id=\"make-and-makeprg\" style=\"position:relative;\"><a href=\"#make-and-makeprg\" aria-label=\"make and makeprg permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">:make</code> and <code class=\"language-text\">makeprg</code></h3>\n<p><code class=\"language-text\">:make</code> 명령은 <code class=\"language-text\">makeprg</code>에 설정한 것을 실행한다.\n출력이 quickfix 양식이면 quickfix과 연동할 수 있다!</p>\n<h4 id=\"build-integration---how-to-do-90-of-what-plugins-do\" style=\"position:relative;\"><a href=\"#build-integration---how-to-do-90-of-what-plugins-do\" aria-label=\"build integration   how to do 90 of what plugins do permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>build integration - How to Do 90% of What Plugins Do</h4>\n<p><a href=\"https://youtu.be/XA2WjJbmmoM?t=3062\">https://youtu.be/XA2WjJbmmoM?t=3062</a></p>\n<p>영상 52분의 build integration 주제에서 설명한다.\nvim 내에서 테스트를 실행하고, 실패한 테스트가 있으면 quickfix를 통해 실패 지점으로 네비게이션할 수 있다.</p>\n<p>영상 일련 과정:</p>\n<ol>\n<li><code class=\"language-text\">makeprg</code> 설정한다.: <code class=\"language-text\">set makeprg=bundle\\ exec\\ rspec\\ -f\\ QuickfixFormatter</code></li>\n<li><code class=\"language-text\">:make</code> 명령으로 <code class=\"language-text\">rspec</code> 테스트 실행한다.</li>\n<li>테스트 실패한 지점을 quickfix로 보여준다.</li>\n</ol>\n<p><code class=\"language-text\">rspec</code>명령에 <code class=\"language-text\">--format QuickfixFormatter</code> 옵션으로 quickfix에서 사용할 수 있는 양식으로 출력된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/c1328/rspec-formatter.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsElEQVR42i2O0YqDMBREgwjSLe0SjCYqMUZNLdW42/7/v51m3T4MlzkMc0cs24YLATtNDLcbpne4dWV8PplfL4afnTF5v3hO8kwhT3xdz3xfLhRFQZZl5HmOEOJfIRWtjwdLKttj5M/P3mO7jt894vuecRjYUqlLz8I0E9KA+3JnS2NiTIOco65rqqpCWGvRWtM0zQHN5x5KXEp5BMuyPJiqFEopjDG0Kdu27UcdRmveuKFPOhq4gR4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rspec formatter\"\n        title=\"\"\n        src=\"/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/fcda8/rspec-formatter.png\"\n        srcset=\"/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/12f09/rspec-formatter.png 148w,\n/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/e4a3f/rspec-formatter.png 295w,\n/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/fcda8/rspec-formatter.png 590w,\n/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/c1328/rspec-formatter.png 866w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>다만 기본 제공되는 것은 아니고, 플러그인 같아 보인다. 문서에는 <code class=\"language-text\">QuickfixFormatter</code>에 대한 내용이 없다.</p>\n<p>ref. python traceback을 quickfix와 연동할 수 없냐는 질문: <a href=\"https://vi.stackexchange.com/questions/5110/quickfix-support-for-python-tracebacks\">Quickfix support for Python tracebacks</a></p>\n<h3 id=\"matchit\" style=\"position:relative;\"><a href=\"#matchit\" aria-label=\"matchit permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>matchit</h3>\n<p><code class=\"language-text\">:h matchit</code></p>\n<p><code class=\"language-text\">%</code>로 짝에 맞는 문자열로 커서를 이동한다.</p>\n<p>괄호의 경우 <code class=\"language-text\">{</code>에서 사용하면 반대편 <code class=\"language-text\">}</code>으로 이동한다.\nHTML 태그의 경우 <code class=\"language-text\">&lt;div></code>에서 사용하면 <code class=\"language-text\">&lt;/div></code>로 이동한다.\n그 외 xml, latex 등 다양한 언어를 지원한다고 한다.</p>\n<p>이전에는 없었던 기능인가 보다.\n<a href=\"https://github.com/vim-scripts/matchit.zip/\">matchit.zip</a>이라는 플러그인으로 제공되기도 했다.\n내 경우 다른 사람이 사용하던 <code class=\"language-text\">.vimrc</code>로 시작했는데, matchit.zip이 포함되어 있었다.</p>\n<h3 id=\"터미널-에뮬레이터\" style=\"position:relative;\"><a href=\"#%ED%84%B0%EB%AF%B8%EB%84%90-%EC%97%90%EB%AE%AC%EB%A0%88%EC%9D%B4%ED%84%B0\" aria-label=\"터미널 에뮬레이터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>터미널 에뮬레이터</h3>\n<p>vim에서 터미널을 실행할 수 있다. <code class=\"language-text\">:terminal</code> 명령어로 실행하면 <code class=\"language-text\">Terminal-mode</code>로 전환한다.</p>\n<p><code class=\"language-text\">:h terminal</code></p>\n<p>터미널 모드의 매핑은 <code class=\"language-text\">tmap</code>으로 설정한다. <code class=\"language-text\">:h mapmode-t</code>.</p>\n<p>다른 모드와 달리 커서가 동작하지 않고, 키 입력이 터미널로 전달되는데, <code class=\"language-text\">CTRL-\\ CTRL-N</code>으로 normal 모드로 전환할 수 있다.\n이건 터미널 모드 뿐만 아니라 아무 모드에서나 normal 모드로 전환하는 단축키다. <code class=\"language-text\">:h t_CTRL-\\_CTRL-N</code>.</p>\n<p>나는 불편해서 <code class=\"language-text\">&lt;leader>esc</code>로 normal 모드로 전환하는 매핑을 추가했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\">tnoremap <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>esc<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span>\\<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span><span class=\"token keyword\">n</span><span class=\"token operator\">></span></code></pre></div>\n<p>터미널 모드에서만 동작하게 <code class=\"language-text\">tnoremap</code>으로 설정했다.</p>\n<hr>\n<p><code class=\"language-text\">:terminal ls</code>와 같이 시작 명령어를 지정할 수 있다.<br>\n나는 markdown 파일 작업 중 <code class=\"language-text\">:terminal mdcat %</code>으로 현재 파일의 preview 보는 용도로 사용한다.<br>\n<a href=\"https://github.com/swsnr/mdcat\">mdcat</a>은 markdown용 cat이다.</p>\n<h3 id=\"자동-서식-formatoptions\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%8F%99-%EC%84%9C%EC%8B%9D-formatoptions\" aria-label=\"자동 서식 formatoptions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자동 서식: <code class=\"language-text\">formatoptions</code></h3>\n<p>vim으로 커밋 메시지를 작성할 때, 자동으로 줄바꿈 되는 것을 경험했다면 이 옵션이 사용된 것이다.(아마도 vim 기본 설정으로 보인다.)</p>\n<ul>\n<li><code class=\"language-text\">:h formatoptions</code></li>\n<li><code class=\"language-text\">:h fo-tables</code></li>\n</ul>\n<p><code class=\"language-text\">formatoptions</code>는 어떤 자동 서식을 적용할 지 옵션을 가지고있다. <code class=\"language-text\">:set formatoptions?</code>로 확인하자.</p>\n<p>Git 커밋메시지의 파일 타입은 <code class=\"language-text\">ft=gitcommit</code>이며, 옵션을 확인해보면 <code class=\"language-text\">formatoptions=jtln</code>이다.<br>\n이 중 <code class=\"language-text\">t</code>가 자동 줄바꿈 한다고 <code class=\"language-text\">:h fo-tables</code>에서 설명한다. <code class=\"language-text\">textwidth</code> 옵션 만큼 길어지면 자동 줄바꿈한다.<br>\n비활성화는 <code class=\"language-text\">t</code> 옵션을 제거하거나(<code class=\"language-text\">set formatoptions-=t</code>) <code class=\"language-text\">textwidth</code>를 0으로 설정하면 된다(<code class=\"language-text\">set textwidth=0</code>).</p>\n<h3 id=\"실행취소undo-관리local-history\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89%EC%B7%A8%EC%86%8Cundo-%EA%B4%80%EB%A6%AClocal-history\" aria-label=\"실행취소undo 관리local history permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실행취소(undo) 관리(Local History)</h3>\n<p>Vim은 실행취소 <code class=\"language-text\">u</code>와 다시실행 <code class=\"language-text\">CTRL-R</code>을 지원한다.<br>\n그리고 실행취소 내역은 <strong>트리 구조</strong>로 저장된다.\n실행취소 내역은 기본적으로 현재 세션에 유지되므로 종료하지만 않았더라면 수정했던 모든 내용은 되돌릴 수 있다.</p>\n<ul>\n<li><code class=\"language-text\">:h undo-tree</code></li>\n<li><code class=\"language-text\">:h undolist</code></li>\n</ul>\n<p><code class=\"language-text\">:undolist</code>는 변경사항 트리의 Leaf 노드를 보여준다.\nundo 시점이 Leaf 노드가 된다. 이 노드는 <code class=\"language-text\">:undo 노드번호</code>로 되돌릴 수 있다.\n되돌리는 시점도 Leaf 노드를 생성한다.</p>\n<p>노드에는 시간도 표시되는데, <code class=\"language-text\">:earlier</code>와 <code class=\"language-text\">:later</code>로 시간을 기준으로 이동할 수 있다.\n예를들어 <code class=\"language-text\">:earlier 1h</code>로 1시간 전으로 이동한다.</p>\n<h4 id=\"undotree-플러그인\" style=\"position:relative;\"><a href=\"#undotree-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8\" aria-label=\"undotree 플러그인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>undotree 플러그인</h4>\n<p>undolist를 트리 구조로 보여주는 플러그인.</p>\n<p><a href=\"https://github.com/mbbill/undotree\">https://github.com/mbbill/undotree</a></p>\n<p>undolist는 직관적으로 보기 어렵다.\n이 플러그인은 트리 구조를 보여주며, 방향키를 통해 이동 및 미리보기를 제공한다.</p>\n<h3 id=\"자동완성\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%8F%99%EC%99%84%EC%84%B1\" aria-label=\"자동완성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자동완성</h3>\n<p>입력 모드나 명령 모드에서 자동완성 팝업을 출력하고, 선택하는 기능.\n일반적으로 Tab 키로 자동완성을 시작한다.</p>\n<p><code class=\"language-text\">:h ins-completion</code></p>\n<p>키 입력</p>\n<ul>\n<li><code class=\"language-text\">CTRL-P</code>: 자동완성 <strong>이전 항목으로 이동</strong></li>\n<li><code class=\"language-text\">CTRL-N</code>: 자동완성 <strong>다음 항목으로 이동</strong></li>\n<li><code class=\"language-text\">CTRL-E</code>: 팝업을 닫고 자동 완성된 부분을 지운다.</li>\n<li><code class=\"language-text\">CTRL-Y</code>: 팝업을 닫고 자동 완성된 부분을 유지한다.</li>\n</ul>\n<h2 id=\"구문-강조\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EB%AC%B8-%EA%B0%95%EC%A1%B0\" aria-label=\"구문 강조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구문 강조</h2>\n<p><code class=\"language-text\">:h syntax</code></p>\n<p><code class=\"language-text\">syntax on</code>으로 구문 강조를 활성화한다. vim은 기본적으로 언어별 문법 강조를 제공한다.<br>\n그 목록은 메뉴얼에서 확인할 수 있다. <code class=\"language-text\">ft-&lt;LANGUAGE>-syntax</code> 이름으로 언어별 메뉴얼이 제공된다.<br>\n예를들어 <code class=\"language-text\">:h ft-python-syntax</code>로 파이썬 문법 강조에 대한 메뉴얼을 확인할 수 있다.</p>\n<p>neovim은 <a href=\"https://github.com/nvim-treesitter/nvim-treesitter\">nvim-treesitter</a> 플러그인으로 언어별 요소를 분석하여 더 정교하게 구문을 분석한다.\n<strong>하지만 기본 <code class=\"language-text\">colorscheme</code>으로는 정교한 구문 강조를 지원하지 않는다</strong>.<br>\n<a href=\"https://github.com/nvim-treesitter/nvim-treesitter/wiki/Gallery\">tresitter wiki의 gallery</a>에서 treesitter를 지원하는 <code class=\"language-text\">colorscheme</code>을 설치하자.</p>\n<h2 id=\"레지스터registers\" style=\"position:relative;\"><a href=\"#%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0registers\" aria-label=\"레지스터registers permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레지스터(Registers)</h2>\n<p>레지스터는 텍스트를 저장하는 공간이다.</p>\n<p><code class=\"language-text\">:h registers</code></p>\n<p>레지스터는 크게 두 가지로 구분할 수 있다.\n사용자가 직접 사용하는 레지스터와 vim이 제공하는 읽기 전용 레지스터다.</p>\n<p>사용자 레지스터는 원하는 텍스트를 저장하고, 읽는 용도로 사용한다.\n<code class=\"language-text\">\"ayy</code>로 현재 라인을 <code class=\"language-text\">a</code> 레지스터에 저장하고, <code class=\"language-text\">\"ap</code>로 붙여넣기한다.</p>\n<p>직접 사용하는 방식 외에도 매크로의 녹화와 재생 또한 레지스터를 사용한다.\n응용하면 텍스트로 명령어를 저장하고, 매크로로 실행할 수 있다.</p>\n<p>vim이 제공하는 읽기 전용 레지스터는 클립보드, 마지막 삭제된 텍스트 등 다양한 트리거에 의해 저장된다.\n자주 사용하는 특수 레지스터는 알아두면 좋다.</p>\n<ol>\n<li><code class=\"language-text\">+</code> 클립보드 레지스터. 정확히는 selection register. 클립보드가 활성되지 않으면 unnamed register와 같다.</li>\n<li><code class=\"language-text\">\"</code> unnamed register. d, c, s, x 등으로 삭제된 내용이 저장된다.</li>\n<li><code class=\"language-text\">_</code> black hole register. 읽는 용도로 사용하지 않는다. 덮어쓸 때 삭제된 내용을 저장하지 않는 용도로 쓴다.\n<ul>\n<li>e.g. <code class=\"language-text\">\"_dd</code> 현재 라인을 삭제하지만 unnamed register에 저장하지 않는다.</li>\n</ul>\n</li>\n</ol>\n<p><code class=\"language-text\">let @</code>을 사용하면 직접 register에 값을 할당할 수 있다.\n예를들어, <code class=\"language-text\">+</code> register에 클립보드를 연결했다면, 다음은 클립보드에 현재 파일 경로를 복사한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token punctuation\">:</span><span class=\"token keyword\">let</span> @<span class=\"token operator\">+=</span><span class=\"token function\">expand</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"variables\" style=\"position:relative;\"><a href=\"#variables\" aria-label=\"variables permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Variables</h2>\n<p>변수는 <code class=\"language-text\">:let</code>으로 할당하고, <code class=\"language-text\">:echo</code>로 출력한다.</p>\n<p>변수는 다양한 scope를 가질 수 있는데, <code class=\"language-text\">:h variable-scope</code>에서 확인할 수 있다.\n스코프는 prepending(앞에 붙이는)으로 결정된다.\n전역 변수는 <code class=\"language-text\">g:</code>, 스크립트 변수는 <code class=\"language-text\">s:</code>와 같은 형식으로 사용한다.</p>\n<blockquote>\n<p>(nothing) In a function: local to a function; otherwise: global</p>\n<p>(아무것도 없으면) 함수 내에서는 로컬 변수; 그 외에는 전역 변수</p>\n<p>:h variable-scope 중에서.</p>\n</blockquote>\n<blockquote>\n<p>Inside functions global variables are accessed with \"g:\".  Omitting this will access a variable local to a function.</p>\n<p>함수 내에서 전역 변수는 \"g:\"로 접근한다. 생략하면 함수 내에서 로컬 변수에 접근한다.</p>\n<p>h: global-variable 중에서.</p>\n</blockquote>\n<p>prepending을 생략하면 일반적으로 전역 변수지만, 함수 내에서는 로컬 변수를 가리킨다.</p>\n<p>현재 scope에 따라 의미가 달라질 수 있으므로 명시하는 편이 암시적인 오류를 줄일 수 있다.</p>\n<h3 id=\"path\" style=\"position:relative;\"><a href=\"#path\" aria-label=\"path permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">path</code></h3>\n<p><code class=\"language-text\">:find</code> 검색 범위를 결정한다.\n<code class=\"language-text\">:find foo</code> 파일이나 디렉토리를 검색하고 연다,\n<cr> 대신 <tab>으로 모든 결과를 가져오자.</p>\n<p><a href=\"https://youtu.be/GyPXYF6jgwk?t=325\">https://youtu.be/GyPXYF6jgwk?t=325</a>\nnetrw, find 사용법</p>\n<p><code class=\"language-text\">set path+=**</code> <code class=\"language-text\">**</code>를 추가하면 현재 폴더 내 모든 범위를 검색한다.\n<code class=\"language-text\">**</code> 사용하기 전과 비교해보면 검색 수가 달라지는 것을 알 수 있다.\n<code class=\"language-text\">.gitignore</code>의 무시한 파일, <code class=\"language-text\">node_modules</code> 같이 무거운 폴더도 검색된다.</p>\n<h2 id=\"text-objects\" style=\"position:relative;\"><a href=\"#text-objects\" aria-label=\"text objects permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Text Objects</h2>\n<p>텍스트 오브젝트는 vim에서 선택 및 조작할 수 있는 텍스트 단위를 말한다.</p>\n<p><code class=\"language-text\">:h text-objects</code></p>\n<p><code class=\"language-text\">w</code>는 단어, <code class=\"language-text\">s</code>는 문장, <code class=\"language-text\">p</code>는 문단 등이 있다.\n선택하는 명령어와 조합하여 <code class=\"language-text\">viw</code>, <code class=\"language-text\">vis</code>, <code class=\"language-text\">vip</code>와 같이 사용할 수 있다.\n각각 단어, 문장, 문단을 선택한다.</p>\n<p><code class=\"language-text\">w</code>는 문자와 숫자, underscore로 이루어진 문자열을 말한다.\n<code class=\"language-text\">W</code>는 공백을 제외한 연속되는 문자열을 말한다. (<code class=\"language-text\">:h word</code>, <code class=\"language-text\">:h WORD</code> 참고)</p>\n<p><code class=\"language-text\">s</code>entence는 마침표, 느낌표, 물음표로 끝나는 문장을 말한다.\n<code class=\"language-text\">p</code>aragraph는 빈 줄로 구분된 문단을 말한다.</p>\n<p><code class=\"language-text\">t</code>는 tag를 말한다(<code class=\"language-text\">:tag-blocks</code>).\nHTML 또는 XML 태그를 선택한다.</p>\n<p>몇 가지 텍스트 오브젝트만 알아두면 빠르게 텍스트를 편집하거나 네비게이션할 수 있다.\n또 플러그인을 통해 사용자 정의 텍스트 오브젝트를 만들 수 있다.</p>\n<p><a href=\"https://github.com/nvim-treesitter/nvim-treesitter-textobjects\">nvim-treesitter-textobjects</a>는\n언어마다 표현 방식이 다른 함수, 변수, 클래스 등 다양한 텍스트 오브젝트를 일반화하여 제공하는 플러그인이다.</p>\n<h2 id=\"plugin-만들기\" style=\"position:relative;\"><a href=\"#plugin-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"plugin 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugin 만들기</h2>\n<p><code class=\"language-text\">:h write-plugin</code> nvim의 사용자 메뉴얼 플러그인 작성 섹션.</p>\n<p>몇몇 플러그인 설명을 보면 <code class=\"language-text\">filetype plugin indent on</code> 구문을 추가하라고 하는데,\n스크립트를 읽어들이는 옵션이다.</p>\n<p><code class=\"language-text\">:h filetype-overview</code>, <code class=\"language-text\">:h filetype</code>, <code class=\"language-text\">:h filetype-plugin-on</code>, <code class=\"language-text\">:h filetype-indent-on</code> <br>\n위 구문은 사실 <code class=\"language-text\">filetype on</code>, <code class=\"language-text\">filetype plugin on</code>, <code class=\"language-text\">filetype indent on</code>를 한 번에 나타낸 것이다. <br>\n<code class=\"language-text\">filetype on</code>은 filetype 감지(detection)을 활성화한다. <code class=\"language-text\">$VIMRUNTIME/filetype.vim</code> 파일을 읽는 것을 의미하며, <code class=\"language-text\">BufRead</code>와 같은 filetype 이벤트를 발생시킨다. <br>\n<code class=\"language-text\">filetype plugin on</code>은 <code class=\"language-text\">ftplugin</code>을 읽어들인다. <code class=\"language-text\">runtimepath</code>에 있는 ftplugin 관련 파일을 읽어들이며, 일반적으로 플러그인은 여기에 작성한다. <br>\n<code class=\"language-text\">filetype indent on</code>은 <code class=\"language-text\">indent</code> 파일을 읽어들인다. <code class=\"language-text\">runtimepath</code>에 있는 indent 관련 파일을 읽어들인다. <br>\n그래서 <code class=\"language-text\">filetype plugin on</code>을 사용하여 플러그인 파일을 읽도록 유도하는 것이다.</p>\n<p>vim-plug를 사용한다면 알아서 <code class=\"language-text\">filetype plugin indent on</code>을 <a href=\"https://github.com/junegunn/vim-plug/blob/d80f495fabff8446972b8695ba251ca636a047b0/plug.vim#L396\">추가해 주는 것으로 보인다</a>.</p>\n<h3 id=\"프로젝트-구조\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0\" aria-label=\"프로젝트 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로젝트 구조</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">.</span>\n│   <span class=\"token comment\"># 폴더 내의 모든 파일을 자동으로 로드한다.</span>\n├── autoload\n│   └── vimwiki_link\n│       └── base.vim\n│   <span class=\"token comment\"># 파일 타입에 따라 자동으로 로드한다.</span>\n└── ftplugin\n    │   <span class=\"token comment\"># `vimwiki/script.vim`과 `vimwiki.vim` 파일 모두</span>\n    │   <span class=\"token comment\"># vimwiki 파일 타입인 버퍼를 열면 자동으로 로드한다.</span>\n    ├── vimwiki\n    │   └── script.vim\n    └── vimwiki.vim</code></pre></div>\n<h3 id=\"autoload\" style=\"position:relative;\"><a href=\"#autoload\" aria-label=\"autoload permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">autoload</code></h3>\n<p><code class=\"language-text\">:h autoload</code></p>\n<p><code class=\"language-text\">autoload/vimwiki_link/base.vim</code> 파일이 있으면 <code class=\"language-text\">vimwiki_link#base#Function()</code> 함수 이름으로 정의한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"># autoload<span class=\"token operator\">/</span>vimwiki_link<span class=\"token operator\">/</span>base<span class=\"token operator\">.</span><span class=\"token keyword\">vim</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> vimwiki_link#base#<span class=\"token function\">follow_link</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n  # <span class=\"token operator\">.</span><span class=\"token operator\">.</span><span class=\"token operator\">.</span>\n<span class=\"token keyword\">endfunction</span></code></pre></div>\n<p>폴더 및 파일 이름이 네임스페이스가 된다. 만약 다른 네임스페이스로 선언하면 에러가 발생한다.</p>\n<h3 id=\"ftplugin\" style=\"position:relative;\"><a href=\"#ftplugin\" aria-label=\"ftplugin permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">ftplugin</code></h3>\n<ul>\n<li><code class=\"language-text\">:h ftplugin</code></li>\n<li><code class=\"language-text\">:h ftplugin-name</code></li>\n</ul>\n<p><code class=\"language-text\">ftplugin/</code> 디렉토리 아래에 <code class=\"language-text\">filetype.vim</code> 파일 타입을 이름으로 만들면, 파일 타입에 따라 자동 로드된다.\n디렉토리나 파일 이름의 prefix로 파일 타입을 지정해도 된다:</p>\n<blockquote>\n<p>The generic names for the filetype plugins are:</p>\n<p><code class=\"language-text\">ftplugin/&lt;filetype>.vim</code><br>\n<code class=\"language-text\">ftplugin/&lt;filetype>_&lt;name>.vim</code><br>\n<code class=\"language-text\">ftplugin/&lt;filetype>/&lt;name>.vim</code></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token comment\">\" ftplugin/vimwiki.vim</span>\ncommand<span class=\"token operator\">!</span> <span class=\"token operator\">-</span><span class=\"token keyword\">buffer</span> VimwikiSmartLink <span class=\"token keyword\">call</span> vimwiki_link#base#<span class=\"token function\">follow_link</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">buffer</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimwikiSmartLink <span class=\"token punctuation\">:</span>VimwikiSmartLink<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimwikiSmartLink</code></pre></div>\n<p>보통 파일 타입에 맞는 명령어를 정의하거나 매핑을 생성하고\n<code class=\"language-text\">autoload</code>의 함수를 호출하는 구조로 많이 사용하는 거 같다.</p>\n<p>nvim이라면 <code class=\"language-text\">~/.config/nvim/ftplugin</code> 디렉토리에 파일을 만들면 된다.</p>\n<h3 id=\"plug-sid\" style=\"position:relative;\"><a href=\"#plug-sid\" aria-label=\"plug sid permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">&lt;Plug></code> <code class=\"language-text\">&lt;SID></code></h3>\n<p><code class=\"language-text\">:h using-&lt;Plug></code></p>\n<blockquote>\n<p>Both <SID> and <Plug> are used to avoid that mappings of typed keys interfere\nwith mappings that are only to be used from other mappings.</p>\n</blockquote>\n<p>매핑할 때 사용하는 특수 키 이름이다. 매핑 충돌을 피하기 위한 대책이다.\n이 특수 키로 먼저 매핑하고, 실제 키에 매핑한다.</p>\n<p>예를들어 vimwiki에는 다음과 같은 코드가 있다:</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\">nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">buffer</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimwikiFollowLink <span class=\"token punctuation\">:</span>VimwikiFollowLink<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token comment\">\" ... 중간 생략</span>\n\n<span class=\"token comment\">\" map_key는 최종적으로 :map 같은 명령어를 실행한다.</span>\n<span class=\"token keyword\">call</span> vimwiki#<span class=\"token keyword\">u</span>#<span class=\"token function\">map_key</span><span class=\"token punctuation\">(</span><span class=\"token string\">'n'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'&lt;CR>'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'&lt;Plug>VimwikiFollowLink'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"용어\" style=\"position:relative;\"><a href=\"#%EC%9A%A9%EC%96%B4\" aria-label=\"용어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>용어</h2>\n<h3 id=\"pager----more---로-출력되는-화면\" style=\"position:relative;\"><a href=\"#pager----more---%EB%A1%9C-%EC%B6%9C%EB%A0%A5%EB%90%98%EB%8A%94-%ED%99%94%EB%A9%B4\" aria-label=\"pager    more   로 출력되는 화면 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pager: <code class=\"language-text\">-- More --</code>로 출력되는 화면</h3>\n<p><code class=\"language-text\">-- More --</code>로 프롬프트가 출력되면 pager 화면을 보고있는 것이다.</p>\n<p><code class=\"language-text\">:let</code>이나 <code class=\"language-text\">:highlight</code> 등 명령어는 pager로 출력된다:</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\">Special        xxx ctermfg<span class=\"token operator\">=</span><span class=\"token number\">224</span> guifg<span class=\"token operator\">=</span>Orange\nSpecialChar    xxx links <span class=\"token keyword\">to</span> Special\nDelimiter      xxx links <span class=\"token keyword\">to</span> Special\nSpecialComment xxx links <span class=\"token keyword\">to</span> Special\nDebug          xxx links <span class=\"token keyword\">to</span> Special\nDiagnosticError xxx ctermfg<span class=\"token operator\">=</span><span class=\"token number\">1</span> guifg<span class=\"token operator\">=</span>Red\nDiagnosticWarn xxx ctermfg<span class=\"token operator\">=</span><span class=\"token number\">3</span> guifg<span class=\"token operator\">=</span>Orange\nDiagnosticInfo xxx ctermfg<span class=\"token operator\">=</span><span class=\"token number\">4</span> guifg<span class=\"token operator\">=</span>LightBlue\nDiagnosticHint xxx ctermfg<span class=\"token operator\">=</span><span class=\"token number\">7</span> guifg<span class=\"token operator\">=</span>LightGrey\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span> More <span class=\"token operator\">-</span><span class=\"token operator\">-</span> SPACE<span class=\"token operator\">/</span><span class=\"token keyword\">d</span><span class=\"token operator\">/</span><span class=\"token keyword\">j</span><span class=\"token punctuation\">:</span> screen<span class=\"token operator\">/</span>page<span class=\"token operator\">/</span>line down<span class=\"token punctuation\">,</span> <span class=\"token keyword\">b</span><span class=\"token operator\">/</span><span class=\"token keyword\">u</span><span class=\"token operator\">/</span><span class=\"token keyword\">k</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">up</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">q</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">quit</span></code></pre></div>\n<p><code class=\"language-text\">:h pager</code>로 pager 설명을 확인하자.</p>\n<p>pager는 다른 화면과 달라서 처음 만나면 당혹스럽다.<br>\n<code class=\"language-text\">q</code>를 입력하면 빠져나오고 j, k로 스크롤한다.</p>\n<p><code class=\"language-text\">g&lt;</code>를 입력하면 마지막 <em>page</em> 화면을 볼 수 있다.\npager 화면은 아니므로 스크롤 할 수 없다. 마지막 pager의 스크롤 위치에서 보여준다.</p>\n<hr>\n<p>검색 기능이 없어서 불편하다 :(</p>\n<p>하지만 <code class=\"language-text\">:redir</code>을 통한 출력 전환으로 레지스터로 저장하고, 붙여넣는 방법으로 대체할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token punctuation\">:</span><span class=\"token keyword\">redir</span> @a    <span class=\"token comment\">\" a 레지스터에 출력을 전환</span>\n<span class=\"token punctuation\">:</span><span class=\"token builtin\">highlight</span>   <span class=\"token comment\">\" pager로 출력되는 명령어 실행</span>\nG<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>        <span class=\"token comment\">\" 맨 아래로 이동하고 빠져나오자. 보여진 만큼만 저장된다.</span>\n<span class=\"token punctuation\">:</span><span class=\"token keyword\">redir</span> end   <span class=\"token comment\">\" 출력 전환 종료</span>\n<span class=\"token string\">\"ap          \"</span> a 레지스터 내용 커서 위치에 붙여넣기</code></pre></div>\n<p><a href=\"https://vi.stackexchange.com/q/5729\">How can I perform a search when vim displays content using \"more\" pager?</a><br>\n질문에서 얻은 정보다.</p>\n<p>덧글에 pipeline을 통한 짧은 버전도 있다:</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">redir</span> @a | <span class=\"token keyword\">sil</span> <span class=\"token builtin\">highlight</span> | <span class=\"token keyword\">redir</span> end   <span class=\"token comment\">\" @a 전환, 명령(silently), 전환 종료</span>\n<span class=\"token string\">\"ap                                    \"</span> a 레지스터 붙여넣기</code></pre></div>\n<p>명령어로 만들어둬도 좋겠다:</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\">command<span class=\"token operator\">!</span> <span class=\"token operator\">-</span>nargs<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span><span class=\"token builtin\">complete</span><span class=\"token operator\">=</span>command Redir <span class=\"token keyword\">redir</span> @a | <span class=\"token keyword\">sil</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">args</span><span class=\"token operator\">></span> | <span class=\"token keyword\">redir</span> end | echo <span class=\"token string\">\"Saved to @a\"</span></code></pre></div>\n<p>이렇게 사용할 수 있다:</p>\n<ul>\n<li><code class=\"language-text\">:Redir highlight</code></li>\n<li><code class=\"language-text\">:Redir let</code></li>\n</ul>\n<h2 id=\"tips\" style=\"position:relative;\"><a href=\"#tips\" aria-label=\"tips permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tips</h2>\n<h3 id=\"mapping-시-cr-vs-cmdcr\" style=\"position:relative;\"><a href=\"#mapping-%EC%8B%9C-cr-vs-cmdcr\" aria-label=\"mapping 시 cr vs cmdcr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>mapping 시 <code class=\"language-text\">:...&lt;cr></code> vs <code class=\"language-text\">&lt;cmd>...&lt;cr></code></h3>\n<ul>\n<li><code class=\"language-text\">nnoremap [w :lprevious&lt;cr></code></li>\n<li><code class=\"language-text\">nnoremap [w &lt;cmd>lprevious&lt;cr></code></li>\n</ul>\n<p>두 코드 모두 <code class=\"language-text\">[w</code> 단축키에 <code class=\"language-text\">lprevious&lt;cr></code> 명령을 매핑한다.</p>\n<p><code class=\"language-text\">:h &lt;cmd></code></p>\n<blockquote>\n<p>The <Cmd> pseudokey begins a \"command mapping\", which executes the command\ndirectly (without changing modes).  Where you might use \":...<CR>\" in the\n{rhs} of a mapping, you can instead use \"<Cmd>...<CR>\".</p>\n</blockquote>\n<p><code class=\"language-text\">&lt;cmd></code>는 모드 변경없이 명령을 실행한다고 되어있다.</p>\n<p>두 방식을 비교해보면, <code class=\"language-text\">:...&lt;cr></code>는 실행한 명령어가 입력창에 남아있다.\n반면에 <code class=\"language-text\">&lt;cmd>...&lt;cr></code>는 남아있지 않다.</p>\n<h3 id=\"프로파일링-하기\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BC%EB%A7%81-%ED%95%98%EA%B8%B0\" aria-label=\"프로파일링 하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로파일링 하기</h3>\n<p>이유없이 느려진다면 프로파일링 해보자.</p>\n<p>아래 함수 내용을 직접 실행하거나, 번거로우니 함수 자체를 정의해두고 <code class=\"language-text\">:call StartProfiling()</code> 호출하자.\n느려지게 만드는 액션을 하고 <code class=\"language-text\">:profile stop</code> 또는 vim에서 나가면, <code class=\"language-text\">vim-profiling.log</code> 파일이 생성된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">StartProfiling</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span><span class=\"token keyword\">profile</span> start <span class=\"token keyword\">vim</span><span class=\"token operator\">-</span>profiling<span class=\"token operator\">.</span>log\n  <span class=\"token punctuation\">:</span><span class=\"token keyword\">profile</span> <span class=\"token keyword\">file</span> <span class=\"token operator\">*</span>\n  <span class=\"token punctuation\">:</span><span class=\"token keyword\">profile</span> func <span class=\"token operator\">*</span>\n  echo <span class=\"token string\">'profiling is started. log file: vim-profiling.log'</span>\n<span class=\"token keyword\">endfunction</span></code></pre></div>\n<h3 id=\"text-object-개선하기\" style=\"position:relative;\"><a href=\"#text-object-%EA%B0%9C%EC%84%A0%ED%95%98%EA%B8%B0\" aria-label=\"text object 개선하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>text object 개선하기</h3>\n<p>vim에서 기본적으로 <code class=\"language-text\">viw</code>로 단어를, <code class=\"language-text\">vip</code>로 문단을 선택할 수 있다.\n더 나아가서 각 언어에 맞게 함수, 클래스를 선택할 수 있는 방법이 있다.</p>\n<p><a href=\"../python\">Python</a>은 들여쓰기로, <a href=\"../javascript\">Javascript</a>는 중괄호로 함수를 표현한다.\n이렇게 언어마다 달라지는 부분을 표현하기 위해서 저마다 설정이 필요하다.</p>\n<p>파이썬에 맞는 text object를 제공하거나,\nSelection을 점진적으로 확장/축소하는 기능을 제공하는 플러그인이 있다.</p>\n<h4 id=\"vim-pythonsense\" style=\"position:relative;\"><a href=\"#vim-pythonsense\" aria-label=\"vim pythonsense permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>vim-pythonsense</h4>\n<p><a href=\"https://github.com/jeetsukumaran/vim-pythonsense\">vim-pythonsense</a></p>\n<p><a href=\"https://github.com/bps/vim-textobj-python\">vim-textobj-python</a> 이건 제대로 동작하지 않았다.</p>\n<p><strong>vim-pythonsense</strong> 플러그인은 파이썬의 Text Object를 제공한다.\n뿐만 아니라 Text Object로 점프하는 기능도 제공하는데,\n나는 이 기능은 막았다.</p>\n<p>설정을 통해 키 매핑을 비활성화 할 수 있다:</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>is_pythonsense_suppress_motion_keymaps <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>is_pythonsense_suppress_keymaps <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>is_pythonsense_alternate_motion_keymaps <span class=\"token operator\">=</span> <span class=\"token number\">0</span></code></pre></div>\n<h4 id=\"vim-expand-region\" style=\"position:relative;\"><a href=\"#vim-expand-region\" aria-label=\"vim expand region permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>vim-expand-region</h4>\n<p><a href=\"https://github.com/terryma/vim-expand-region\">terryma/vim-expand-region</a></p>\n<p>Expand Selection, Shrink Selection 기능을 제공하는 플러그인.</p>\n<p>VSCode, Intellij 에서도 이 기능이 있다.</p>\n<p><code class=\"language-text\">+</code> 키를 누르면 단어 -> 문자열 -> 괄호 -> 한 줄 -> 함수 -> 클래스 순서로\n점진적으로 Selection 한다. <code class=\"language-text\">-</code> 키는 그 반대로 동작한다.</p>\n<p><code class=\"language-text\">vim-textobj-python</code> 플러그인이 없으면, 함수, 클래스 레벨에서 제대로 동작하지 않는다.</p>\n<p>별다른 설정을 하지 않으면, 첫 레벨부터 렉이 있어서,\n다음과 같이 설정하여 사용하고 있다:</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">call</span> expand_region#<span class=\"token function\">custom_text_objects</span><span class=\"token punctuation\">(</span><span class=\"token string\">'python'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  \\ <span class=\"token string\">'af'</span> <span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  \\ <span class=\"token string\">'if'</span> <span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  \\ <span class=\"token string\">'ac'</span> <span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  \\ <span class=\"token string\">'ic'</span> <span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  \\ <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"command-대신-command를-사용하자\" style=\"position:relative;\"><a href=\"#command-%EB%8C%80%EC%8B%A0-command%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%9E%90\" aria-label=\"command 대신 command를 사용하자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">command</code> 대신 <code class=\"language-text\">command!</code>를 사용하자.</h3>\n<p><code class=\"language-text\">.vimrc</code>를 리로드하면 이미 정의된 command라고 에러가 나는 경우가 있다:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Error detected <span class=\"token keyword\">while</span> processing /home/pair/.vimrc:\nline  <span class=\"token number\">375</span>:\nE174: Command already exists: <span class=\"token function\">add</span> <span class=\"token operator\">!</span> to replace it</code></pre></div>\n<p>해결하기 위해선 힌트 그대로, <code class=\"language-text\">!</code> 만 붙여주면 된다. 그러면 replace 하므로 에러가 발생하지 않는다.</p>\n<p>다음과 같은 구문이 있으면</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> TestCore call <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span>run_test_core<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>다음과 같이 변경해주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">command<span class=\"token operator\">!</span> TestCore call <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span>run_test_core<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"옵션이-어느-파일에서-변경되었는지-알려면-verbose\" style=\"position:relative;\"><a href=\"#%EC%98%B5%EC%85%98%EC%9D%B4-%EC%96%B4%EB%8A%90-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EB%B3%80%EA%B2%BD%EB%90%98%EC%97%88%EB%8A%94%EC%A7%80-%EC%95%8C%EB%A0%A4%EB%A9%B4-verbose\" aria-label=\"옵션이 어느 파일에서 변경되었는지 알려면 verbose permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>옵션이 어느 파일에서 변경되었는지 알려면 <code class=\"language-text\">:verbose</code></h3>\n<p><code class=\"language-text\">:verbose set filetype?</code></p>\n<p>파일 타입을 어느 파일에서 결정했는지 알려면 위처럼 사용하면 된다.</p>\n<p>뒤에 물음표는 꼭 붙이자. <code class=\"language-text\">filetype</code>처럼 값을 받는 옵션이 아닌 <code class=\"language-text\">hlsearch</code>처럼 on/off 하는 형태라면 <code class=\"language-text\">verbose</code>가 무시되고 옵션 변경을 한다.\n다시 <code class=\"language-text\">verbose</code>로 확인하더라도 방금 명령어로 변경했기 때문에 제대로된 출처를 알 수 없다.</p>\n<h3 id=\"플러그인-설치되어-있는지-확인하기\" style=\"position:relative;\"><a href=\"#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98%EB%90%98%EC%96%B4-%EC%9E%88%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\" aria-label=\"플러그인 설치되어 있는지 확인하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>플러그인 설치되어 있는지 확인하기</h3>\n<p>특정 플러그인을 설정하기 위해서, 설치되어 있는지 확인해야 할 때가 있다.<br>\n설치 여부를 판단하지 않으면 vim 실행 시 에러 문구가 출력되어 번거롭다.</p>\n<p>vim 기능으로는 제공하지 않는다.</p>\n<p>Package Manager로 <a href=\"https://github.com/junegunn/vim-plug\">vim-plug</a>를 사용한다면 <code class=\"language-text\">plugs</code> 변수를 확인하는 방법이 유효하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token function\">has_key</span><span class=\"token punctuation\">(</span>plugs<span class=\"token punctuation\">,</span> <span class=\"token string\">'sonokai'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">\" </span><span class=\"token string\">'sonokai'</span> not installed\n  <span class=\"token keyword\">finish</span>\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token comment\">\" do something with </span><span class=\"token string\">'sonokai'</span></code></pre></div>\n<p><code class=\"language-text\">plugs</code>는 dictionary로 플러그인 이름을 key로 가지고 있다:</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token comment\">\" echo plugs로 구조를 확인할 수 있다.</span>\n<span class=\"token punctuation\">{</span><span class=\"token string\">'sonokai'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'uri'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'https://git::@github.com/sainnhe/sonokai.git'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dir'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'/home/dupark/.local/share/nvim/plugged/sonokai/'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'frozen'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'branch'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"문제-해결\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0\" aria-label=\"문제 해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 해결</h2>\n<h3 id=\"typescript-filetype-문제\" style=\"position:relative;\"><a href=\"#typescript-filetype-%EB%AC%B8%EC%A0%9C\" aria-label=\"typescript filetype 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Typescript filetype 문제</h3>\n<p>typescript language server에서 JSX 문법을 확인하지 못한다면 파일 타입을 확인해보자.\n<code class=\"language-text\">:set ft?</code>로 확인했을 때 <code class=\"language-text\">typescriptreact</code>가 아니라 <code class=\"language-text\">typescript</code>면 문제가 있다.</p>\n<p><code class=\"language-text\">:set filetype=typescriptreact</code>로 변경하면 JSX의 하이라이팅이나 타입 체크가 정상적으로 동작한다.</p>\n<p><code class=\"language-text\">.vimrc</code>에 filetype을 변경하도록 설정하자:</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token comment\">\" set filetypes as typescriptreact</span>\n<span class=\"token builtin\">autocmd</span> BufNewFile<span class=\"token punctuation\">,</span>BufRead <span class=\"token operator\">*</span><span class=\"token operator\">.</span>tsx<span class=\"token punctuation\">,</span><span class=\"token operator\">*</span><span class=\"token operator\">.</span>jsx <span class=\"token keyword\">set</span> <span class=\"token keyword\">filetype</span><span class=\"token operator\">=</span>typescriptreact</code></pre></div>\n<p>ref. <a href=\"https://github.com/peitalin/vim-jsx-typescript#vim-jsx-typescript\">https://github.com/peitalin/vim-jsx-typescript#vim-jsx-typescript</a></p>\n<blockquote>\n<p>Changelog: filetypes were updated from typescript.tsx to typescriptreact Please set filetypes as typescriptreact, not typescript.tsx as in prior versions in your .vimrc if you have any issues</p>\n</blockquote>\n<p>ref. <a href=\"https://github.com/leafgarland/typescript-vim/issues/158#issuecomment-589954199\">https://github.com/leafgarland/typescript-vim/issues/158#issuecomment-589954199</a></p>\n<blockquote>\n<p>This brings a new problem. Typescript language server excepts from a typescript file to not have JSX in it. Which means that &#x3C;> is considered a type assertion, JSX is not recognized as JSX but as regular Typescript syntax and the list goes on.</p>\n</blockquote>\n<h3 id=\"colorscheme-플러그인이-점점-느려지게-만드는-현상\" style=\"position:relative;\"><a href=\"#colorscheme-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8%EC%9D%B4-%EC%A0%90%EC%A0%90-%EB%8A%90%EB%A0%A4%EC%A7%80%EA%B2%8C-%EB%A7%8C%EB%93%9C%EB%8A%94-%ED%98%84%EC%83%81\" aria-label=\"colorscheme 플러그인이 점점 느려지게 만드는 현상 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>colorscheme 플러그인이 점점 느려지게 만드는 현상</h3>\n<p>2023-04-14</p>\n<p>vimwiki로 문서 수정할 때, <code class=\"language-text\">&lt;cr></code> <em>엔터를 꾹 누르고 있으면 점점 느려지는</em> 문제.<br>\nvimwiki가 키보드 엔터 시 함수 호출이 많다. 그래서 더욱 돋보이는 듯 하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">FUNCTIONS SORTED ON TOTAL TIME\ncount  total (s)   self (s)  function\n    4   1.671452   0.000150  &lt;SNR>199_CR()\n    4   1.669305   0.000430  vimwiki#lst#kbd_cr()\n    4   1.667958   0.000952  &lt;SNR>211_cr_on_empty_line()\n    1   0.261215   0.000028  vimwiki#u#count_exe()\n    1   0.261187   0.000350  vimwiki#lst#kbd_o()\n    5   0.093622   0.009607  &lt;SNR>211_get_corresponding_item()\n   16   0.087560   0.002484  airline#check_mode()</code></pre></div>\n<p>프로파일링 해보니, 엔터가 입력될 때 마다 거의 초단위로 시간이 소요되었다.</p>\n<p>결론은 colorscheme 옵션을 제거하면 괜찮다. 프로파일링으로는 딱히 힌트를 얻지 못했다.\n<code class=\"language-text\">soliarized</code>로 사용하고 있었다:</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">colorscheme</span> solarized</code></pre></div>\n<p>플러그인을 하나씩 제외하면서 테스트하는 것으로 원인을 찾을 수 있었다.\n기본 테마도 나름 볼만하다 :|</p>\n<p><code class=\"language-text\">:echo g:colors_name</code> 또는 <code class=\"language-text\">:colorscheme</code>으로 사용중인 테마의 이름을 알 수 있다.\n변수를 찾을 수 없으면 사용하지 않는 것이다.</p>\n<p>colorscheme을 제외하고 재현하면 간헐적으로 느려지긴 한다. 하지만 곧바로 복구된다. colorscheme을 사용할 때는 한 번 느려지면 다시 vim 실행하기 전까지는 복구되지 않는다.</p>\n<p>2023-12-11</p>\n<p><code class=\"language-text\">vim-colors-solarized</code> 플러그인 문제가 아니었다.</p>\n<p>최근에 treesitter 구문 강조를 위해서 <code class=\"language-text\">sonokai</code> colorscheme 플러그인을 설치했는데, 마찬가지로 느려지는 문제가 발생한다.</p>\n<p>2024-02-22</p>\n<p>드디어 원인을 찾았다!</p>\n<p>정확한 증상 발생 시점은 <code class=\"language-text\">.vimrc</code>에서 <code class=\"language-text\">color &lt;theme></code>을 설정하면 느려지는 문제였다.<br>\nvim 실행 후 직접 <code class=\"language-text\">:color &lt;theme></code> 명령어로 설정하면 느려지지 않는다.<br>\n<code class=\"language-text\">.virmc</code> 내에서도 특정 코드 후에 <code class=\"language-text\">color &lt;theme></code>을 설정하면 느려지는 문제가 발생한다.</p>\n<p>원인이 되는 코드는 extra whitespace를 강조하는 코드였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token builtin\">autocmd</span> ColorScheme <span class=\"token operator\">*</span>\n  \\ <span class=\"token builtin\">highlight</span> SpecialKey guibg<span class=\"token operator\">=</span>#<span class=\"token number\">424242</span> ctermfg<span class=\"token operator\">=</span><span class=\"token number\">236</span> ctermbg<span class=\"token operator\">=</span><span class=\"token number\">234</span> |\n  \\ <span class=\"token builtin\">highlight</span> ExtraWhitespace ctermbg<span class=\"token operator\">=</span><span class=\"token keyword\">red</span> guibg<span class=\"token operator\">=</span><span class=\"token keyword\">red</span> |\n  \\ <span class=\"token keyword\">match</span> ExtraWhitespace <span class=\"token operator\">/</span>\\s\\<span class=\"token operator\">+</span>$<span class=\"token operator\">/</span> |\n  \\ <span class=\"token builtin\">autocmd</span> BufWinEnter <span class=\"token operator\">*</span> <span class=\"token keyword\">match</span> ExtraWhitespace <span class=\"token operator\">/</span>\\s\\<span class=\"token operator\">+</span>$<span class=\"token operator\">/</span> |\n  \\ <span class=\"token builtin\">autocmd</span> InsertEnter <span class=\"token operator\">*</span> <span class=\"token keyword\">match</span> ExtraWhitespace <span class=\"token operator\">/</span>\\s\\<span class=\"token operator\">+</span>\\<span class=\"token operator\">%</span>#\\@<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>$<span class=\"token operator\">/</span> |\n  \\ <span class=\"token builtin\">autocmd</span> InsertLeave <span class=\"token operator\">*</span> <span class=\"token keyword\">match</span> ExtraWhitespace <span class=\"token operator\">/</span>\\s\\<span class=\"token operator\">+</span>$<span class=\"token operator\">/</span> |\n  \\ <span class=\"token builtin\">autocmd</span> BufWinLeave <span class=\"token operator\">*</span> <span class=\"token keyword\">call</span> <span class=\"token function\">clearmatches</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이 코드는 줄 끝에 불필요한 공백을 찾아서 강조한다.\n내가 처음 vim을 접할 때 전임자의 vim 설정에서 가져온 건데 유용하게 사용하고 있는 거다.\n하지만 이 코드 이후에 <code class=\"language-text\">color &lt;theme></code>을 설정하면 느려지는 문제가 발생한다.</p>\n<p>colorscheme 명령을 전체 설정의 앞부분에서 실행하도록 위치를 옮겼다.<br>\ndotfiles 저장소에도 반영했다. <br>\n<a href=\"https://github.com/Edunga1/dotfiles/commit/bc4efcceab5695b671c68d14912f1d85e7b0e048\">https://github.com/Edunga1/dotfiles/commit/bc4efcceab5695b671c68d14912f1d85e7b0e048</a></p>\n<h3 id=\"ubuntu에-설치한-vim이-시작-시-vimrc에서-많은-에러가-발생하는-현상\" style=\"position:relative;\"><a href=\"#ubuntu%EC%97%90-%EC%84%A4%EC%B9%98%ED%95%9C-vim%EC%9D%B4-%EC%8B%9C%EC%9E%91-%EC%8B%9C-vimrc%EC%97%90%EC%84%9C-%EB%A7%8E%EC%9D%80-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%ED%98%84%EC%83%81\" aria-label=\"ubuntu에 설치한 vim이 시작 시 vimrc에서 많은 에러가 발생하는 현상 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ubuntu에 설치한 vim이 시작 시 <code class=\"language-text\">.vimrc</code>에서 많은 에러가 발생하는 현상</h3>\n<p>askubuntu 질문: <a href=\"https://askubuntu.com/questions/284957/vi-getting-multiple-sorry-the-command-is-not-available-in-this-version-af\">vi, getting multiple \"Sorry, the command is not available in this version...\" after reinstall</a></p>\n<p>올바른 vim 버전인지 확인하자. vim.tiny로 설치되었을 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ readlink <span class=\"token parameter variable\">-f</span> <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">which</span> <span class=\"token function\">vim</span><span class=\"token variable\">`</span></span>\n/usr/bin/vim.tiny</code></pre></div>\n<p>Ubuntu에서는 풀 버전의 vim을 설치하지 않는다고 한다. <code class=\"language-text\">/usr/bin/vim.basic</code>을 가르켜야 대부분의 기능을 사용할 수 있다.</p>\n<h2 id=\"관련-기사\" style=\"position:relative;\"><a href=\"#%EA%B4%80%EB%A0%A8-%EA%B8%B0%EC%82%AC\" aria-label=\"관련 기사 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관련 기사</h2>\n<p>2023년 8월. <a href=\"https://yozm.wishket.com/magazine/detail/2183/\">\"Vim은 제 인생에서 매우 중요한 부분입니다.\"</a> Vim 창시자 인터뷰.</p>\n<p>원문은 <a href=\"https://evrone.com/blog/bram-moolenaar-interview\">https://evrone.com/blog/bram-moolenaar-interview</a></p>\n<p>플러그인을 사용하기 보다는, 직접 구현하거나 vim 베이스에 포함한다고.</p>\n<blockquote>\n<p>Evrone: Using plenty of web manuals we can discover great plugins to extend the awesome functionality of Vim. Do you have any plugin favorites and must-haves you could recommend to our audience?</p>\n<p>Evrone: Vim의 멋진 기능을 확장하기 위해 많은 웹 매뉴얼을 사용하여 훌륭한 플러그인을 찾을 수 있습니다. 추천할 만한 플러그인이 있을까요?</p>\n<p>Bram: I have to admit I don’t use many plugins, other than what is included with the distribution (such as matchit and termdebug). When I need something I tend to either make a quick hack or add it to the Vim base. That’s the luxury of being the creator :-).</p>\n<p>저는 사실 많은 플러그인을 사용하지 않습니다. 배포판에 포함된 것(예: matchit, termdebug)을 제외하고는요. 필요한 것이 있으면 빠른 해킹을 하거나 Vim 베이스에 추가하는 경향이 있습니다. 그것이 창시자의 특권입니다 :-).</p>\n</blockquote>\n<p>그리고 협업자들과 커뮤니케이션하는 방식. 그리고 젊은 개발자들에게 여유를 가지고 개발하라는 조언을 했다.</p>\n<h2 id=\"troubleshooting\" style=\"position:relative;\"><a href=\"#troubleshooting\" aria-label=\"troubleshooting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Troubleshooting</h2>\n<h3 id=\"git-commit-시-waiting-for-your-editor-to-close-the-file-메시지와-함께-커밋이-안되는-문제\" style=\"position:relative;\"><a href=\"#git-commit-%EC%8B%9C-waiting-for-your-editor-to-close-the-file-%EB%A9%94%EC%8B%9C%EC%A7%80%EC%99%80-%ED%95%A8%EA%BB%98-%EC%BB%A4%EB%B0%8B%EC%9D%B4-%EC%95%88%EB%90%98%EB%8A%94-%EB%AC%B8%EC%A0%9C\" aria-label=\"git commit 시 waiting for your editor to close the file 메시지와 함께 커밋이 안되는 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Git commit 시 \"Waiting for your editor to close the file...\" 메시지와 함께 커밋이 안되는 문제</h3>\n<p>Vim으로 커밋 메시지 작성 후 <code class=\"language-text\">ZZ</code> 또는 <code class=\"language-text\">:wq</code>로 저장하여 나와도 커밋이 반영되지 않는 문제로,\n주기는 3번 중 1번 꼴로 자주 발생한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-v</span>\nhint: Waiting <span class=\"token keyword\">for</span> your editor to close the file<span class=\"token punctuation\">..</span>. error: There was a problem with the editor <span class=\"token string\">'nvim'</span><span class=\"token builtin class-name\">.</span>\nPlease supply the message using either <span class=\"token parameter variable\">-m</span> or <span class=\"token parameter variable\">-F</span> option.</code></pre></div>\n<p>원인은 <a href=\"https://github.com/mhinz/vim-startify\">Startify</a>의 세션 저장과 관련된 문제였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">GetUniqueSessionName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> <span class=\"token builtin\">path</span> <span class=\"token operator\">=</span> <span class=\"token function\">fnamemodify</span><span class=\"token punctuation\">(</span><span class=\"token function\">getcwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">':~:t'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> <span class=\"token builtin\">path</span> <span class=\"token operator\">=</span> <span class=\"token function\">empty</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">path</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">'no-project'</span> <span class=\"token punctuation\">:</span> <span class=\"token builtin\">path</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">substitute</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">path</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token builtin\">autocmd</span> VimLeavePre <span class=\"token operator\">*</span> execute <span class=\"token string\">'SSave! '</span> <span class=\"token operator\">.</span> <span class=\"token function\">GetUniqueSessionName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>vim을 종료할 때 세션을 저장하고, Startify의 시작 화면에 Session 목록을 노출하도록 설정했는데, 저장하는 시점이 원인이었다.\n이 설정을 제거한 후로는 문제가 발생하지 않았다.\n정확히 <code class=\"language-text\">SSave</code>의 문제인지, <code class=\"language-text\">GetUniqueSessionName</code>의 문제인지는 모르겠다.</p>\n<p>제거 커밋: <a href=\"https://github.com/Edunga1/dotfiles/commit/9998b7c454e321d48d326e20da56af2328055a46\">https://github.com/Edunga1/dotfiles/commit/9998b7c454e321d48d326e20da56af2328055a46</a></p>\n<p>세션을 자동 저장하는 것은 마음에 들어 <a href=\"https://github.com/rmagatti/auto-session\">auto-session</a>으로 변경했다.</p>"}},"allMarkdownRemark":{"nodes":[{"headings":[{"value":"2016-08-27 GDG WebTech Workshop \"측정하는 놈, 로딩하는 놈, 그리는 놈\""}],"fields":{"slug":"/2016-08-27-gdg-webtech-workshop-nnn/"}},{"headings":[{"value":"Airflow"}],"fields":{"slug":"/airflow/"}},{"headings":[{"value":"2016-11-16 캠퍼스 스타트업 스쿨의 \"구글 플레이에서 꼭 지켜야 할 두 가지\""}],"fields":{"slug":"/2016-11-16-google-campus-two-things-you-must-keep-in-google-play/"}},{"headings":[{"value":"Angular JS"}],"fields":{"slug":"/angularjs/"}},{"headings":[{"value":"APM"}],"fields":{"slug":"/apm/"}},{"headings":[{"value":"Amazon Redshift"}],"fields":{"slug":"/amazon-redshift/"}},{"headings":[{"value":"알고리즘"}],"fields":{"slug":"/algorithm/"}},{"headings":[{"value":"C# Programming Language"}],"fields":{"slug":"/c-sharp/"}},{"headings":[{"value":"Architecture"}],"fields":{"slug":"/architecture/"}},{"headings":[{"value":"Amazon Web Service"}],"fields":{"slug":"/aws/"}},{"headings":[{"value":"The Cat Logic"}],"fields":{"slug":"/cat-logic/"}},{"headings":[{"value":"크롬 브라우저"}],"fields":{"slug":"/chrome-browser/"}},{"headings":[],"fields":{"slug":"/bk/"}},{"headings":[{"value":"책"}],"fields":{"slug":"/book/"}},{"headings":[{"value":"회사"}],"fields":{"slug":"/company/"}},{"headings":[{"value":"코드 리뷰"}],"fields":{"slug":"/code-review/"}},{"headings":[{"value":"Clean Code"}],"fields":{"slug":"/clean-code/"}},{"headings":[{"value":"Computer Graphics"}],"fields":{"slug":"/computer-graphics/"}},{"headings":[{"value":"CI/CD"}],"fields":{"slug":"/continuous-integration-and-deployment/"}},{"headings":[{"value":"CSS"}],"fields":{"slug":"/css/"}},{"headings":[{"value":"crontab"}],"fields":{"slug":"/crontab/"}},{"headings":[{"value":"CURL"}],"fields":{"slug":"/curl/"}},{"headings":[{"value":"자료구조"}],"fields":{"slug":"/data-structure/"}},{"headings":[{"value":"Data analysis"}],"fields":{"slug":"/data-analysis/"}},{"headings":[{"value":"Database"}],"fields":{"slug":"/database/"}},{"headings":[{"value":"Design Pattern"}],"fields":{"slug":"/design-pattern/"}},{"headings":[{"value":"Docker"}],"fields":{"slug":"/docker/"}},{"headings":[{"value":"DevOps"}],"fields":{"slug":"/devops/"}},{"headings":[{"value":"임베딩"}],"fields":{"slug":"/embeddings/"}},{"headings":[{"value":"Elasticsearch"}],"fields":{"slug":"/elasticsearch/"}},{"headings":[{"value":"세미나 및 컨퍼런스 후기"}],"fields":{"slug":"/experience-review/"}},{"headings":[{"value":"Game"}],"fields":{"slug":"/game/"}},{"headings":[{"value":"GatsbyJS"}],"fields":{"slug":"/gatsbyjs/"}},{"headings":[{"value":"GitHub"}],"fields":{"slug":"/github/"}},{"headings":[{"value":"Git"}],"fields":{"slug":"/git/"}},{"headings":[{"value":"Godot Engine"}],"fields":{"slug":"/godot/"}},{"headings":[{"value":"Google Analytics"}],"fields":{"slug":"/google-analytics/"}},{"headings":[{"value":"Gradle"}],"fields":{"slug":"/gradle/"}},{"headings":[{"value":"Hardware"}],"fields":{"slug":"/hardware/"}},{"headings":[{"value":"Canvas"}],"fields":{"slug":"/html-canvas/"}},{"headings":[{"value":"HTML"}],"fields":{"slug":"/html/"}},{"headings":[{"value":"아이디어 방법론"}],"fields":{"slug":"/idea-methodology/"}},{"headings":[{"value":"영감을 주는 것"}],"fields":{"slug":"/inspiration/"}},{"headings":[{"value":"Ionic Framework"}],"fields":{"slug":"/ionic-framework/"}},{"headings":[{"value":"개발 용어"}],"fields":{"slug":"/jargon/"}},{"headings":[{"value":"Java Programming Language"}],"fields":{"slug":"/java/"}},{"headings":[{"value":"JetBrains"}],"fields":{"slug":"/jetbrains/"}},{"headings":[{"value":"Javascript & Typescript Programming Language"}],"fields":{"slug":"/javascript/"}},{"headings":[{"value":"Jira"}],"fields":{"slug":"/jira/"}},{"headings":[{"value":"Kubernetes"}],"fields":{"slug":"/kubernetes/"}},{"headings":[{"value":"Language Server Protocol"}],"fields":{"slug":"/language-server-protocol/"}},{"headings":[{"value":"Kotlin Programming Language"}],"fields":{"slug":"/kotlin/"}},{"headings":[{"value":"Large Language Model"}],"fields":{"slug":"/large-language-model/"}},{"headings":[{"value":"Linux"}],"fields":{"slug":"/linux/"}},{"headings":[{"value":"Logging"}],"fields":{"slug":"/logging/"}},{"headings":[{"value":"Mac OS"}],"fields":{"slug":"/mac-os/"}},{"headings":[{"value":"Mail"}],"fields":{"slug":"/mail/"}},{"headings":[{"value":"Machine Learning"}],"fields":{"slug":"/machine-learning/"}},{"headings":[{"value":"Model Context Protocol(MCP)"}],"fields":{"slug":"/model-context-protocol/"}},{"headings":[{"value":"Markdown"}],"fields":{"slug":"/markdown/"}},{"headings":[{"value":"Network"}],"fields":{"slug":"/network/"}},{"headings":[{"value":"Node JS"}],"fields":{"slug":"/nodejs/"}},{"headings":[{"value":"Object Oriented Programming"}],"fields":{"slug":"/object-oriented-programming/"}},{"headings":[{"value":"Ollama"}],"fields":{"slug":"/ollama/"}},{"headings":[{"value":"OpenAI"}],"fields":{"slug":"/openai/"}},{"headings":[{"value":"Agno"}],"fields":{"slug":"/phidata/"}},{"headings":[{"value":"개인적인 철학"}],"fields":{"slug":"/philosophy/"}},{"headings":[{"value":"Playwright"}],"fields":{"slug":"/playwright/"}},{"headings":[{"value":"Physics"}],"fields":{"slug":"/physics/"}},{"headings":[{"value":"Podman"}],"fields":{"slug":"/podman/"}},{"headings":[{"value":"Programming Convention"}],"fields":{"slug":"/programming-convention/"}},{"headings":[{"value":"PostgreSQL"}],"fields":{"slug":"/postgresql/"}},{"headings":[{"value":"Programming Paradigm"}],"fields":{"slug":"/programming-paradigm/"}},{"headings":[{"value":"Python Programming Language"}],"fields":{"slug":"/python/"}},{"headings":[{"value":"인용문"}],"fields":{"slug":"/quotation/"}},{"headings":[{"value":"React JS"}],"fields":{"slug":"/reactjs/"}},{"headings":[{"value":"Reactive Extensions (Reactive X, RX)"}],"fields":{"slug":"/reactive-extensions/"}},{"headings":[{"value":"Redis"}],"fields":{"slug":"/redis/"}},{"headings":[{"value":"Reverse Engineering"}],"fields":{"slug":"/reverse-engineering/"}},{"headings":[{"value":"Rust Programming Language"}],"fields":{"slug":"/rust/"}},{"headings":[{"value":"SCP"}],"fields":{"slug":"/scp/"}},{"headings":[{"value":"보안"}],"fields":{"slug":"/security/"}},{"headings":[{"value":"Sentry - APM & Error Tracking"}],"fields":{"slug":"/sentry/"}},{"headings":[{"value":"소프트웨어 개발"}],"fields":{"slug":"/software-development/"}},{"headings":[{"value":"SFML"}],"fields":{"slug":"/sfml/"}},{"headings":[{"value":"우주"}],"fields":{"slug":"/space/"}},{"headings":[{"value":"시스템 장애"}],"fields":{"slug":"/system-failures/"}},{"headings":[{"value":"Spring framework"}],"fields":{"slug":"/spring-framework/"}},{"headings":[{"value":"테스트 주도 개발 (Test Driven Development)"}],"fields":{"slug":"/test-driven-development/"}},{"headings":[{"value":"Swagger"}],"fields":{"slug":"/swagger/"}},{"headings":[{"value":"Testing"}],"fields":{"slug":"/testing/"}},{"headings":[{"value":"Tmux"}],"fields":{"slug":"/tmux/"}},{"headings":[{"value":"Treesitter"}],"fields":{"slug":"/treesitter/"}},{"headings":[{"value":"Unicode"}],"fields":{"slug":"/unicode/"}},{"headings":[{"value":"개발/비개발 도구"}],"fields":{"slug":"/tools/"}},{"headings":[{"value":"Unity 3D"}],"fields":{"slug":"/unity3d/"}},{"headings":[{"value":"Vim Plugins"}],"fields":{"slug":"/vim-plugins/"}},{"headings":[{"value":"Valve사의 신규 입사자를 위한 핸드북"}],"fields":{"slug":"/valve/"}},{"headings":[{"value":"VimWiki"}],"fields":{"slug":"/vimwiki/"}},{"headings":[{"value":"Vim"}],"fields":{"slug":"/vim/"}},{"headings":[{"value":"VimEnter 2023"}],"fields":{"slug":"/vimenter-2023/"}},{"headings":[{"value":"WebGL"}],"fields":{"slug":"/webgl/"}},{"headings":[{"value":"웹 개발"}],"fields":{"slug":"/web/"}},{"headings":[{"value":"Vue JS"}],"fields":{"slug":"/vuejs/"}},{"headings":[{"value":"Windows"}],"fields":{"slug":"/windows/"}},{"headings":[{"value":"Windows Subsystem for Linux (WSL)"}],"fields":{"slug":"/windows-subsystem-for-linux/"}},{"headings":[{"value":"Shell 명령어"}],"fields":{"slug":"/shell/"}},{"headings":[{"value":"추론 애플리케이션"}],"fields":{"slug":"/인공지능/용어/추론 애플리케이션/"}}]},"site":{"siteMetadata":{"gitHubRepositoryUrl":"https://github.com/edunga1/cat-logic"}}},"pageContext":{"id":"9a8184db-7eea-5563-aa6d-6291b9576939"}},"staticQueryHashes":[],"slicesMap":{}}