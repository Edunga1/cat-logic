{"componentChunkName":"component---src-pages-wiki-markdown-remark-fields-slug-tsx","path":"/wiki/aws/","result":{"data":{"markdownRemark":{"tableOfContents":"<ul>\n<li>\n<p><a href=\"#amazon-web-service\">Amazon Web Service</a></p>\n</li>\n<li>\n<p><a href=\"#awscli\"><code>awscli</code></a></p>\n<ul>\n<li><a href=\"#ecr-%EB%A1%9C%EA%B7%B8%EC%9D%B8%ED%95%98%EA%B8%B0\">ECR 로그인하기</a></li>\n<li><a href=\"#iam-%EA%B4%80%EB%A0%A8\">IAM 관련</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#localstack\">LocalStack</a></p>\n</li>\n<li>\n<p><a href=\"#kinesis\">Kinesis</a></p>\n<ul>\n<li><a href=\"#%EC%9E%90%EB%B0%94-%EC%99%B8-%EC%96%B8%EC%96%B4%EB%A1%9C-kinesis-%EC%95%B1-%EA%B0%9C%EB%B0%9C\">자바 외 언어로 Kinesis 앱 개발</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#storage-service\">Storage Service</a></p>\n<ul>\n<li><a href=\"#ebs---elastic-block-storage\">EBS - Elastic Block Storage</a></li>\n<li><a href=\"#efs---elastic-file-system\">EFS - Elastic File System</a></li>\n<li><a href=\"#object-storage\">Object Storage</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#networking\">Networking</a></p>\n<ul>\n<li>\n<p><a href=\"#%EC%A3%BC%EC%9A%94-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9-%EC%84%9C%EB%B9%84%EC%8A%A4\">주요 네트워킹 서비스</a></p>\n<ul>\n<li><a href=\"#vpc---virtual-private-cloud\">VPC - Virtual Private Cloud</a></li>\n<li><a href=\"#direct-connect\">Direct Connect</a></li>\n<li><a href=\"#route-53\">Route 53</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","html":"<h1 id=\"amazon-web-service\" style=\"position:relative;\"><a href=\"#amazon-web-service\" aria-label=\"amazon web service permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Amazon Web Service</h1>\n<h1 id=\"awscli\" style=\"position:relative;\"><a href=\"#awscli\" aria-label=\"awscli permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>awscli</code></h1>\n<h2 id=\"ecr-로그인하기\" style=\"position:relative;\"><a href=\"#ecr-%EB%A1%9C%EA%B7%B8%EC%9D%B8%ED%95%98%EA%B8%B0\" aria-label=\"ecr 로그인하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ECR 로그인하기</h2>\n<pre><code class=\"language-bash\">aws ecr get-login-password --region &#x3C;REGION> | docker login --username AWS --password-stdin &#x3C;AWS_ACCOUNT_ID>.dkr.ecr.&#x3C;REGION>.amazonaws.com\n</code></pre>\n<p><code>REGION</code>: 서울 리전이라면 <code>ap-northeast-2</code></p>\n<p><code>AWS_ACCOUNT_ID</code> 구하기:</p>\n<pre><code class=\"language-bash\">aws sts get-caller-identity\n</code></pre>\n<p><code>Account</code> 필드의 값이 <code>AWS_ACCOUNT_ID</code> 이다.</p>\n<p>e.g. account id = <code>1234</code>, region = <code>ap-northeast-2</code>:</p>\n<pre><code class=\"language-bash\">aws ecr get-login-password --region ap-northeast-2 | docker login --username AWS --password-stdin 1234.dkr.ecr.ap-northeast-2.amazonaws.com\n</code></pre>\n<p>ref:</p>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/AmazonECR/latest/userguide/getting-started-cli.html\">https://docs.aws.amazon.com/AmazonECR/latest/userguide/getting-started-cli.html</a></li>\n<li><a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/console_account-alias.html\">https://docs.aws.amazon.com/IAM/latest/UserGuide/console_account-alias.html</a></li>\n</ul>\n<h2 id=\"iam-관련\" style=\"position:relative;\"><a href=\"#iam-%EA%B4%80%EB%A0%A8\" aria-label=\"iam 관련 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IAM 관련</h2>\n<p><a href=\"https://docs.aws.amazon.com/cli/latest/reference/iam/change-password.html\">비밀번호 변경</a>(응답 메시지 없음):<br>\n<code>aws iam change-password --old-password &#x3C;OLD_PASSWORD> --new-password &#x3C;NEW_PASSWORD></code></p>\n<p><a href=\"https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_credentials_access-keys.html#rotating_access_keys_cli\">Access Key 교체</a></p>\n<p>플로우가 조금 복잡하다. 새 access key 생성 -> 새 access key로 도구 업데이트 -> 기존 access key 비활성화 순서로 진행한다.</p>\n<p>기존 access key는 비활성화만 하고 나중에 직접 삭제하자.</p>\n<ol>\n<li><a href=\"https://docs.aws.amazon.com/cli/latest/reference/iam/create-access-key.html\">새 access key 생성</a>:\\</li>\n</ol>\n<p>foreground로 읽으니 파일로 저장하자.</p>\n<pre><code class=\"language-sh\">aws iam create-access-key > access-key.json\n</code></pre>\n<ol start=\"2\">\n<li><a href=\"https://docs.aws.amazon.com/cli/latest/reference/configure/\">새 access key로 도구 업데이트</a>:</li>\n</ol>\n<pre><code class=\"language-sh\">aws configure\n</code></pre>\n<ol start=\"3\">\n<li><a href=\"https://docs.aws.amazon.com/cli/latest/reference/iam/update-access-key.html\">기존 access key 비활성화</a>:</li>\n</ol>\n<pre><code class=\"language-sh\">aws iam update-access-key --access-key-id &#x3C;OLD_ACCESS_KEY_ID> --status Inactive\n</code></pre>\n<p>2번에서 <a href=\"https://awscli.amazonaws.com/v2/documentation/api/latest/reference/configure/import.html\">aws configure cli</a> 명으로로 <code>--csv</code> 포맷의 파일을 읽어서 업데이트 할 수 있다.\n그러면 interactive로 secret key를 입력하지 않고 자동화할 수 있을 듯한데, 1번의 생성 명령어에서 csv 포맷을 제공하지 않는다.</p>\n<p>기존 access-key를 확인하려면 <a href=\"https://docs.aws.amazon.com/cli/latest/reference/iam/list-access-keys.html\">list-access-keys</a>를 사용하면 된다:</p>\n<pre><code class=\"language-sh\">aws iam list-access-keys\n</code></pre>\n<h1 id=\"localstack\" style=\"position:relative;\"><a href=\"#localstack\" aria-label=\"localstack permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LocalStack</h1>\n<p><a href=\"https://github.com/localstack/localstack\">https://github.com/localstack/localstack</a></p>\n<p>로컬 환경에서 AWS 클라우드 스택을 구축하는 도구이다.</p>\n<p>클라우드 기능을 사용하면 의존 때문에 개발 환경을 구축하기 쉽지 않다.\n서비스에 가입하거나 비용을 지불하기엔 개발하기 너무 가혹하다.</p>\n<p>LocalStack은 AWS 기능 대부분을 제공한다. <a href=\"https://docs.localstack.cloud/references/coverage/\">https://docs.localstack.cloud/references/coverage/</a> 여기에서 어떤 기능을 커버하는지 확인할 수 있는데, 왠만한 서비스는 다 있는 것으로 보인다.</p>\n<p>도커로 실행하면 더 쉽다. 저장소의 <a href=\"https://github.com/localstack/localstack/blob/master/docker-compose.yml\">docker-compose.yml</a> 확인하고 그대로 사용해도 된다.</p>\n<p>Kinesis를 사용하기 위해서 다음과 같이 사용하고 있다:</p>\n<pre><code class=\"language-yml\">version: \"3.8\"\n\nservices:\n  localstack:\n    image: localstack/localstack\n    ports:\n      - \"127.0.0.1:4566:4566\"\n      - \"127.0.0.1:4510-4559:4510-4559\"\n    environment:\n      - DEBUG=1\n      - DOCKER_HOST=unix:///var/run/docker.sock\n    volumes:\n      - \"/var/run/docker.sock:/var/run/docker.sock\"\n      - \"./data:/var/lib/localstack\"\n      - \"./kinesis-my-stream.sh:/etc/localstack/init/ready.d/kinesis-my-stream.sh\"\n</code></pre>\n<p>다른 점은 볼륨의 마지막 부분인데, hook을 통해서 스트림을 생성하도록 했다:</p>\n<pre><code class=\"language-bash\">#!/bin/bash\n\naws --endpoint-url=http://localhost:4566 kinesis create-stream --stream-name my-event-dev --shard-count 1 --region ap-northeast-2\naws --endpoint-url=http://localhost:4566 kinesis list-streams --region ap-northeast-2\n</code></pre>\n<p>hook에 대해선 다음 문서에서 설명한다:<br>\n<a href=\"https://docs.localstack.cloud/references/init-hooks/\">https://docs.localstack.cloud/references/init-hooks/</a></p>\n<p>위 예시에서 보듯이 <code>aws</code> 명령어가 LocalStack과 잘 호환된다.\n<code>--endpoint-url</code>을 통해서 LocalStack와 통신한다.\n<code>awslocal</code> 명령어도 제공하는데, endpoint를 명시하지 않아도 된다. credential 관련 오류가 있으면 <code>awslocal</code> 명령을 사용하면 괜찮다.</p>\n<h1 id=\"kinesis\" style=\"position:relative;\"><a href=\"#kinesis\" aria-label=\"kinesis permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kinesis</h1>\n<p>Consumer 라이브러리를 KCL(Kinesis Client Library)라고 부르고,\nProducer 라이브러리를 KPL(Kinesis Producer Library)라고 부른다.\n문서 설명이 모두 이 약자로 설명하고 있기 때문에 알아두는 편이 좋다.</p>\n<p><a href=\"https://docs.aws.amazon.com/streams/latest/dev/shared-throughput-kcl-consumers.html#shared-throughput-kcl-consumers-concepts\">KCL 개념 - AWS Document</a></p>\n<p>KCL은 Shard를 추적하기 위해 DynamoDB를 사용한다.\n따라서 Kinesis, DynamoDB 두 개의 AWS 서비스를 사용해야 한다.</p>\n<p>AWS 공식 예제는 <a href=\"https://docs.aws.amazon.com/streams/latest/dev/kcl2-standard-consumer-java-example.html\">KCL 2.0 for Java</a>나\n<a href=\"https://github.com/awslabs/amazon-kinesis-client/blob/master/amazon-kinesis-client/src/test/java/software/amazon/kinesis/utils/TestRecordProcessor.java\">amazon-kinesis-client 저장소의 테스트 코드</a>가 있다.</p>\n<h2 id=\"자바-외-언어로-kinesis-앱-개발\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%B0%94-%EC%99%B8-%EC%96%B8%EC%96%B4%EB%A1%9C-kinesis-%EC%95%B1-%EA%B0%9C%EB%B0%9C\" aria-label=\"자바 외 언어로 kinesis 앱 개발 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자바 외 언어로 Kinesis 앱 개발</h2>\n<p>Node.js consumer를 만든다면 <a href=\"https://github.com/awslabs/amazon-kinesis-client-nodejs/\">KCL for Node.js</a>를 사용한다.</p>\n<p>주의할 점은 자바 외 언어로 제공하는 KCL은 모두 <a href=\"https://github.com/awslabs/amazon-kinesis-client\">KCL for JAVA</a>을 사용하기 때문에\n자바 런타임이 필요하다. <a href=\"https://github.com/awslabs/amazon-kinesis-client-nodejs/blob/master/bin/kcl-bootstrap\">데몬으로 KCL for Java와 통신하도록 구현</a>되어 있다.</p>\n<p>Node.js producer는 <a href=\"https://github.com/awslabs/amazon-kinesis-client-nodejs/\">aws-sdk</a>를 사용한다.</p>\n<p>LocalStack으로 Node.js consumer는 구현하기 어려워 보인다.\n먼저, LocalStack와 커뮤니케이션 하려면 endpoint 설정이 필요한데\nKCL 2.0으로 업데이트되면서 <code>kinesisEndpoint</code> <code>dynamodbEndpoint</code> <a href=\"https://docs.aws.amazon.com/streams/latest/dev/kcl-migration.html#client-configuration-removals\">설정이 제거</a>되었다.</p>\n<p>Client 생성 주체인 KCL for Node.js에서 진행해야 하지만, 여기엔 설정을 제공하지 않는다. 저장소가 거의 죽어있다.</p>\n<p>KCL for Java는 client builder를 통해서 endpoint를 설정할 수 있다. 저장소도 자주 업데이트 된다.</p>\n<pre><code class=\"language-java\">KinesisAsyncClient.builder().endpointOverride(URI.create(\"https://&#x3C;kinesis endpoint>\")).build().\n</code></pre>\n<h1 id=\"storage-service\" style=\"position:relative;\"><a href=\"#storage-service\" aria-label=\"storage service permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Storage Service</h1>\n<p>2021-09-31 AWS CEP 내용 정리한 것.</p>\n<p>Storage는 크게 Block, File, Object로 나뉜다.</p>\n<ul>\n<li>Block: 일반적인 저장소. AWS EBS.</li>\n<li>File: NAS 등. AWS EFS, FSx.</li>\n<li>Object: AWS S3, Glacier.</li>\n</ul>\n<h2 id=\"ebs---elastic-block-storage\" style=\"position:relative;\"><a href=\"#ebs---elastic-block-storage\" aria-label=\"ebs   elastic block storage permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>EBS - Elastic Block Storage</h2>\n<p>EC2는 OS 등 모든 파일은 네트워크로 연결되는 EBS를 사용한다.</p>\n<ul>\n<li>EC2의 Instance Store(물리 호스트)도 제공되나, 별도 설정이 필요하고, 사라지는 영역이라서 특정 용도가 아니면 사용되지 않고, 추천하지 않는다.</li>\n</ul>\n<p><strong>내구성</strong> <br>\nAWS에서는 99.999% 신뢰성 제공을 목적으로 설계 되며, 데이터를 잃어버리지 않는 것을 의미</p>\n<p>EBS GP2는 Burst 기능을 제공하는데, 유후 시간 후 처음 30분간 3,000 IOPS를 제공하는 기능이다.</p>\n<ul>\n<li>기본 성능은 3 IOPS/GB 인데, 따라서 1,000GB 이상 볼륨을 사용한다면, Burst 한 것과 같은 성능이므로 Burst 기능을 제공하지 않는다.</li>\n<li>GP3은 항상 3,000 IOPS 고정이나, 1TB(1,000GB)를 초과하더라도 3,000 IOPS 그대로다.</li>\n</ul>\n<p>EBS의 스냅샷은 전체 Copy가 아니라 Incremental을 저장하므로, 스냅샷을 자주 사용하도록 설정하는 것이 좋다.</p>\n<h2 id=\"efs---elastic-file-system\" style=\"position:relative;\"><a href=\"#efs---elastic-file-system\" aria-label=\"efs   elastic file system permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>EFS - Elastic File System</h2>\n<p>처음부터 얼마나 사용할 지 고민할 필요는 없다. 사용한 만큼 비용 지불. 사용할 때 마다 용량 확장된다.(Scalable)</p>\n<h2 id=\"object-storage\" style=\"position:relative;\"><a href=\"#object-storage\" aria-label=\"object storage permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Object Storage</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/cat-logic/static/929bdee8c8695b2ef4d86667bcedddd3/8b70b/aws-object-storage-classes.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB20lEQVR42q1SS2vbQBDWv/fZtU+2KfjW1yEB99AYEkhDHoWmwXVVnFIXh8aWLGtXj93VY7X7lR05ptDSUwcGffPNzDdiZ7zhYIBer49er4d+v0/u8FPc7XYPHH2ftbnBYIDRaEQ+HA4xHo/R6XTgAUBRFCjLEkop1HUNrTWyLCO+aRri0jSFlBJSKeR5jr/Zer1uBV2TtbZlrT1gS+Fv8VPNvscNdl5VFXFffL8VrLWGNQbGWmgLGGNaIdPAmGaPDUzTHHKwjjc01DSaBBeLBbzdh1Pcv31BRBCEeHlyDZ4Jio9vVziZrQgvA47R+T0yIenf30x/4uz6kXIXtwGOzrb46n+Gl95M8ePda0okm0ecTyZIqQk4mgU49detYCTw/OqB3tEJvppGeP8xbAU/MUwuOL4tfHiVrhFzTgkpBaLtlpbgjLEYWZ4RLkqFON5B64ZizmII0S5nt4sgVQ7fvaEuNJJ4LygEOOcoi4KWk7IEyZZBqxo5y8B3DHo/TAjR1sEiYRxFKjGfzeEhlVARg3YnUpQwVYmGsELFc2QPEZJViGQZQEUJdKlQK4mmLKhHK4lKSKSswuxu3m75f9n35RKeO1h3kEEQ/NM3mw3VhWH4R87xaZLg8vIKvwBT9TOSmFi/IQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"object storage classes\"\n        title=\"\"\n        src=\"/cat-logic/static/929bdee8c8695b2ef4d86667bcedddd3/fcda8/aws-object-storage-classes.png\"\n        srcset=\"/cat-logic/static/929bdee8c8695b2ef4d86667bcedddd3/12f09/aws-object-storage-classes.png 148w,\n/cat-logic/static/929bdee8c8695b2ef4d86667bcedddd3/e4a3f/aws-object-storage-classes.png 295w,\n/cat-logic/static/929bdee8c8695b2ef4d86667bcedddd3/fcda8/aws-object-storage-classes.png 590w,\n/cat-logic/static/929bdee8c8695b2ef4d86667bcedddd3/efc66/aws-object-storage-classes.png 885w,\n/cat-logic/static/929bdee8c8695b2ef4d86667bcedddd3/c83ae/aws-object-storage-classes.png 1180w,\n/cat-logic/static/929bdee8c8695b2ef4d86667bcedddd3/8b70b/aws-object-storage-classes.png 1266w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>S3 에서 사용하는 스토리지 타입</p>\n<p>HOT - COLD는 오브젝트에 접근했을 때 반응에 대한 내용. Observable과 같은 맥락 같다.</p>\n<h1 id=\"networking\" style=\"position:relative;\"><a href=\"#networking\" aria-label=\"networking permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Networking</h1>\n<p>2021-09-31 AWS CEP 내용 정리한 것.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/cat-logic/static/d2c3764a21e8408aecec05b61b17f901/20c85/aws-global-infrastructure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVR42oVSa2+DMAzk//+1ruqHSpX6rZqAVqVQIOT9uMluYRlim6XTBZM4d44LYwwulwvKslxwvzfMdV0vXFUVtNagSCn9ikJKif1+j+PxiMPhgN3uA+fzmb9PpxOu1+tSmC7/LwqlFPq+R9u2zMMwMHddh2ma+NYQAmKMsNZy0RyUE0Is5wtjLNLbRiTEN1OhGOG8h/eeizJi5OIpRaQYWdU4jtySpmlQGGt5kw8BPsQF88G5sHUBxgU4HyC0xa2bGE+hf1qm29dBarX16CeDUVnGY5B4DApNL3HP0AlFJ5bWFNY5pAS2Or/UbH1Zr14S3KRXkLNXDuyosNa9bIUI6wNbI1ukkBS1o8IgDe9Zu9gsmFu2PkK7AGUcJu24WCc0WyfF6xncLCiVgnMeYpLoB8GcNtTMCtOKNxXSommf+KxuKOvbeyy+1VA78h7/qTCEb8uUmKRizmPdvzxopFJ2vlBKw1gHGnB6caU1ZJajOVXaQNN/ymWgb2UMnHM8/MRfrND35iOwNYIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-global-infrastructure\"\n        title=\"\"\n        src=\"/cat-logic/static/d2c3764a21e8408aecec05b61b17f901/fcda8/aws-global-infrastructure.png\"\n        srcset=\"/cat-logic/static/d2c3764a21e8408aecec05b61b17f901/12f09/aws-global-infrastructure.png 148w,\n/cat-logic/static/d2c3764a21e8408aecec05b61b17f901/e4a3f/aws-global-infrastructure.png 295w,\n/cat-logic/static/d2c3764a21e8408aecec05b61b17f901/fcda8/aws-global-infrastructure.png 590w,\n/cat-logic/static/d2c3764a21e8408aecec05b61b17f901/efc66/aws-global-infrastructure.png 885w,\n/cat-logic/static/d2c3764a21e8408aecec05b61b17f901/20c85/aws-global-infrastructure.png 999w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Region에는 2개의 Transit이 존재한다. 다른 Region, 외부와의 연결 통로가 된다.</p>\n<p>AZ간 통신은 내부망을 통해서만 이루어진다.</p>\n<h2 id=\"주요-네트워킹-서비스\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9A%94-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9-%EC%84%9C%EB%B9%84%EC%8A%A4\" aria-label=\"주요 네트워킹 서비스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주요 네트워킹 서비스</h2>\n<ul>\n<li>VPC: AWS 클라우드상에 만드는 가상 네트워크</li>\n<li>VPN: On-premise 데이터 센터와 VPC의 IPSec VPN 연결</li>\n<li>Direct Connect: On-premise 데이터 센터와 VPC의 전용선 연결</li>\n<li>Route 53: 관리형 DNS 서비스</li>\n</ul>\n<p>AWS에서 자원 레벨은 Global과 Regional으로 나뉜다.\nEC2는 Regional 서비스에 포함된다.</p>\n<p>AWS에서는 Static의 반대되는 용어로 <code>Elastic</code>을 사용한다.</p>\n<h3 id=\"vpc---virtual-private-cloud\" style=\"position:relative;\"><a href=\"#vpc---virtual-private-cloud\" aria-label=\"vpc   virtual private cloud permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VPC - Virtual Private Cloud</h3>\n<p>독립된 가상 클라우드 네트워크. 나만의 네트워크라고 이해하면 된다.</p>\n<p>IP 대역은 CIDR(Classes Inter-Domain Routing) 블록 /16 ~ /28 까지 사용 가능하다.</p>\n<p>공인 IP는 비싼 자원이므로 서버 Stop시 해제된다는 등 제약이 있다.</p>\n<p>DNS는 기본으로 제공되는 Private, Public DNS가 제공됨</p>\n<p><strong>IP 대역</strong> <br>\n172.16.0.0/16 CIDR 내에서 네트워크 구성된다.</p>\n<p><strong>VPC Peering</strong></p>\n<ul>\n<li>동일 Region 내 VPC간 네트워크 연결 옵션</li>\n<li>VPC간 IP가 중복 불가하며, 하나의 Peering만 제공</li>\n</ul>\n<h3 id=\"direct-connect\" style=\"position:relative;\"><a href=\"#direct-connect\" aria-label=\"direct connect permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Direct Connect</h3>\n<p>Direct Connect는 물리적으로 전용선으로 연결한다.</p>\n<h3 id=\"route-53\" style=\"position:relative;\"><a href=\"#route-53\" aria-label=\"route 53 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Route 53</h3>\n<p>Route53은 FQDN + 다양한 기능을 제공한다.</p>"}},"pageContext":{"id":"52225858-000b-5789-9e9d-d00ca94f22b0","fields__slug":"/aws/","__params":{"fields__slug":"aws"}}},"staticQueryHashes":[],"slicesMap":{}}