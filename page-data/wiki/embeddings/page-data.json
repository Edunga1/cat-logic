{"componentChunkName":"component---src-components-gatsby-templates-wiki-tsx","path":"/wiki/embeddings/","result":{"data":{"file":{"fields":{"gitLogLatestHash":"61bf82ca4dae6a9b7a54549da1f9002a65b087c1","gitLogLatestDate":"2024-04-13T13:47:37Z"},"childMarkdownRemark":{"headings":[{"value":"임베딩"}],"fields":{"slug":"/embeddings/","relatedDocs":[{"slug":"javascript","similarity":0.4750989766},{"slug":"web","similarity":0.4796503101},{"slug":"2016-08-27-gdg-webtech-workshop-nnn","similarity":0.4356386262},{"slug":"crontab","similarity":0.3500593268},{"slug":"gradle","similarity":0.3362350169},{"slug":"idea-methodology","similarity":0.3909642592},{"slug":"2016-11-16-google-campus-two-things-you-must-keep-in-google-play","similarity":0.4084589794},{"slug":"spring-framework","similarity":0.3837393601},{"slug":"aws","similarity":0.3939675443},{"slug":"git","similarity":0.4710555675},{"slug":"algorithm-practice","similarity":0.3472213465},{"slug":"docker","similarity":0.3997843509},{"slug":"scp","similarity":0.2476108905},{"slug":"mac-os","similarity":0.4332000094},{"slug":"testing","similarity":0.416818213},{"slug":"machine-learning","similarity":0.5726361227},{"slug":"devops","similarity":0.4111507387},{"slug":"python","similarity":0.4339318237},{"slug":"object-oriented-programming","similarity":0.4565344289},{"slug":"linux","similarity":0.3458537194},{"slug":"sfml","similarity":0.339414857},{"slug":"windows","similarity":0.4035626327},{"slug":"markdown","similarity":0.472026229},{"slug":"cat-logic","similarity":0.5336544704},{"slug":"vuejs","similarity":0.2652538694},{"slug":"shell","similarity":0.4580501462},{"slug":"html","similarity":0.3531347682},{"slug":"vimenter-2023","similarity":0.4828633626},{"slug":"data-analysis","similarity":0.4264192273},{"slug":"hardware","similarity":0.3331912113},{"slug":"programming-convention","similarity":0.3474845351},{"slug":"webgl","similarity":0.3314097705},{"slug":"sentry","similarity":0.2786000839},{"slug":"valve","similarity":0.3081259508},{"slug":"security","similarity":0.3681293665},{"slug":"reactjs","similarity":0.375414218},{"slug":"airflow","similarity":0.3394581446},{"slug":"computer-graphics","similarity":0.2503983402},{"slug":"elasticsearch","similarity":0.4604648453},{"slug":"unicode","similarity":0.4511942488},{"slug":"logging","similarity":0.3087938596},{"slug":"tools","similarity":0.4718984836},{"slug":"programming-paradigm","similarity":0.478465685},{"slug":"system-failures","similarity":0.3268031756},{"slug":"amazon-redshift","similarity":0.1833525618},{"slug":"inspiration","similarity":0.3631136251},{"slug":"gatsbyjs","similarity":0.4343020475},{"slug":"design-pattern","similarity":0.428868416},{"slug":"game","similarity":0.445206715},{"slug":"kubernetes","similarity":0.3309153148},{"slug":"llm-tools","similarity":0.548184294},{"slug":"nodejs","similarity":0.5470970139},{"slug":"continuous-integration-and-deployment","similarity":0.2852301683},{"slug":"rust","similarity":0.4479894816},{"slug":"book","similarity":0.3647055405},{"slug":"jetbrains","similarity":0.4214482686},{"slug":"quotation","similarity":0.3287517643},{"slug":"postgresql","similarity":0.3258884918},{"slug":"jira","similarity":0.2696054605},{"slug":"swagger","similarity":0.2837195377},{"slug":"architecture","similarity":0.4422927062},{"slug":"unity3d","similarity":0.383688224},{"slug":"jargon","similarity":0.4373695532},{"slug":"language-server-protocol","similarity":0.311662659},{"slug":"clean-code","similarity":0.4209913521},{"slug":"java","similarity":0.4592217879},{"slug":"windows-subsystem-for-linux","similarity":0.4142571145},{"slug":"test-driven-development","similarity":0.2465504984},{"slug":"philosophy","similarity":0.4989657149},{"slug":"github","similarity":0.4138128168},{"slug":"network","similarity":0.3240612828},{"slug":"kotlin","similarity":0.4278493051},{"slug":"c-sharp","similarity":0.2887775425},{"slug":"angularjs","similarity":0.4029511004},{"slug":"vim","similarity":0.4324977812},{"slug":"ionic-framework","similarity":0.2922837391},{"slug":"physics","similarity":0.3720576364},{"slug":"html-canvas","similarity":0.3098018152},{"slug":"reverse-engineering","similarity":0.4032043816},{"slug":"space","similarity":0.3140491871},{"slug":"css","similarity":0.2971946428},{"slug":"code-review","similarity":0.3702554739},{"slug":"software-development","similarity":0.4359013196},{"slug":"database","similarity":0.4923556088},{"slug":"reactive-extensions","similarity":0.2652894192},{"slug":"redis","similarity":0.3352963353},{"slug":"mail","similarity":0.229140438},{"slug":"experience-review","similarity":0.3472395433},{"slug":"google-analytics","similarity":0.3431124915},{"slug":"data-structure","similarity":0.3395439369},{"slug":"vimwiki","similarity":0.4725642456},{"slug":"embeddings","similarity":1},{"slug":"추론 애플리케이션","similarity":0.5523423212}]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9E%84%EB%B2%A0%EB%94%A9\">임베딩</a></p>\n<ul>\n<li><a href=\"#cat-logic%EC%97%90-%EC%A0%81%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0\">Cat Logic에 적용해보기</a></li>\n<li><a href=\"#open-ai%EC%9D%98-%EC%9E%84%EB%B2%A0%EB%94%A9-%EB%AA%A8%EB%8D%B8\">Open AI의 임베딩 모델</a></li>\n</ul>\n</li>\n</ul>","html":"<h1 id=\"임베딩\" style=\"position:relative;\"><a href=\"#%EC%9E%84%EB%B2%A0%EB%94%A9\" aria-label=\"임베딩 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>임베딩</h1>\n<p>임베딩은 텍스트나 이미지 등 다른 유형의 데이터를 벡터로 변환하는 것을 말한다.</p>\n<p>예를들어 word2vec은 단어를 벡터로 변환한다.</p>\n<p>벡터는 숫자 배열로 표현되기 때문에, 데이터간 수학적 연산이 가능해진다.\n거리(Distance)는 서로의 유사성을 나타낸다. 거리가 클 수록 관련성이 낮고, 거리가 작을 수록 관련성이 높다.</p>\n<p>OpenAI 문서에서는 임베딩하면 다음과 같은 일을 할 수 있다고 한다:</p>\n<ol>\n<li>검색: 결과를 검색한 문자열과 유사 순위를 매길 수 있다.</li>\n<li>군집화: 유사한 텍스트끼리 그룹화할 수 있다.</li>\n<li>추천: 문자열과 유사한 결과를 추천할 수 있다.</li>\n<li>이상 탐지: 관련 없는 이상값을 식별할 수 있다.</li>\n<li>다양성 측정: 유사도 분포를 분석할 수 있다.</li>\n<li>분류: 텍스트들을 가장 유사한 레이블로 분류할 수 있다.</li>\n</ol>\n<h2 id=\"cat-logic에-적용해보기\" style=\"position:relative;\"><a href=\"#cat-logic%EC%97%90-%EC%A0%81%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"cat logic에 적용해보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cat Logic에 적용해보기</h2>\n<p><a href=\"https://news.hada.io/topic?id=11593\">임베딩(Embeddings)은 무엇이고 왜 중요한가</a> 글을 읽고 내 위키 문서에도 똑같이 적용해보고 싶어졌다.</p>\n<p>필자는 Open AI의 임베딩 API를 사용해서 \"관련 글\"을 구현했다고 한다.\n블로그 글을 임베딩하여 결과를 SQLite에 저장하고 코사인 유사성을 계산했는데 그 비용이 매우 저렴해서 0.04 달러 밖에 들지 않았다고.\n필요할 때마다 변경된 글만 임베딩하면 되므로 유지 비용도 크게 들지 않을 것으로 보인다.\n다만, Open AI의 독점 모델을 사용했는데 모델이 종료되면서 변경해야 했단다.</p>\n<hr>\n<p>위에서 언급한 글에서는 Open AI의 <a href=\"https://platform.openai.com/docs/api-reference/embeddings\">text-embedding-ada-002</a> 모델을 사용했는데, 텍스트를 변환하는 모델이다.</p>\n<blockquote>\n<p>The input must not exceed the max input tokens for the model (8192 tokens for text-embedding-ada-002) and cannot be an empty string.</p>\n</blockquote>\n<p><code class=\"language-text\">text-embedding-ada-002</code>는 총 8192 tokens을 받을 수 있다. 단어나 구둣점 등이 토큰으로 취급되니 긴 글은 초과할 수도 있겠다.</p>\n<p>검색을 좀 해보니, 한글 성능도 괜찮다고 한다.\n오히려 무료 한글 모델이 성능이 부족하다고 하니 로컬에서 우선적으로 테스트하는 용도로 사용해 볼 듯.</p>\n<hr>\n<p>2023-11-02</p>\n<p><a href=\"https://github.com/SKTBrain/KoBERT\">KoBERT</a>를 시도해 보고있다.\n22년 이후로 관리되지 않아서인지 설치하는데 애먹고 있다.\n이슈 탭만 보더라도 많은 사람들이 설치에 어려움을 겪고 있다.\n파이썬 의존성 설치와 관련된 문제다. 아쉽게도 README에 환경에 대해서 잘 명세하지 않고 있다.\n포크 받아서 의존성 버전 수정하면 어떻게든 해볼 수 있을 듯.</p>\n<hr>\n<p>2023-11-05 <strong>임베딩을 직접 해봤다</strong>.</p>\n<p>KoBERT는 환경 구성이 번거로워서 포기했다.\n나중에 시간이 나면 해볼 생각이다.</p>\n<p>OpenAI의 <code class=\"language-text\">text-embedding-ada-002</code> 모델을 사용해 보았다.\n아쉽게도 ChatGPT를 예전부터 사용하고 있어서 무료 크레딧이 모두 만료되어 있었다. 총 $18 제공 했었는데.</p>\n<p><a href=\"../cat-logic\">Cat Logic</a> 문서를 임베딩 했고, Cosine 유사도를 계산해 보았다.\nOpenAI를 호출하고 csv로 저장하는 파이썬 코드를 모두 Cat Logic 저장소에 올려두었다:<br>\n<a href=\"https://github.com/Edunga1/cat-logic/tree/main/embeddings\">https://github.com/Edunga1/cat-logic/tree/main/embeddings</a></p>\n<p>총 83개의 문서를 처리했다. 한 번에 8천개 토큰 만큼만 호출할 수 있다.\n그래서 문서를 토큰 기준으로 자를 필요가 있다. 문자열 길이로 자르면 토큰 수 계산이 일정하게 되지 않는다.</p>\n<p><a href=\"https://pypi.org/project/tiktoken/\">tiktoken</a>으로 토큰을 계산할 수 있다.</p>\n<p>한글은 단어당 토큰을 더 많이 사용한다. <code class=\"language-text\">orange</code>는 1토큰인 반면에 <code class=\"language-text\">귤</code>은 2토큰이다.\n단어를 토큰화하면 일련의 숫자 배열인 토큰으로 변한다. 이것을 인코딩이라 한다.\n배열 크기가 토큰 수가 된다. 다시 디코딩하면 토큰이 단어로 변한다.\n인코딩과 디코딩을 통해 텍스트를 토큰 기준으로 자를 수 있다.\n다만 한글은 1개의 글자가 2개 토큰이 되기도 하므로 경계가 잘리면 의미없는 값이 나올 수 있다.\n전체 문서중 아주 작은 부분일 것이므로 무시하기로 했다.</p>\n<p>어쨌든 임베딩하면 다차원 배열로 임베딩 결과가 나오게 되고,\n이걸 numpy로 읽어서, 코사인 유사도를 계산하면 된다.</p>\n<p>다음은 <a href=\"../javascript\">javascript.md</a> 문서와 다른 문서들의 유사도를 계산한 결과다:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">                    filename_x                                         filename_y  similarity\n<span class=\"token number\">0</span>   <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                         <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md    <span class=\"token number\">1.000000</span>\n<span class=\"token number\">46</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                             <span class=\"token punctuation\">..</span>/docs/wiki/nodejs.md    <span class=\"token number\">0.882524</span>\n<span class=\"token number\">66</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                          <span class=\"token punctuation\">..</span>/docs/wiki/angularjs.md    <span class=\"token number\">0.868043</span>\n<span class=\"token number\">32</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/reactjs.md    <span class=\"token number\">0.860560</span>\n<span class=\"token number\">1</span>   <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                                <span class=\"token punctuation\">..</span>/docs/wiki/web.md    <span class=\"token number\">0.854540</span>\n<span class=\"token number\">54</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                       <span class=\"token punctuation\">..</span>/docs/wiki/architecture.md    <span class=\"token number\">0.852273</span>\n<span class=\"token number\">2</span>   <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md  <span class=\"token punctuation\">..</span>/docs/wiki/2016-08-27-gdg-webtech-workshop-n<span class=\"token punctuation\">..</span>.    <span class=\"token number\">0.849046</span>\n<span class=\"token number\">58</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                         <span class=\"token punctuation\">..</span>/docs/wiki/clean-code.md    <span class=\"token number\">0.848594</span>\n<span class=\"token number\">29</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                              <span class=\"token punctuation\">..</span>/docs/wiki/webgl.md    <span class=\"token number\">0.845717</span>\n<span class=\"token number\">35</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md             <span class=\"token punctuation\">..</span>/docs/wiki/programming-philosophy.md    <span class=\"token number\">0.845219</span>\n<span class=\"token number\">17</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md        <span class=\"token punctuation\">..</span>/docs/wiki/object-oriented-programming.md    <span class=\"token number\">0.842636</span>\n<span class=\"token number\">40</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md               <span class=\"token punctuation\">..</span>/docs/wiki/programming-paradigm.md    <span class=\"token number\">0.841840</span>\n<span class=\"token number\">74</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md               <span class=\"token punctuation\">..</span>/docs/wiki/software-development.md    <span class=\"token number\">0.841606</span>\n<span class=\"token number\">42</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                           <span class=\"token punctuation\">..</span>/docs/wiki/gatsbyjs.md    <span class=\"token number\">0.839241</span>\n<span class=\"token number\">41</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                        <span class=\"token punctuation\">..</span>/docs/wiki/inspiration.md    <span class=\"token number\">0.838280</span>\n<span class=\"token number\">69</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/physics.md    <span class=\"token number\">0.829791</span>\n<span class=\"token number\">56</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                             <span class=\"token punctuation\">..</span>/docs/wiki/jargon.md    <span class=\"token number\">0.828210</span>\n<span class=\"token number\">79</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                  <span class=\"token punctuation\">..</span>/docs/wiki/experience-review.md    <span class=\"token number\">0.826690</span>\n<span class=\"token number\">14</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                   <span class=\"token punctuation\">..</span>/docs/wiki/machine-learning.md    <span class=\"token number\">0.825359</span>\n<span class=\"token number\">5</span>   <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md  <span class=\"token punctuation\">..</span>/docs/wiki/2016-11-16-google-campus-two-thin<span class=\"token punctuation\">..</span>.    <span class=\"token number\">0.824535</span>\n<span class=\"token number\">43</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                     <span class=\"token punctuation\">..</span>/docs/wiki/design-pattern.md    <span class=\"token number\">0.823865</span>\n<span class=\"token number\">50</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                          <span class=\"token punctuation\">..</span>/docs/wiki/jetbrains.md    <span class=\"token number\">0.822214</span>\n<span class=\"token number\">22</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                          <span class=\"token punctuation\">..</span>/docs/wiki/cat-logic.md    <span class=\"token number\">0.820970</span>\n<span class=\"token number\">73</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                        <span class=\"token punctuation\">..</span>/docs/wiki/code-review.md    <span class=\"token number\">0.819712</span>\n<span class=\"token number\">64</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                             <span class=\"token punctuation\">..</span>/docs/wiki/kotlin.md    <span class=\"token number\">0.819240</span>\n<span class=\"token number\">8</span>   <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                                <span class=\"token punctuation\">..</span>/docs/wiki/git.md    <span class=\"token number\">0.818140</span>\n<span class=\"token number\">25</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                               <span class=\"token punctuation\">..</span>/docs/wiki/html.md    <span class=\"token number\">0.817782</span>\n<span class=\"token number\">24</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                              <span class=\"token punctuation\">..</span>/docs/wiki/shell.md    <span class=\"token number\">0.817766</span>\n<span class=\"token number\">55</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/unity3d.md    <span class=\"token number\">0.816814</span>\n<span class=\"token number\">67</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                                <span class=\"token punctuation\">..</span>/docs/wiki/vim.md    <span class=\"token number\">0.816136</span>\n<span class=\"token number\">75</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                           <span class=\"token punctuation\">..</span>/docs/wiki/database.md    <span class=\"token number\">0.814912</span>\n<span class=\"token number\">61</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md            <span class=\"token punctuation\">..</span>/docs/wiki/test-driven-development.md    <span class=\"token number\">0.814854</span>\n<span class=\"token number\">57</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md           <span class=\"token punctuation\">..</span>/docs/wiki/language-server-protocol.md    <span class=\"token number\">0.812373</span>\n<span class=\"token number\">15</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                             <span class=\"token punctuation\">..</span>/docs/wiki/devops.md    <span class=\"token number\">0.812291</span>\n<span class=\"token number\">47</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md  <span class=\"token punctuation\">..</span>/docs/wiki/continuous-integration-and-deploy<span class=\"token punctuation\">..</span>.    <span class=\"token number\">0.811741</span>\n<span class=\"token number\">13</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/testing.md    <span class=\"token number\">0.811093</span>\n<span class=\"token number\">39</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                              <span class=\"token punctuation\">..</span>/docs/wiki/tools.md    <span class=\"token number\">0.809628</span>\n<span class=\"token number\">28</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md             <span class=\"token punctuation\">..</span>/docs/wiki/programming-convention.md    <span class=\"token number\">0.808528</span>\n<span class=\"token number\">65</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/c-sharp.md    <span class=\"token number\">0.808382</span>\n<span class=\"token number\">6</span>   <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                   <span class=\"token punctuation\">..</span>/docs/wiki/spring-framework.md    <span class=\"token number\">0.807617</span>\n<span class=\"token number\">4</span>   <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                   <span class=\"token punctuation\">..</span>/docs/wiki/idea-methodology.md    <span class=\"token number\">0.807293</span>\n<span class=\"token number\">37</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/unicode.md    <span class=\"token number\">0.806298</span>\n<span class=\"token number\">68</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                    <span class=\"token punctuation\">..</span>/docs/wiki/ionic-framework.md    <span class=\"token number\">0.806017</span>\n<span class=\"token number\">72</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                                <span class=\"token punctuation\">..</span>/docs/wiki/css.md    <span class=\"token number\">0.805362</span>\n<span class=\"token number\">49</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                               <span class=\"token punctuation\">..</span>/docs/wiki/book.md    <span class=\"token number\">0.804810</span>\n<span class=\"token number\">82</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/vimwiki.md    <span class=\"token number\">0.802841</span>\n<span class=\"token number\">21</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                           <span class=\"token punctuation\">..</span>/docs/wiki/markdown.md    <span class=\"token number\">0.801383</span>\n<span class=\"token number\">23</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                              <span class=\"token punctuation\">..</span>/docs/wiki/vuejs.md    <span class=\"token number\">0.800746</span>\n<span class=\"token number\">81</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                     <span class=\"token punctuation\">..</span>/docs/wiki/data-structure.md    <span class=\"token number\">0.794468</span>\n<span class=\"token number\">16</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                             <span class=\"token punctuation\">..</span>/docs/wiki/python.md    <span class=\"token number\">0.794347</span>\n<span class=\"token number\">59</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                               <span class=\"token punctuation\">..</span>/docs/wiki/java.md    <span class=\"token number\">0.793991</span>\n<span class=\"token number\">18</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                              <span class=\"token punctuation\">..</span>/docs/wiki/linux.md    <span class=\"token number\">0.793489</span>\n<span class=\"token number\">10</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                             <span class=\"token punctuation\">..</span>/docs/wiki/docker.md    <span class=\"token number\">0.793108</span>\n<span class=\"token number\">19</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                               <span class=\"token punctuation\">..</span>/docs/wiki/sfml.md    <span class=\"token number\">0.792960</span>\n<span class=\"token number\">9</span>   <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                 <span class=\"token punctuation\">..</span>/docs/wiki/algorithm-practice.md    <span class=\"token number\">0.792566</span>\n<span class=\"token number\">44</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                               <span class=\"token punctuation\">..</span>/docs/wiki/game.md    <span class=\"token number\">0.792278</span>\n<span class=\"token number\">36</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                      <span class=\"token punctuation\">..</span>/docs/wiki/elasticsearch.md    <span class=\"token number\">0.791766</span>\n<span class=\"token number\">60</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md        <span class=\"token punctuation\">..</span>/docs/wiki/windows-subsystem-for-linux.md    <span class=\"token number\">0.791548</span>\n<span class=\"token number\">80</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                   <span class=\"token punctuation\">..</span>/docs/wiki/google-analytics.md    <span class=\"token number\">0.791235</span>\n<span class=\"token number\">30</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                             <span class=\"token punctuation\">..</span>/docs/wiki/sentry.md    <span class=\"token number\">0.790978</span>\n<span class=\"token number\">12</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                             <span class=\"token punctuation\">..</span>/docs/wiki/mac-os.md    <span class=\"token number\">0.789427</span>\n<span class=\"token number\">20</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/windows.md    <span class=\"token number\">0.789279</span>\n<span class=\"token number\">7</span>   <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                                <span class=\"token punctuation\">..</span>/docs/wiki/aws.md    <span class=\"token number\">0.788144</span>\n<span class=\"token number\">53</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/swagger.md    <span class=\"token number\">0.787858</span>\n<span class=\"token number\">31</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                              <span class=\"token punctuation\">..</span>/docs/wiki/valve.md    <span class=\"token number\">0.786964</span>\n<span class=\"token number\">51</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                          <span class=\"token punctuation\">..</span>/docs/wiki/quotation.md    <span class=\"token number\">0.786382</span>\n<span class=\"token number\">38</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/logging.md    <span class=\"token number\">0.785585</span>\n<span class=\"token number\">45</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                         <span class=\"token punctuation\">..</span>/docs/wiki/kubernetes.md    <span class=\"token number\">0.785464</span>\n<span class=\"token number\">70</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                        <span class=\"token punctuation\">..</span>/docs/wiki/html-canvas.md    <span class=\"token number\">0.782338</span>\n<span class=\"token number\">26</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                      <span class=\"token punctuation\">..</span>/docs/wiki/data-analysis.md    <span class=\"token number\">0.782211</span>\n<span class=\"token number\">3</span>   <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/crontab.md    <span class=\"token number\">0.777749</span>\n<span class=\"token number\">52</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                               <span class=\"token punctuation\">..</span>/docs/wiki/jira.md    <span class=\"token number\">0.777742</span>\n<span class=\"token number\">63</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/network.md    <span class=\"token number\">0.777385</span>\n<span class=\"token number\">48</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                               <span class=\"token punctuation\">..</span>/docs/wiki/rust.md    <span class=\"token number\">0.777058</span>\n<span class=\"token number\">71</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                <span class=\"token punctuation\">..</span>/docs/wiki/reverse-engineering.md    <span class=\"token number\">0.776867</span>\n<span class=\"token number\">27</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                           <span class=\"token punctuation\">..</span>/docs/wiki/hardware.md    <span class=\"token number\">0.774096</span>\n<span class=\"token number\">62</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                             <span class=\"token punctuation\">..</span>/docs/wiki/github.md    <span class=\"token number\">0.772994</span>\n<span class=\"token number\">34</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                  <span class=\"token punctuation\">..</span>/docs/wiki/computer-graphics.md    <span class=\"token number\">0.772767</span>\n<span class=\"token number\">76</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                <span class=\"token punctuation\">..</span>/docs/wiki/reactive-extensions.md    <span class=\"token number\">0.770802</span>\n<span class=\"token number\">78</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                               <span class=\"token punctuation\">..</span>/docs/wiki/mail.md    <span class=\"token number\">0.767006</span>\n<span class=\"token number\">77</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                              <span class=\"token punctuation\">..</span>/docs/wiki/redis.md    <span class=\"token number\">0.758210</span>\n<span class=\"token number\">33</span>  <span class=\"token punctuation\">..</span>/docs/wiki/javascript.md                            <span class=\"token punctuation\">..</span>/docs/wiki/airflow.md    <span class=\"token number\">0.753884</span></code></pre></div>\n<p>자기 자신과의 유사도는 1이다. 1에 가까울수록 유사도가 높다.<br>\n<code class=\"language-text\">javascript.md</code> 문서와 <code class=\"language-text\">nodejs.md</code> 문서가 가장 유사하다.<br>\n<code class=\"language-text\">javascript.md</code> 문서와 <code class=\"language-text\">airflow.md</code> 문서가 가장 유사하지 않다.</p>\n<p>같은 자바스크립트 관련 문서인 <code class=\"language-text\">nodejs.md</code>, <code class=\"language-text\">reactjs.md</code>, <code class=\"language-text\">angularjs.md</code>는 유사도가 높다.\n납득이 가는 결과라 만족스럽다.</p>\n<p>임베딩 API를 사용하는데 총 0.03 달러가 소모되었다. 한국 돈으로 40원 정도다.\n<a href=\"https://wikidocs.net/200466\">wikidocs</a> 문서에 따르면 ada-002 모델로 어린 왕자 책 분량인 4만 토큰을 임베딩하는데 0.016 달러가 소모된다고 한다.</p>\n<h2 id=\"open-ai의-임베딩-모델\" style=\"position:relative;\"><a href=\"#open-ai%EC%9D%98-%EC%9E%84%EB%B2%A0%EB%94%A9-%EB%AA%A8%EB%8D%B8\" aria-label=\"open ai의 임베딩 모델 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Open AI의 임베딩 모델</h2>\n<p>2024년 3월 27일 기준 Open AI의 임베딩 모델은 다음과 같다:</p>\n<table>\n<thead>\n<tr>\n<th>MODEL</th>\n<th>~ PAGES PER DOLLAR</th>\n<th>PERFORMANCE ON MTEB EVAL</th>\n<th>MAX INPUT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>text-embedding-3-small</td>\n<td>62,500</td>\n<td>62.3%</td>\n<td>8191</td>\n</tr>\n<tr>\n<td>text-embedding-3-large</td>\n<td>9,615</td>\n<td>64.6%</td>\n<td>8191</td>\n</tr>\n<tr>\n<td>text-embedding-ada-002</td>\n<td>12,500</td>\n<td>61.0%</td>\n<td>8191</td>\n</tr>\n</tbody>\n</table>\n<p>cat-logic은 <code class=\"language-text\">text-embedding-ada-002</code> 모델을 사용해오다가 최근에 추가된 <code class=\"language-text\">text-embedding-3-small</code> 모델로 변경했다.</p>\n<p><code class=\"language-text\">small</code> 모델은 가격대비 성능이 우수하다. OpenAI의 모델은 모두 한국어를 잘 처리하는 듯 하다.</p>\n<p>cat-logic의 문서의 총 문자 수 67만자 정도를 기준으로, 0.01 달러 미만으로 임베딩을 할 수 있었다.\n위 섹션 <code class=\"language-text\">ada-002</code> 모델의 0.03 달러와 비교할 수 있겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">wc</span> ./docs/wiki/**/*.md\n   <span class=\"token number\">353</span>   <span class=\"token number\">1319</span>  <span class=\"token number\">12715</span> ./docs/wiki/2016-08-27-gdg-webtech-workshop-nnn.md\n   <span class=\"token punctuation\">..</span>.\n   <span class=\"token number\">156</span>    <span class=\"token number\">599</span>   <span class=\"token number\">5738</span> ./docs/wiki/windows-subsystem-for-linux.md\n <span class=\"token number\">15534</span>  <span class=\"token number\">65139</span> <span class=\"token number\">670242</span> total</code></pre></div>"}}},"pageContext":{"id":"ff6e5d70-a7c7-5e52-8eb0-25fc5cf9cb15"}},"staticQueryHashes":[],"slicesMap":{}}