{"componentChunkName":"component---src-components-gatsby-templates-wiki-tsx","path":"/wiki/git/","result":{"data":{"file":{"fields":{"gitLogLatestHash":"9d953aaff39af31acfba848610778c3ba311c3a3","gitLogLatestDate":"2024-03-11T14:05:00Z"},"childMarkdownRemark":{"headings":[{"value":"Git"}],"fields":{"slug":"/git/","relatedDocs":[{"slug":"javascript","similarity":0.5679826991},{"slug":"web","similarity":0.4905329675},{"slug":"2016-08-27-gdg-webtech-workshop-nnn","similarity":0.4650334179},{"slug":"crontab","similarity":0.43915956},{"slug":"gradle","similarity":0.4404068903},{"slug":"idea-methodology","similarity":0.415731495},{"slug":"2016-11-16-google-campus-two-things-you-must-keep-in-google-play","similarity":0.4380285035},{"slug":"spring-framework","similarity":0.4606228577},{"slug":"aws","similarity":0.4453026906},{"slug":"git","similarity":1},{"slug":"algorithm-practice","similarity":0.3726767171},{"slug":"docker","similarity":0.4887337952},{"slug":"scp","similarity":0.3499899059},{"slug":"mac-os","similarity":0.5260550022},{"slug":"testing","similarity":0.5280485368},{"slug":"machine-learning","similarity":0.5819154772},{"slug":"devops","similarity":0.3924119038},{"slug":"python","similarity":0.493963415},{"slug":"object-oriented-programming","similarity":0.4790159665},{"slug":"linux","similarity":0.4056654812},{"slug":"sfml","similarity":0.494714348},{"slug":"windows","similarity":0.3664939099},{"slug":"markdown","similarity":0.4428832123},{"slug":"cat-logic","similarity":0.6646019837},{"slug":"vuejs","similarity":0.3048842134},{"slug":"shell","similarity":0.5783386548},{"slug":"html","similarity":0.4135300606},{"slug":"vimenter-2023","similarity":0.4914359772},{"slug":"data-analysis","similarity":0.4549684767},{"slug":"hardware","similarity":0.3143766388},{"slug":"programming-convention","similarity":0.4240212809},{"slug":"webgl","similarity":0.33989174},{"slug":"sentry","similarity":0.3628630442},{"slug":"valve","similarity":0.316986697},{"slug":"security","similarity":0.475067751},{"slug":"reactjs","similarity":0.5025994111},{"slug":"airflow","similarity":0.3596532903},{"slug":"computer-graphics","similarity":0.2757559425},{"slug":"elasticsearch","similarity":0.4553301843},{"slug":"unicode","similarity":0.4420127598},{"slug":"logging","similarity":0.3725921371},{"slug":"tools","similarity":0.6005524789},{"slug":"programming-paradigm","similarity":0.4525285498},{"slug":"system-failures","similarity":0.3791163881},{"slug":"amazon-redshift","similarity":0.2842199877},{"slug":"inspiration","similarity":0.3770060791},{"slug":"gatsbyjs","similarity":0.6210488326},{"slug":"design-pattern","similarity":0.5117960024},{"slug":"game","similarity":0.453261431},{"slug":"kubernetes","similarity":0.3949606739},{"slug":"llm-tools","similarity":0.5019543415},{"slug":"nodejs","similarity":0.6211171762},{"slug":"continuous-integration-and-deployment","similarity":0.3598566874},{"slug":"rust","similarity":0.5261753506},{"slug":"book","similarity":0.4018239378},{"slug":"jetbrains","similarity":0.5583016131},{"slug":"quotation","similarity":0.3456929746},{"slug":"postgresql","similarity":0.4320294205},{"slug":"jira","similarity":0.4176321033},{"slug":"swagger","similarity":0.3802352344},{"slug":"architecture","similarity":0.644727441},{"slug":"unity3d","similarity":0.4791103049},{"slug":"jargon","similarity":0.4400928276},{"slug":"language-server-protocol","similarity":0.3414543261},{"slug":"clean-code","similarity":0.4679225634},{"slug":"java","similarity":0.4888157576},{"slug":"windows-subsystem-for-linux","similarity":0.5559027044},{"slug":"test-driven-development","similarity":0.3107686055},{"slug":"philosophy","similarity":0.5836048328},{"slug":"github","similarity":0.6272321107},{"slug":"network","similarity":0.3443751911},{"slug":"kotlin","similarity":0.4921977058},{"slug":"c-sharp","similarity":0.2857537964},{"slug":"angularjs","similarity":0.4652923231},{"slug":"vim","similarity":0.7164613482},{"slug":"ionic-framework","similarity":0.3785116459},{"slug":"physics","similarity":0.3697232207},{"slug":"html-canvas","similarity":0.3206056479},{"slug":"reverse-engineering","similarity":0.3842275894},{"slug":"space","similarity":0.2895170695},{"slug":"css","similarity":0.3811108385},{"slug":"code-review","similarity":0.4653662425},{"slug":"software-development","similarity":0.5471765819},{"slug":"database","similarity":0.6275904953},{"slug":"reactive-extensions","similarity":0.2078406148},{"slug":"redis","similarity":0.3310450139},{"slug":"mail","similarity":0.2863654496},{"slug":"experience-review","similarity":0.3539037554},{"slug":"google-analytics","similarity":0.3326556813},{"slug":"data-structure","similarity":0.424545161},{"slug":"vimwiki","similarity":0.5513494344},{"slug":"embeddings","similarity":0.4710555675},{"slug":"추론 애플리케이션","similarity":0.3615649275}]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#git\">Git</a></p>\n<ul>\n<li>\n<p><a href=\"#%EA%B9%83-%EC%BB%A4%EB%B0%8B-%ED%95%B4%EC%8B%9C-%EC%B6%A9%EB%8F%8C%EC%97%90-%EA%B4%80%ED%95%98%EC%97%AC\">깃 커밋 해시 충돌에 관하여</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EB%A6%AC%EB%88%84%EC%8A%A4-%ED%86%A0%EB%B0%9C%EC%A6%88%EC%9D%98-%EC%9D%98%EA%B2%AC\">리누스 토발즈의 의견</a></li>\n<li><a href=\"#%ED%95%B4%EC%8B%9C-%EC%B6%A9%EB%8F%8C%EC%9D%84-%EC%9E%AC%ED%98%84%ED%95%9C-so-%EA%B8%80\">해시 충돌을 재현한 SO 글</a></li>\n<li><a href=\"#%EC%BB%A4%EB%B0%8B-%ED%95%B4%EC%8B%9C%EB%A5%BC-%EA%B2%B0%EC%A0%95%ED%95%98%EB%8A%94-%EC%9A%94%EC%86%8C\">커밋 해시를 결정하는 요소</a></li>\n<li><a href=\"#%ED%95%B4%EC%8B%9C-%EC%B4%9D%EB%8F%8C-%EC%9C%A0%EB%A8%B8\">해시 총돌 유머</a></li>\n<li><a href=\"#sha1-%EC%B8%B5%EB%8F%8C-%EC%84%A4%EB%AA%85\">sha1 층돌 설명</a></li>\n<li><a href=\"#md5-%EC%B6%A9%EB%8F%8C-%EC%98%88%EC%A0%9C\">md5 충돌 예제</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#configurations\">Configurations</a></p>\n<ul>\n<li><a href=\"#conflict-style\">Conflict Style</a></li>\n<li><a href=\"#commit\">Commit</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#git-clone\"><code class=\"language-text\">git clone</code></a></p>\n<ul>\n<li><a href=\"#--depth\"><code class=\"language-text\">--depth</code></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#git-rebase--i\"><code class=\"language-text\">git rebase -i</code></a></p>\n</li>\n<li>\n<p><a href=\"#git-revert--m\"><code class=\"language-text\">git revert -m</code></a></p>\n</li>\n<li>\n<p><a href=\"#git-log\"><code class=\"language-text\">git log</code></a></p>\n<ul>\n<li>\n<p><a href=\"#git-log---graph\"><code class=\"language-text\">git log --graph</code></a></p>\n<ul>\n<li><a href=\"#--date-order-%EB%A1%9C-%ED%94%BC%EB%9D%BC%EB%AF%B8%EB%93%9C-%EA%B7%B8%EB%9E%98%ED%94%84-%EB%B0%A9%EC%A7%80%ED%95%98%EA%B8%B0\"><code class=\"language-text\">--date-order</code> 로 피라미드 그래프 방지하기</a></li>\n<li><a href=\"#%EC%98%B5%EC%85%98-%EC%84%A4%EB%AA%85\">옵션 설명</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#--date-order-%EC%99%80---author-date-order-%EB%B9%84%EA%B5%90\"><code class=\"language-text\">--date-order</code> 와 <code class=\"language-text\">--author-date-order</code> 비교</a></p>\n</li>\n<li>\n<p><a href=\"#--follow\"><code class=\"language-text\">--follow</code></a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#git-worktree\"><code class=\"language-text\">git worktree</code></a></p>\n</li>\n<li>\n<p><a href=\"#git-large-file-storagelfs\">Git Large File Storage(LFS)</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EB%B2%95\">사용법</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%BB%A4%EB%B0%8B-%EC%84%9C%EB%AA%85%ED%95%98%EA%B8%B0\">커밋 서명하기</a></p>\n<ul>\n<li><a href=\"#gpg-%ED%82%A4-%EC%83%9D%EC%84%B1-gpg---full-generate-key\">GPG 키 생성: <code class=\"language-text\">gpg --full-generate-key</code></a></li>\n<li><a href=\"#gpg-%ED%82%A4-%ED%99%95%EC%9D%B8-gpg---list-secret-keys---keyid-formatlong\">GPG 키 확인: <code class=\"language-text\">gpg --list-secret-keys --keyid-format=long</code></a></li>\n<li><a href=\"#gpg-%ED%82%A4-export-gpg---armor---export-key-id\">GPG 키 export: <code class=\"language-text\">gpg --armor --export &lt;key-id></code></a></li>\n<li><a href=\"#gpg-%ED%82%A4-github%EC%97%90-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0\">GPG 키 GitHub에 등록하기</a></li>\n<li><a href=\"#%EC%84%9C%EB%AA%85%ED%95%98%EA%B8%B0\">서명하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#troubleshooting\">Troubleshooting</a></p>\n<ul>\n<li><a href=\"#git-commit-%EC%8B%9C-waiting-for-your-editor-to-close-the-file-%EB%A9%94%EC%8B%9C%EC%A7%80%EC%99%80-%ED%95%A8%EA%BB%98-%EC%BB%A4%EB%B0%8B%EC%9D%B4-%EC%95%88%EB%90%98%EB%8A%94-%EB%AC%B8%EC%A0%9C\">Git commit 시 \"Waiting for your editor to close the file...\" 메시지와 함께 커밋이 안되는 문제</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","html":"<h1 id=\"git\" style=\"position:relative;\"><a href=\"#git\" aria-label=\"git permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Git</h1>\n<p>Git은 2005년 4월 3일에 리누스 토발즈가 개발을 시작해서,\n17일 후인 4월 20일에 리눅스 2.6.12-rc3 커널을 <a href=\"https://patrickcollison.com/fast\">Git으로 공개</a>했다.</p>\n<p><a href=\"https://lkml.iu.edu/hypermail/linux/kernel/0504.2/0784.html\">2.6.12-rc3의 릴리즈 메일</a>에 Git에 대해서 언급된다.</p>\n<blockquote>\n<p>Ok,\nyou know what the subject line means by now, but this release is a bit\ndifferent from the usual ones, for obvious reasons. It's the first in a\n<em>long</em> time that I've done without using BK, and it's the first one ever\nthat has been built up completely with \"git\".</p>\n</blockquote>\n<p><em>명령어 자동완성하기</em>: <a href=\"https://github.com/bobthecow/git-flow-completion/wiki/Install-Bash-git-completion\">https://github.com/bobthecow/git-flow-completion/wiki/Install-Bash-git-completion</a></p>\n<h2 id=\"깃-커밋-해시-충돌에-관하여\" style=\"position:relative;\"><a href=\"#%EA%B9%83-%EC%BB%A4%EB%B0%8B-%ED%95%B4%EC%8B%9C-%EC%B6%A9%EB%8F%8C%EC%97%90-%EA%B4%80%ED%95%98%EC%97%AC\" aria-label=\"깃 커밋 해시 충돌에 관하여 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>깃 커밋 해시 충돌에 관하여</h2>\n<p>어느날 커밋 해시는 어떤 정보를 기반하여 만들어지는지 궁금했다.\n커밋 해시는 <code class=\"language-text\">git commit</code> 할 때 생성되고, 커밋 해시로 <code class=\"language-text\">git checkout</code>하여 특정 revision으로 이동한다.</p>\n<p>따라오는 질문은 \"커밋 할 때 해시가 충돌할 여지는 없는가\" 였다.</p>\n<p>먼저, <a href=\"https://git-scm.com/book/ko/v1/Git-%EB%8F%84%EA%B5%AC-%EB%A6%AC%EB%B9%84%EC%A0%84-%EC%A1%B0%ED%9A%8C%ED%95%98%EA%B8%B0\">git-scm</a>의 글\n<a href=\"https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-%EB%A6%AC%EB%B9%84%EC%A0%84-%EC%A1%B0%ED%9A%8C%ED%95%98%EA%B8%B0#:~:text=%EB%85%B8%ED%8A%B8-,SHA%2D1%20%ED%95%B4%EC%8B%9C%20%EA%B0%92%EC%97%90%20%EB%8C%80%ED%95%9C%20%EB%8B%A8%EC%83%81,-Git%EC%9D%84%20%EC%93%B0%EB%8A%94\">SHA-1 해시 값에 대한 단상</a>에서\n이러한 걱정에 대한 현실적인 조언을 해 준다. 또 실제로 발생하면 어떤 일이 일어나는지 알려준다.</p>\n<p>요약하면, 해시 중복이 생성되면, 현재 구현으로는 커밋은 성공하지만, checkout하면 최초의 revision으로 이동한다.\n하지만 충돌이 발생할 확률은 현실적으로 불가능하다.</p>\n<blockquote>\n<p>SHA-1 해시 값에 대한 단상</p>\n<p>Git을 쓰는 사람들은 가능성이 작긴 하지만 언젠가 SHA-1 값이 중복될까 봐 걱정한다. 정말 그렇게 되면 어떤 일이 벌어질까?</p>\n<p>이미 있는 SHA-1 값이 Git 데이터베이스에 커밋되면 새로운 개체라고 해도 이미 커밋된 것으로 생각하고 이전의 커밋을 재사용한다. 그래서 해당 SHA-1 값의 커밋을 Checkout 하면 항상 처음 저장한 커밋만 Checkout 된다.</p>\n<p>그러나 해시 값이 중복되는 일은 일어나기 어렵다. SHA-1 값의 크기는 20 바이트(160비트)이다. 해시 값이 중복될 확률이 50%가 되는 데 필요한 개체의 수는 280이다. 이 수는 1자 2,000해 ('자’는 '경’의 '억’배 - 1024, 충돌 확률을 구하는 공식은 p = (n(n-1)/2) * (1/2^160) )이다. 즉, 지구에 존재하는 모래알의 수에 1,200을 곱한 수와 맞먹는다.</p>\n<p>아직도 SHA-1 해시 값이 중복될까 봐 걱정하는 사람들을 위해 좀 더 덧붙이겠다. 지구에서 약 6억 5천만 명의 인구가 개발하고 각자 매초 Linux 커널 히스토리 전체와(650만 개) 맞먹는 개체를 쏟아 내고 바로 Push 한다고 가정하자. 이런 상황에서 해시 값의 충돌 날 확률이 50%가 되기까지는 약 2년이 걸린다. 그냥 어느 날 동료가 한 순간에 모두 늑대에게 물려 죽을 확률이 훨씬 더 높다.</p>\n</blockquote>\n<h4 id=\"리누스-토발즈의-의견\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%EB%88%84%EC%8A%A4-%ED%86%A0%EB%B0%9C%EC%A6%88%EC%9D%98-%EC%9D%98%EA%B2%AC\" aria-label=\"리누스 토발즈의 의견 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리누스 토발즈의 의견</h4>\n<p>그래도 운이 정말 나빠서, 해시 충돌 문제에 벗어날 수 없다면, 리누스 토발즈도 이 이슈에 대해 언급했다.\n아쉽게도 원글이 있던 google+가 종료되어 볼 수 없지만 예전에 올라온 나프다 게시글에 누군가 요약해 주었다.</p>\n<p><a href=\"https://www.facebook.com/iamprogrammer.io/posts/1379005945454259\">https://www.facebook.com/iamprogrammer.io/posts/1379005945454259</a></p>\n<p>사람이 소스코드의 변경을 지켜보고 있기 때문에 괜찮고, 또 대안은 있다고 한다.</p>\n<h4 id=\"해시-충돌을-재현한-so-글\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EC%8B%9C-%EC%B6%A9%EB%8F%8C%EC%9D%84-%EC%9E%AC%ED%98%84%ED%95%9C-so-%EA%B8%80\" aria-label=\"해시 충돌을 재현한 so 글 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해시 충돌을 재현한 SO 글</h4>\n<p>사실 충돌 문제에 대해 가장 먼저 접한 것은 StackOverflow의 질문이었다.</p>\n<p><a href=\"https://stackoverflow.com/questions/9392365\">https://stackoverflow.com/questions/9392365</a></p>\n<p><a href=\"https://stackoverflow.com/questions/9392365/how-would-git-handle-a-sha-1-collision-on-a-blob/34599081#34599081\">답변</a>에서,\n해시 사이즈를 4-bit로 줄여서 실제로 재현했다. <code class=\"language-text\">push</code>, <code class=\"language-text\">clone</code> 할 때 에러가 발생한다.</p>\n<h4 id=\"커밋-해시를-결정하는-요소\" style=\"position:relative;\"><a href=\"#%EC%BB%A4%EB%B0%8B-%ED%95%B4%EC%8B%9C%EB%A5%BC-%EA%B2%B0%EC%A0%95%ED%95%98%EB%8A%94-%EC%9A%94%EC%86%8C\" aria-label=\"커밋 해시를 결정하는 요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>커밋 해시를 결정하는 요소</h4>\n<p>커밋 해시가 무엇으로 결정되는지 알려주는 SO 글. 부모 커밋, 커미터, 메시지 등.</p>\n<p><a href=\"https://stackoverflow.com/questions/34764195\">https://stackoverflow.com/questions/34764195</a></p>\n<h4 id=\"해시-총돌-유머\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EC%8B%9C-%EC%B4%9D%EB%8F%8C-%EC%9C%A0%EB%A8%B8\" aria-label=\"해시 총돌 유머 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해시 총돌 유머</h4>\n<p>여기 있는 사이트가 사라졌다 :|</p>\n<blockquote>\n<p>뻘글) git 불안해서 못쓰겟음니다 -.-;</p>\n</blockquote>\n<p><a href=\"https://www.codentalks.com/t/topic/2973\">https://www.codentalks.com/t/topic/2973</a></p>\n<p>찾다가 나온 유머글 ㅎㅎ. <a href=\"https://www.codentalks.com/uploads/default/original/2X/9/98fa43031c7cfbf44c714ad5819ea504ef37e70c.jpg\">덧글에 있는 만화</a>처럼\n걱정, 우려만 해서는 안되겠다.</p>\n<h4 id=\"sha1-층돌-설명\" style=\"position:relative;\"><a href=\"#sha1-%EC%B8%B5%EB%8F%8C-%EC%84%A4%EB%AA%85\" aria-label=\"sha1 층돌 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sha1 층돌 설명</h4>\n<p>여기도 사이트가 사라졌다 :-|</p>\n<p>sha1 충돌 이슈에 설명. 해시에 대한 기초 설명, 구글이 sha-1 충돌 재현에 대한 주변 설명.</p>\n<p><a href=\"https://zariski.wordpress.com/2017/02/25/sha-1-%EC%B6%A9%EB%8F%8C/\">https://zariski.wordpress.com/2017/02/25/sha-1-%EC%B6%A9%EB%8F%8C/</a></p>\n<h4 id=\"md5-충돌-예제\" style=\"position:relative;\"><a href=\"#md5-%EC%B6%A9%EB%8F%8C-%EC%98%88%EC%A0%9C\" aria-label=\"md5 충돌 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>md5 충돌 예제</h4>\n<p>여기 예제 사이트에서는 다른 파일인데 같은 MD5 sum을 가진 예제를 제공한다.\n근데 다운받아보면 실행도 안되고, 바이너리지만 열어보면 내용도 같아 보이는데.. 심지어 파일 크기도 같다. 제대로 된 예제가 맞나?</p>\n<p><a href=\"https://www.mathstat.dal.ca/~selinger/md5collision\">https://www.mathstat.dal.ca/~selinger/md5collision</a></p>\n<h2 id=\"configurations\" style=\"position:relative;\"><a href=\"#configurations\" aria-label=\"configurations permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configurations</h2>\n<p><code class=\"language-text\">.gitconfig</code> 파일에 설정을 저장하거나 <code class=\"language-text\">git config</code> 명령어로 설정을 추가하거나 확인한다.</p>\n<h3 id=\"conflict-style\" style=\"position:relative;\"><a href=\"#conflict-style\" aria-label=\"conflict style permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conflict Style</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>merge<span class=\"token punctuation\">]</span>\n  conflictStyle <span class=\"token operator\">=</span> zdiff3</code></pre></div>\n<p>커밋 충돌 시 diff를 보여주는 방식을 개선한다.\n기본값의 경우 다음과 같이 나타난다면:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">++<span class=\"token operator\">&lt;&lt;&lt;</span><span class=\"token operator\">&lt;&lt;&lt;</span><span class=\"token operator\">&lt;</span> HEAD\n +python <span class=\"token parameter variable\">-m</span> SimpleHTTPServer <span class=\"token number\">1234</span>\n+<span class=\"token operator\">+=</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\n+ python <span class=\"token parameter variable\">-m</span> SimpleHTTPServer <span class=\"token number\">4321</span></code></pre></div>\n<p><code class=\"language-text\">zdiff3</code>은 원본 코드를 중간에 함께 보여준다:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">++<span class=\"token operator\">&lt;&lt;&lt;</span><span class=\"token operator\">&lt;&lt;&lt;</span><span class=\"token operator\">&lt;</span> HEAD\n +python <span class=\"token parameter variable\">-m</span> SimpleHTTPServer <span class=\"token number\">1234</span>\n++<span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">|</span> parent of dbecef5 <span class=\"token punctuation\">(</span><span class=\"token number\">4321</span><span class=\"token punctuation\">)</span>\n++python <span class=\"token parameter variable\">-m</span> SimpleHTTPServer <span class=\"token number\">8080</span>\n+<span class=\"token operator\">+=</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\n+ python <span class=\"token parameter variable\">-m</span> SimpleHTTPServer <span class=\"token number\">4321</span>\n++<span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span> dbecef5 <span class=\"token punctuation\">(</span><span class=\"token number\">4321</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"commit\" style=\"position:relative;\"><a href=\"#commit\" aria-label=\"commit permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Commit</h3>\n<p><code class=\"language-text\">git commit --verbose</code> 옵션을 자주 사용한다.\n커밋 메시지를 작성할 때 변경  내용을 함께 보여줘서 유용하기 때문이다.</p>\n<p>다음 설정은 옵션 생략하고, 기본 설정을 변경한다:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span>\n  verbose <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span></code></pre></div>\n<p>위 예시는 <code class=\"language-text\">git rebase</code>의 충돌 결과라 <code class=\"language-text\">parent of dbecef5</code> 메시지와 함께 rebase를 시작한 커밋의 원본 코드를 보여준다.</p>\n<h2 id=\"git-clone\" style=\"position:relative;\"><a href=\"#git-clone\" aria-label=\"git clone permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">git clone</code></h2>\n<p>저장소를 복제하는 명렁어. 가장 기본적인 명령어 중 하나라서 모르는 사람은 없겠다.</p>\n<h3 id=\"--depth\" style=\"position:relative;\"><a href=\"#--depth\" aria-label=\"  depth permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">--depth</code></h3>\n<p><code class=\"language-text\">--depth</code> 옵션은 저장소의 최신 커밋만 복제한다. 얕은 복제라 한다:</p>\n<blockquote>\n<p>Create a shallow clone with a history truncated to the specified number of commits.</p>\n</blockquote>\n<p>예를 들어 <code class=\"language-text\">--depth 1</code>로 복제하면 최신 커밋만 복제한다. 이 옵션을 사용하면 저장소의 용량이 줄어드는 장점이 있다.</p>\n<p>내 위키 프로젝트의 경우 전체 복제하는 경우 <code class=\"language-text\">.git</code> 폴더의 용량은:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">du</span> <span class=\"token parameter variable\">-sh</span> .git\n295M    .git</code></pre></div>\n<p><code class=\"language-text\">--depth 1</code>로 복제하는 경우:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">du</span> <span class=\"token parameter variable\">-sh</span> .git\n25M     .git</code></pre></div>\n<p>10배의 차이가 있다.</p>\n<hr>\n<p>GitHub Actions와 같이 배포 시스템을 구축하는 경우 최신 리비전만 필요한 경우가 많다.</p>\n<p><a href=\"https://github.com/actions/checkout\">https://github.com/actions/checkout</a> 프로젝트는 저장소에 접근하기 위해서 많이 사용하는데, 기본적으로 <code class=\"language-text\">--depth 1</code> 옵션을 사용한다.</p>\n<p>이 설정은 변경 가능하다:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Number of commits to fetch. 0 indicates all history for all branches and tags.</span>\n  <span class=\"token comment\"># Default: 1</span>\n  <span class=\"token key atrule\">fetch-depth</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span></code></pre></div>\n<p>내 경우는 정적 사이트를 빌드하면서, 커밋 내역을 확인해서 파일의 정보를 사이트에 보여주는 기능이 있었는데,\n기본값으로 사용하면서 제대로 정보를 보여줄 수 없었다.</p>\n<h2 id=\"git-rebase--i\" style=\"position:relative;\"><a href=\"#git-rebase--i\" aria-label=\"git rebase  i permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">git rebase -i</code></h2>\n<p><a href=\"https://meetup.toast.com/posts/39\">https://meetup.toast.com/posts/39</a></p>\n<p>여러개의 커밋을 묶는데, <code class=\"language-text\">git reset HEAD~#</code> 후 다시 커밋을 생성하는 방법도 있지만,\n여러개의 커밋을 남겼을 경우, 메시지들이 사라진다는 단점이 있다.\n애초에 일련의 과정이 아니라, 수동으로 처리하는 행동 자체에서 꺼림칙함을 느낀다.</p>\n<p>위 글은 <code class=\"language-text\">git rebase -i</code>를 이용하여 어떤 커밋을 하나로 합칠지 알려준다.\n하지만 정말 유용한 기능 하나가 빠져있는데, 커밋 순서를 정렬할 수 있는 것이다.\n이는 <code class=\"language-text\">git rebase -i</code>하면 나오는 설명에도 나온다\n<code class=\"language-text\">These lines can be re-ordered;</code></p>\n<p>각 커밋을 의미하는 라인을 다시 정렬하면 git history가 그렇게 바뀐다.</p>\n<p>예를들어 A라는 작업과 B라는 작업이 있다.\nA는 기능 하나를 추가하는 것이고, B는 A 작업을 하다보니 파일을 옮기고, 스타일을 바꾸는 작업들을 했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">* 5d31146 <span class=\"token punctuation\">(</span>HEAD -<span class=\"token operator\">></span> master<span class=\"token punctuation\">)</span> A2\n* 90bb25a B\n* b94056d A1\n* 5fc47ec A\n* 325da60 init</code></pre></div>\n<p>문제는 A 작업을 처리하기 위해서 3개의 커밋을 남겼는데, 그 사이에 B 작업이 껴 있을 때다.</p>\n<p>이 때 <code class=\"language-text\">git rebase -i 325da60</code> 수정할 수 있는 화면이 뜬다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pick 5fc47ec A\npick b94056d A1\npick 90bb25a B\npick 5d31146 A2\n\n<span class=\"token comment\"># Rebase 325da60..5d31146 onto 325da60 (4 commands)</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Commands:</span>\n<span class=\"token comment\"># p, pick = use commit</span>\n<span class=\"token comment\"># r, reword = use commit, but edit the commit message</span>\n<span class=\"token comment\"># e, edit = use commit, but stop for amending</span>\n<span class=\"token comment\"># s, squash = use commit, but meld into previous commit</span>\n<span class=\"token comment\"># f, fixup = like \"squash\", but discard this commit's log message</span>\n<span class=\"token comment\"># x, exec = run command (the rest of the line) using shell</span>\n<span class=\"token comment\"># d, drop = remove commit</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># These lines can be re-ordered; they are executed from top to bottom.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># If you remove a line here THAT COMMIT WILL BE LOST.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># However, if you remove everything, the rebase will be aborted.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Note that empty commits are commented out</span></code></pre></div>\n<p>내가 원하는 히스토리는</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">B\nA\ninit</code></pre></div>\n<p>이런 순서다.</p>\n<p>밑에 커밋이 위로 합쳐지므로, 다음과 같이 바꾼다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pick 5fc47ec A\nsquash b94056d A1\nsquash 5d31146 A2\npick 90bb25a B\n\n<span class=\"token comment\"># Rebase 325da60..5d31146 onto 325da60 (4 commands)</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Commands:</span>\n<span class=\"token comment\"># p, pick = use commit</span>\n<span class=\"token comment\"># r, reword = use commit, but edit the commit message</span>\n<span class=\"token comment\"># e, edit = use commit, but stop for amending</span>\n<span class=\"token comment\"># s, squash = use commit, but meld into previous commit</span>\n<span class=\"token comment\"># f, fixup = like \"squash\", but discard this commit's log message</span>\n<span class=\"token comment\"># x, exec = run command (the rest of the line) using shell</span>\n<span class=\"token comment\"># d, drop = remove commit</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># These lines can be re-ordered; they are executed from top to bottom.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># If you remove a line here THAT COMMIT WILL BE LOST.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># However, if you remove everything, the rebase will be aborted.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Note that empty commits are commented out</span></code></pre></div>\n<p>B를 가장 밑으로 빼고, A1과 A2는 squash로 바꾼다. 이러면 A와 B만 남는다.</p>\n<p>이제 저장하고 나오면..</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># This is a combination of 3 commits.</span>\n<span class=\"token comment\"># This is the 1st commit message:</span>\n\nA\n\n<span class=\"token comment\">## This is the commit message #2:</span>\n\nA1\n\n<span class=\"token comment\">## This is the commit message #3:</span>\n\nA2\n\n<span class=\"token comment\"># Please enter the commit message for your changes. Lines starting</span>\n<span class=\"token comment\"># with '#' will be ignored, and an empty message aborts the commit.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Date:      Mon Mar 25 22:49:24 2019 +0900</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># interactive rebase in progress; onto 325da60</span>\n<span class=\"token comment\"># Last commands done (3 commands done):</span>\n<span class=\"token comment\">#    squash b94056d A1</span>\n<span class=\"token comment\">#    squash 5d31146 A2</span>\n<span class=\"token comment\"># Next command to do (1 remaining command):</span>\n<span class=\"token comment\">#    pick 90bb25a B</span>\n<span class=\"token comment\"># You are currently rebasing branch 'master' on '325da60'.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Changes to be committed:</span>\n<span class=\"token comment\">#\tmodified:   README</span>\n<span class=\"token comment\">#</span></code></pre></div>\n<p>A + A1 + A2에 대한 커밋 메시지를 작성하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">A\n\n- <span class=\"token number\">1</span>\n- <span class=\"token number\">2</span>\n<span class=\"token comment\"># Please enter the commit message for your changes. Lines starting</span>\n<span class=\"token comment\"># with '#' will be ignored, and an empty message aborts the commit.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Date:      Mon Mar 25 22:49:24 2019 +0900</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># interactive rebase in progress; onto 325da60</span>\n<span class=\"token comment\"># Last commands done (3 commands done):</span>\n<span class=\"token comment\">#    squash b94056d A1</span>\n<span class=\"token comment\">#    squash 5d31146 A2</span>\n<span class=\"token comment\"># Next command to do (1 remaining command):</span>\n<span class=\"token comment\">#    pick 90bb25a B</span>\n<span class=\"token comment\"># You are currently rebasing branch 'master' on '325da60'.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Changes to be committed:</span>\n<span class=\"token comment\">#\tmodified:   README</span>\n<span class=\"token comment\">#</span></code></pre></div>\n<p>위처럼 커밋메시지를 작성하고, <code class=\"language-text\">log</code>를 보면 의도한대로 정리된 것을 볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ glog\n* e3c5f82 <span class=\"token punctuation\">(</span>HEAD -<span class=\"token operator\">></span> master<span class=\"token punctuation\">)</span> B\n* aa6f7ef A\n* 325da60 init</code></pre></div>\n<p>만약 A와 B가 같은 파일을 작업하게 되면, 당연하게도 conflict 발생한다.</p>\n<h2 id=\"git-revert--m\" style=\"position:relative;\"><a href=\"#git-revert--m\" aria-label=\"git revert  m permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">git revert -m</code></h2>\n<p><code class=\"language-text\">-m</code>, <code class=\"language-text\">--mainline</code> 옵션은 merge commit을 되돌리는데 사용한다. merge는 2개의 커밋을 병합하는 것이므로, 둘 중 어느 상태로 돌릴 것인지 결정해야 한다.</p>\n<blockquote>\n<p>Usually you cannot revert a merge because you do not know which side of the merge should be considered the mainline. - <code class=\"language-text\">git revert --help</code></p>\n</blockquote>\n<p>따라서 사용법은 다음과 같다: <code class=\"language-text\">git revert -m 1</code> or <code class=\"language-text\">git revert -m 2</code></p>\n<p>revert는 새 커밋에 되돌리는 작업이 포함되므로 history로는 어떤 커밋을 선택했는지 알 수 없다.</p>\n<p>친절하게도 커밋 메시지에 둘 중 어떤 커밋으로 되돌아가는지 알려준다:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Revert \"Add a feature\"\n\nThis reverts commit 5c54ea679164eaca0bab639667bfcebb88769e63, reversing\nchanges made to b73ce1b168428a561e2dbcac96f97defaffa0e36.</code></pre></div>\n<p><code class=\"language-text\">5c54ea</code> 되돌려서 parent commit 중 하나인 <code class=\"language-text\">b73ce1</code>로 돌아간다. 물론 새로운 커밋이기 때문에 hash는 별개다.</p>\n<h2 id=\"git-log\" style=\"position:relative;\"><a href=\"#git-log\" aria-label=\"git log permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">git log</code></h2>\n<h3 id=\"git-log---graph\" style=\"position:relative;\"><a href=\"#git-log---graph\" aria-label=\"git log   graph permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">git log --graph</code></h3>\n<p>TL;DR</p>\n<ul>\n<li><code class=\"language-text\">--date-order</code> 로 그래프를 정렬하는데 힌트를 줄 수 있다.</li>\n<li><code class=\"language-text\">--author-date-order</code> 로 작성자 및 날짜 정렬</li>\n<li>옵션에 대한 정보: <a href=\"https://git-scm.com/docs/git-log#_commit_ordering\">https://git-scm.com/docs/git-log#_commit_ordering</a></li>\n<li>기본 값은 <code class=\"language-text\">--topo-order</code>로 보인다.</li>\n</ul>\n<h4 id=\"--date-order-로-피라미드-그래프-방지하기\" style=\"position:relative;\"><a href=\"#--date-order-%EB%A1%9C-%ED%94%BC%EB%9D%BC%EB%AF%B8%EB%93%9C-%EA%B7%B8%EB%9E%98%ED%94%84-%EB%B0%A9%EC%A7%80%ED%95%98%EA%B8%B0\" aria-label=\"  date order 로 피라미드 그래프 방지하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">--date-order</code> 로 피라미드 그래프 방지하기</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> log <span class=\"token parameter variable\">--graph</span> --abbrev-commit <span class=\"token parameter variable\">--decorate</span> <span class=\"token parameter variable\">--date</span><span class=\"token operator\">=</span>relative <span class=\"token parameter variable\">--format</span><span class=\"token operator\">=</span>format:<span class=\"token string\">'%C(bold red)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(cyan)&lt;%an>%C(reset)%C(bold yellow)%d%C(reset)'</span> <span class=\"token parameter variable\">--all</span></code></pre></div>\n<p>git log를 그래프로 보기위해 이렇게 사용 중이다.</p>\n<p>문제는 <code class=\"language-text\">staging -> master</code> 머지 커밋이 아래 이미지와 같이 피라미드로 보여진다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/07a9c/git-log-graph-pyramid.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACK0lEQVR42p1VyZbaMBAcYMC21N3aJW8MHrLMKbkl+f8/S3sD8t5AsP108KVU3bXYL53VqTP6Tb2seCpFZVLU4hpw1OgcyCjWMasYCUq5BlwbzWNjDavAGstKY71q55KoKbU+6+12sxj87sLP73Xzp37d7xaD2aY6KHVSu912MdgyGMC/aWGLxWBDUAEFj6qlzdK1vSbHzEJggoM8LAVjQHYKq0rrk9os4nYEkdADlATmpDNYQh4MJUKHGAUYKyHJBdyWIBEF5kdqDLkvNqdswc6JaXlywiTBBqAKn93cK4oDuMdLcFBwSfb56wLBAk3kLa9w1Oz5s4INYLiQB5L6jZ4iHwRjqxmD3GuHEIVUUQpXPCfYLTNCCdQE5b7Z/5NzPG/H5sNpjVKaGoUXT/qMF7BHDBKMFtyY7eOeBqOuzGqSndN+VOQ7w4F73OdBsJk2zM55IY0R1OAj8lmwHpnmK1h2Dzy8UBXmeD+t3vQJG62Ko2c4yX4kqhqtu/s9NSQjgp8wMILDeAtgY9CdTYaHxwkbB77KzhawZw1QrNXdtDp1XfXmTDc67pks2LPPAzOC55D0xb4JDK8zVQUreOAz3vp8YeZTAlYW7bv5hNwr/noNq6p5+bnerFwa0tp/W4MsTH5BbYaH48lNEjxhQlkODpf8ux/O+M6/lBKHqny1++Jf8t8/2l/+I5ho644vIiFklkGe96d/6d9llqs8Ty3ZSm52O5MdPtqmO5//AhZyOrfj4RyIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pyramid graph\"\n        title=\"\"\n        src=\"/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/fcda8/git-log-graph-pyramid.png\"\n        srcset=\"/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/12f09/git-log-graph-pyramid.png 148w,\n/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/e4a3f/git-log-graph-pyramid.png 295w,\n/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/fcda8/git-log-graph-pyramid.png 590w,\n/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/efc66/git-log-graph-pyramid.png 885w,\n/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/c83ae/git-log-graph-pyramid.png 1180w,\n/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/07a9c/git-log-graph-pyramid.png 1440w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>머지 커밋의 경우 2개의 부모를 가지고 있기 때문에, 두 부모 중 어느 것을 우선적으로 보여줄 지 힌트가 없다.\n따라서 피라미드로 보여지는 것으로 추정한다.</p>\n<p><code class=\"language-text\">--date-order</code> 옵션을 추가하여, 시간 기준으로 보여주도록 옵션을 주면 완화된다:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> log <span class=\"token parameter variable\">--graph</span> --abbrev-commit <span class=\"token parameter variable\">--decorate</span> <span class=\"token parameter variable\">--date</span><span class=\"token operator\">=</span>relative <span class=\"token parameter variable\">--format</span><span class=\"token operator\">=</span>format:<span class=\"token string\">'%C(bold red)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(cyan)&lt;%an>%C(reset)%C(bold yellow)%d%C(reset)'</span> <span class=\"token parameter variable\">--all</span> --date-order</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/07a9c/git-log-graph-date-order.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABY0lEQVR42p2V2U7DMBBFG1rI5n1ix7HdNG3abAhB6Yb4/w+DAhIvSKhz3yz5aDzXozuzFpTbFnItZggFxk0Quc4wcC2UX0peMwy8krL0ggUUHARTmmQ6xcDPle1fvGzl9RDd3DNox3KTYyq3AE2rxYpj4B2odW+QbjdK+FpRRzDw0VfTWyM3AmNYB7DqjGhQ42kJh4rmBWo8D5WbLrWeCsyz97YajsuiBwy8haLZ6h/4Vo3adJ11rzZCwI/arCervmf7Vp1cNZyWekAaZnf7gDTs5Nx4rs2kMXBTiGuSOIrpWVFKWJKIBAN3YPyu4LgMO/twdXtEuu26Q9ADym0nJFhKyhyX29xekwTldskIlNj01DlThiDDQFPKZZYBamMYQShPU4kaEk04E2mmUJUrIRR89/zfL0e/V6IvzWSWUkiQW/L9yV/CqKoyAR/H8Xw+j/7SZzGSLgi7v1ssZPzQB99sNh8pNR+7j6mvNwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"with --date-order\"\n        title=\"\"\n        src=\"/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/fcda8/git-log-graph-date-order.png\"\n        srcset=\"/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/12f09/git-log-graph-date-order.png 148w,\n/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/e4a3f/git-log-graph-date-order.png 295w,\n/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/fcda8/git-log-graph-date-order.png 590w,\n/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/efc66/git-log-graph-date-order.png 885w,\n/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/c83ae/git-log-graph-date-order.png 1180w,\n/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/07a9c/git-log-graph-date-order.png 1440w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4 id=\"옵션-설명\" style=\"position:relative;\"><a href=\"#%EC%98%B5%EC%85%98-%EC%84%A4%EB%AA%85\" aria-label=\"옵션 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>옵션 설명</h4>\n<p><code class=\"language-text\">git log --help</code> 에서 정렬과 관련된 내용을 확인하면 어떻게 정렬 방법에 대해서 설명하고 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Commit Ordering\n       By default, the commits are shown <span class=\"token keyword\">in</span> reverse chronological order.\n\n       --date-order\n           Show no parents before all of its children are shown, but otherwise show commits <span class=\"token keyword\">in</span> the commit timestamp order.\n\n       --author-date-order\n           Show no parents before all of its children are shown, but otherwise show commits <span class=\"token keyword\">in</span> the author timestamp order.\n\n       --topo-order\n           Show no parents before all of its children are shown, and avoid showing commits on multiple lines of <span class=\"token function\">history</span> intermixed.\n\n           For example, <span class=\"token keyword\">in</span> a commit <span class=\"token function\">history</span> like this:\n\n                   ---1----2----4----7\n                       <span class=\"token punctuation\">\\</span>              <span class=\"token punctuation\">\\</span>\n                        <span class=\"token number\">3</span>----5----6----8---\n\n           where the numbers denote the order of commit timestamps, <span class=\"token function\">git</span> rev-list and friends with --date-order show the commits <span class=\"token keyword\">in</span> the timestamp order: <span class=\"token number\">8</span> <span class=\"token number\">7</span> <span class=\"token number\">6</span> <span class=\"token number\">5</span> <span class=\"token number\">4</span> <span class=\"token number\">3</span> <span class=\"token number\">2</span> <span class=\"token number\">1</span>.\n\n           With --topo-order, they would show <span class=\"token number\">8</span> <span class=\"token number\">6</span> <span class=\"token number\">5</span> <span class=\"token number\">3</span> <span class=\"token number\">7</span> <span class=\"token number\">4</span> <span class=\"token number\">2</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">(</span>or <span class=\"token number\">8</span> <span class=\"token number\">7</span> <span class=\"token number\">4</span> <span class=\"token number\">2</span> <span class=\"token number\">6</span> <span class=\"token number\">5</span> <span class=\"token number\">3</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> some older commits are shown before newer ones <span class=\"token keyword\">in</span> order to avoid showing the commits from two\n           parallel development track mixed together.</code></pre></div>\n<p><code class=\"language-text\">--topo-order</code>에 대한 내용을 보면</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">                   ---1----2----4----7\n                       <span class=\"token punctuation\">\\</span>              <span class=\"token punctuation\">\\</span>\n                        <span class=\"token number\">3</span>----5----6----8---</code></pre></div>\n<p>위 그래프가 있을 때, 숫자는 시간 순서로 작성되었다고 하자.</p>\n<ul>\n<li><code class=\"language-text\">--topo-order</code> 8 6 5 3 7 4 2 1 순서로 표기한다.</li>\n<li><code class=\"language-text\">--date-order</code> 8 7 6 5 4 3 2 1 순서로 표기한다.</li>\n</ul>\n<h3 id=\"--date-order-와---author-date-order-비교\" style=\"position:relative;\"><a href=\"#--date-order-%EC%99%80---author-date-order-%EB%B9%84%EA%B5%90\" aria-label=\"  date order 와   author date order 비교 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">--date-order</code> 와 <code class=\"language-text\">--author-date-order</code> 비교</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/4d08a/git-log-graph-author-date-order-comparison.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.1081081081081%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACYUlEQVR42mWSa4+aQBSGuQl44Q7DdUC5CAraVReladJvTZvsh/7U4lcWde1ms3+rI2SruBMSyJzzzPvOy8F+/Py+2q02+TbfrdarbJZMgzBEDwBaVVXvr6/p0t9+K9b54+7rw8NqliSB53mWZWVZhkUR5BRelCRZFpl+nyAwHMcI9MKwcl8eq4rjCOAYiqygnh7LojJBkqgqSRK2XIaGq9u2oxoGxbINiZNN+U9Zng8nUWGcMbQtWwE62esROEY2RyuKgi2yANiaaVoqAHS/jzWrVUbwS11LDawbpqSqJE2jfRwptMrr9dSe2BB6oqoSFHUHn+vasEd+HDquKygK3uxfYWRbh7plOZwkYs1uV/nAS7QFbWCYzGDQVq/wY564EXTdMTDNSx5d+O1w1CGHlF3P0wwD3bkDbzYxDB1vPJEBoGjmDv57OFguH82nEz8ciSJ2Z3u7TdwpDINIAgBvQu7CtT3mg1no+4Ggqm3DDVzMxonnTwILQmY4vIXLsjw+H1W174aublqSIlMM04Gn8VhQBUFW+oPB57Rf6hMv0gY0daCjX0Xd/arNJTAUx+XO9OfAjicUWJBENnSHgkDc2U4XvmZpQDd4UWzDvLV9qp85iTKhpWo6JwhkY+0Kx4kn67IoKyOOa1117/zMDgnNALwgDobDezgMXU7k0KkMy/ZoGhlDJNU07ff7Y13TLC5r6ojjGYbpodkmyXbyL7PtODrFUj2G/T9eV+X9vq4q9DHgRuSHqY7y76dfebHb5HmapvNmZVm6XC6SaXQ+n9/f3tJFsi12X9ab+cdCnXEcF0XxD1T1gwnUFhbPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"--date-order and --author-date-order comparison\"\n        title=\"\"\n        src=\"/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/fcda8/git-log-graph-author-date-order-comparison.png\"\n        srcset=\"/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/12f09/git-log-graph-author-date-order-comparison.png 148w,\n/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/e4a3f/git-log-graph-author-date-order-comparison.png 295w,\n/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/fcda8/git-log-graph-author-date-order-comparison.png 590w,\n/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/4d08a/git-log-graph-author-date-order-comparison.png 709w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>왼쪽이 <code class=\"language-text\">--date-order</code> 오른쪽이 <code class=\"language-text\">--author-date-order</code>이다.</p>\n<h3 id=\"--follow\" style=\"position:relative;\"><a href=\"#--follow\" aria-label=\"  follow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">--follow</code></h3>\n<p>기본적으로 <code class=\"language-text\">git log FILENAME</code>은 현재 파일 이름에 대해서만 로그를 보여준다.</p>\n<p><code class=\"language-text\">git log --follow FILENAME</code>으로 파일이 이동하더라도 추적한다.</p>\n<p>다음은 예시.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> log <span class=\"token parameter variable\">--pretty</span><span class=\"token operator\">=</span>format:<span class=\"token string\">\"%ad %h %s\"</span> <span class=\"token parameter variable\">--date</span><span class=\"token operator\">=</span>short docs/wiki/book.md\n<span class=\"token number\">2023</span>-12-02 8520c0d1f Add frontmatters\n<span class=\"token number\">2023</span>-11-11 f5b670292 Revise book.md and jetbrains.md\n<span class=\"token number\">2023</span>-10-26 e5832cc77 Revise tennise inner game\n<span class=\"token number\">2023</span>-10-15 146a5d7b2 Revise book.md\n<span class=\"token number\">2023</span>-10-13 9ac5d1ea3 Add heads\n<span class=\"token number\">2023</span>-10-11 3c2f6a0c3 Update tennis inner game book\n<span class=\"token number\">2023</span>-10-09 3af35024d Update tennis inner game book\n<span class=\"token number\">2023</span>-09-14 740f1e230 Add tennis inner game\n<span class=\"token number\">2023</span>-07-22 ee34ec929 Update document headings\n<span class=\"token number\">2023</span>-01-08 a0fc19715 Update book.md to include <span class=\"token string\">\"만들면서 배우는 클린 아키텍처\"</span>\n<span class=\"token number\">2023</span>-01-05 e89f4febd Update book\n<span class=\"token number\">2023</span>-01-01 e8b5e5e97 Update all documents to include their own titles\n<span class=\"token number\">2023</span>-01-01 de99d7338 Migrate book</code></pre></div>\n<p><code class=\"language-text\">Migrate book</code> 커밋에서 파일 이동이 있었다.</p>\n<p><code class=\"language-text\">--follow</code>를 추가하면 <code class=\"language-text\">Migrate book</code> 커밋 이전 내용도 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> log <span class=\"token parameter variable\">--follow</span> <span class=\"token parameter variable\">--pretty</span><span class=\"token operator\">=</span>format:<span class=\"token string\">\"%ad %h %s\"</span> <span class=\"token parameter variable\">--date</span><span class=\"token operator\">=</span>short docs/wiki/book.md\n<span class=\"token number\">2023</span>-12-02 8520c0d1f Add frontmatters\n<span class=\"token number\">2023</span>-11-11 f5b670292 Revise book.md and jetbrains.md\n<span class=\"token number\">2023</span>-10-26 e5832cc77 Revise tennise inner game\n<span class=\"token number\">2023</span>-10-15 146a5d7b2 Revise book.md\n<span class=\"token number\">2023</span>-10-13 9ac5d1ea3 Add heads\n<span class=\"token number\">2023</span>-10-11 3c2f6a0c3 Update tennis inner game book\n<span class=\"token number\">2023</span>-10-09 3af35024d Update tennis inner game book\n<span class=\"token number\">2023</span>-09-14 740f1e230 Add tennis inner game\n<span class=\"token number\">2023</span>-07-22 ee34ec929 Update document headings\n<span class=\"token number\">2023</span>-01-08 a0fc19715 Update book.md to include <span class=\"token string\">\"만들면서 배우는 클린 아키텍처\"</span>\n<span class=\"token number\">2023</span>-01-05 e89f4febd Update book\n<span class=\"token number\">2023</span>-01-01 e8b5e5e97 Update all documents to include their own titles\n<span class=\"token number\">2023</span>-01-01 de99d7338 Migrate book\n<span class=\"token number\">2020</span>-06-12 0bd294112 Update tags\n<span class=\"token number\">2018</span>-07-23 1ef0e7f22 Update front matters\n<span class=\"token number\">2018</span>-07-06 1605cfcf4 폴더 구조 변경 및 개발 환경 개선\n<span class=\"token number\">2018</span>-01-11 1c18d58bd Update <span class=\"token string\">\"Chocolate Problem\"</span>\n<span class=\"token number\">2018</span>-01-11 ebd76bb05 Add <span class=\"token string\">\"Chocolate Problem\"</span></code></pre></div>\n<h2 id=\"git-worktree\" style=\"position:relative;\"><a href=\"#git-worktree\" aria-label=\"git worktree permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">git worktree</code></h2>\n<p><code class=\"language-text\">git worktree add &lt;path> &lt;branch></code>로 현재 프로젝트를 <code class=\"language-text\">&lt;path></code>에 생성하고 <code class=\"language-text\">&lt;branch></code>로 체크아웃한다. 현재 프로젝트와 연결된다.\ngit에서는 작업 영역을 working tree라 부르니, 알아두면 좋겠다.</p>\n<p><code class=\"language-text\">git worktree</code>는 현재 작업중인 내용을 stash나 commit 등으로 저장하지 않고, 다른 작업을 처리할 때 유용하다.\n다만, <a href=\"../java\">java</a>나 <a href=\"../kotlin\">kotlin</a> 프로젝트 같이 <a href=\"../jetbrains\">IDE</a>에서 인덱싱하여 작업 영역이 무거운 경우에는 비효율적일 수 있다.\n새 worktree에서 다시 인덱싱을 하기 때문이다.</p>\n<p><code class=\"language-text\">git worktree list</code>로 목록을 확인할 수 있으며, 복사된 프로젝트나 원본 프로젝트에서도 확인 가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> worktree list\n/Users/me/workspace/some-api         e9169a43 <span class=\"token punctuation\">[</span>staging<span class=\"token punctuation\">]</span>\n/Users/me/workspace/some-api-new     e826395c <span class=\"token punctuation\">[</span>new-branch<span class=\"token punctuation\">]</span></code></pre></div>\n<p>worktree가 사용하는 branch는 <code class=\"language-text\">git branch</code>에서 구분되어 표시된다:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> branch\n* new-branch  <span class=\"token comment\"># 현재 worktree에서 사용하는 branch</span>\n  master\n+ staging     <span class=\"token comment\"># 다른(원본) worktree</span></code></pre></div>\n<p>worktree를 제거하기 위해서는 <code class=\"language-text\">git worktree remove &lt;path></code>를 사용한다. Tab을 통한 경로 자동 완성이 된다.\nworktree에서 사용한 브랜치는 계속 유지된다.</p>\n<h2 id=\"git-large-file-storagelfs\" style=\"position:relative;\"><a href=\"#git-large-file-storagelfs\" aria-label=\"git large file storagelfs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Git Large File Storage(LFS)</h2>\n<p>Git Large File Storage는 대용량 파일의 버전 관리를 위한 도구이다.</p>\n<p>Git은 리모트 저장소로부터 clone 받을 때 대용량 파일은 실제 파일이 아닌, 참조만 받아온다.<br>\n그래서 clone 받을 때 빠르게 받을 수 있다.</p>\n<p>References:</p>\n<ul>\n<li>git-lfs 공식 사이트: <a href=\"https://git-lfs.com/\">https://git-lfs.com/</a></li>\n<li>GitHub의 LFS 설명: <a href=\"https://docs.github.com/ko/repositories/working-with-files/managing-large-files/about-git-large-file-storage\">https://docs.github.com/ko/repositories/working-with-files/managing-large-files/about-git-large-file-storage</a></li>\n</ul>\n<p>Git LFS는 Git의 확장으로 분류한다:</p>\n<blockquote>\n<p>An open source Git extension for versioning large files</p>\n</blockquote>\n<p><code class=\"language-text\">git lfs</code> 명령어로 제공하지만, Git에 내장된 것은 아니다. 별도 설치가 필요하다.<br>\nLinux, macOS는 <code class=\"language-text\">brew install git-lfs</code>로 설치 가능.</p>\n<h3 id=\"사용법\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\"사용법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용법</h3>\n<p>최근 Huggingface에서 <a href=\"https://huggingface.co/Trelis/Llama-2-7b-chat-hf-function-calling-v2\">모델</a>을 다운로드 받고 실행해 보면서 처음 사용해 보았다.<br>\n<code class=\"language-text\">.git</code> 폴더는 모든 리비전에 대한 내용을 담고 있어서 그런지, 모델 저장소의 경우 용량이 매우 커졌다.</p>\n<p>대용량 파일을 업로드 할 일이 없어서 업로드에 대한 내용은 생략한다.</p>\n<p>git clone 전에 하거나 clone 후에 하는지에 따라 사용 방법이 다르다.</p>\n<hr>\n<p><strong>Clone 전</strong></p>\n<ol>\n<li><code class=\"language-text\">git lfs install</code>로 LFS 사용을 활성화한다. (비활성화는 <code class=\"language-text\">git lfs uninstall</code>)</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> lfs <span class=\"token function\">install</span>\nUpdated Git hooks.\nGit LFS initialized.</code></pre></div>\n<ol start=\"2\">\n<li><code class=\"language-text\">git clone</code> 한다.</li>\n</ol>\n<p><code class=\"language-text\">git lfs install</code>은 한 번만 실행하면 전역으로 적용된다.\n앞으로 clone 받는 저장소에 대해서 대용량 파일을 실제 파일로 받겠다는 의미다.</p>\n<p>다운로드 진행 상황이 UI로 표시되지 않기 때문에 clone이 멈춘듯한 모습으로 보이지만,\n<code class=\"language-text\">du -sh .git</code> 명령어로 용량을 확인하면 계속 증가하는 것을 볼 수 있다.</p>\n<p><code class=\"language-text\">git lfs install</code>을 하지 않고 clone을 받는 것과 비교하면 완료 속도가 다른 것을 체감할 수 있다.</p>\n<hr>\n<p><strong>Clone 후</strong></p>\n<p><code class=\"language-text\">git lfs pull</code>로 대용량 파일을 다운로드 받는다.</p>\n<p>이 경우에도 멈춘듯한 모습으로 보이지만, 실제로는 다운로드가 진행된다.</p>\n<p>도움말 <code class=\"language-text\">git lfs pull --help</code>에 다르면 <code class=\"language-text\">git lfs fetch</code> 명령어와 같다고 한다.<br>\n아마도 특정 파일만 다운로드 받을 수도 있는 모양.</p>\n<h2 id=\"커밋-서명하기\" style=\"position:relative;\"><a href=\"#%EC%BB%A4%EB%B0%8B-%EC%84%9C%EB%AA%85%ED%95%98%EA%B8%B0\" aria-label=\"커밋 서명하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>커밋 서명하기</h2>\n<p>커밋의 서명을 확인하려면 <code class=\"language-text\">git cat-file -p &lt;commit-hash></code> 명령어를 사용한다.</p>\n<p>다음은 mochajs 저장소의 커밋을 확인한 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> cat-file <span class=\"token parameter variable\">-p</span> HEAD\ntree 6c42701b4c621fa227bd211b6b52473e68004057\nparent 37358738260cfae7c244c157aee21654f2b588f2\nauthor ***** ***** <span class=\"token operator\">&lt;</span>***************@*****.***<span class=\"token operator\">></span> <span class=\"token number\">1709903697</span> <span class=\"token parameter variable\">-0300</span>\ncommitter GitHub <span class=\"token operator\">&lt;</span>noreply@github.com<span class=\"token operator\">></span> <span class=\"token number\">1709903697</span> <span class=\"token parameter variable\">-0500</span>\ngpgsig -----BEGIN PGP SIGNATURE-----\n<span class=\"token punctuation\">..</span>.\n -----END PGP SIGNATURE-----\n<span class=\"token punctuation\">..</span>.</code></pre></div>\n<hr>\n<p>커밋 서명은 GPG를 사용한다.</p>\n<p>GPG CLI는 Homebrew로 설치했다: <code class=\"language-text\">brew install gpg</code></p>\n<h3 id=\"gpg-키-생성-gpg---full-generate-key\" style=\"position:relative;\"><a href=\"#gpg-%ED%82%A4-%EC%83%9D%EC%84%B1-gpg---full-generate-key\" aria-label=\"gpg 키 생성 gpg   full generate key permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GPG 키 생성: <code class=\"language-text\">gpg --full-generate-key</code></h3>\n<p><code class=\"language-text\">--full-generate-key</code> 옵션은 키 pair를 생성한다.</p>\n<p>키 생성 시 알고리즘 등 키 정보와 사용자 정보를 입력한다.<br>\n<a href=\"https://docs.github.com/en/authentication/managing-commit-signature-verification/generating-a-new-gpg-key\">GitHub의 GPG 키 생성 가이드</a>를 참고했다.</p>\n<p>키 정보는 모두 Enter로 기본 값을 선택했다.</p>\n<ul>\n<li>알고리즘: RSA</li>\n<li>키 사이즈: 3072</li>\n<li>만료 기간: 0(무제한)</li>\n</ul>\n<p>사용자 정보는 이메일 주소만 입력했다. GitHub에 등록한 이메일 주소를 입력한다.\n이메일을 감추고 싶다면 GitHub의 <code class=\"language-text\">no-reply</code> 이메일을 사용하라고 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ gpg --full-gen-key\ngpg <span class=\"token punctuation\">(</span>GnuPG<span class=\"token punctuation\">)</span> <span class=\"token number\">2.2</span>.19<span class=\"token punctuation\">;</span> Copyright <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2019</span> Free Software Foundation, Inc.\nThis is <span class=\"token function\">free</span> software: you are <span class=\"token function\">free</span> to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\ngpg: keybox <span class=\"token string\">'/home/user/.gnupg/pubring.kbx'</span> created\nPlease <span class=\"token keyword\">select</span> what kind of key you want:\n   <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> RSA and RSA <span class=\"token punctuation\">(</span>default<span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> DSA and Elgamal\n   <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> DSA <span class=\"token punctuation\">(</span>sign only<span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> RSA <span class=\"token punctuation\">(</span>sign only<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">(</span><span class=\"token number\">14</span><span class=\"token punctuation\">)</span> Existing key from card\nYour selection?\nRSA keys may be between <span class=\"token number\">1024</span> and <span class=\"token number\">4096</span> bits long.\nWhat keysize <span class=\"token keyword\">do</span> you want? <span class=\"token punctuation\">(</span><span class=\"token number\">3072</span><span class=\"token punctuation\">)</span>\nRequested keysize is <span class=\"token number\">3072</span> bits\nPlease specify how long the key should be valid.\n         <span class=\"token number\">0</span> <span class=\"token operator\">=</span> key does not expire\n      <span class=\"token operator\">&lt;</span>n<span class=\"token operator\">></span>  <span class=\"token operator\">=</span> key expires <span class=\"token keyword\">in</span> n days\n      <span class=\"token operator\">&lt;</span>n<span class=\"token operator\">></span>w <span class=\"token operator\">=</span> key expires <span class=\"token keyword\">in</span> n weeks\n      <span class=\"token operator\">&lt;</span>n<span class=\"token operator\">></span>m <span class=\"token operator\">=</span> key expires <span class=\"token keyword\">in</span> n months\n      <span class=\"token operator\">&lt;</span>n<span class=\"token operator\">></span>y <span class=\"token operator\">=</span> key expires <span class=\"token keyword\">in</span> n years\nKey is valid for? <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\nKey does not expire at all\nIs this correct? <span class=\"token punctuation\">(</span>y/N<span class=\"token punctuation\">)</span> y\n\nGnuPG needs to construct a user ID to identify your key.\n\nReal name:\nEmail address: *******@gmail.com\nComment:\nYou selected this <span class=\"token environment constant\">USER</span>-ID:\n    <span class=\"token string\">\"*******@gmail.com\"</span>\n\nChange <span class=\"token punctuation\">(</span>N<span class=\"token punctuation\">)</span>ame, <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span>omment, <span class=\"token punctuation\">(</span>E<span class=\"token punctuation\">)</span>mail or <span class=\"token punctuation\">(</span>O<span class=\"token punctuation\">)</span>kay/<span class=\"token punctuation\">(</span>Q<span class=\"token punctuation\">)</span>uit? O\nWe need to generate a lot of random bytes. It is a good idea to perform\nsome other action <span class=\"token punctuation\">(</span>type on the keyboard, move the mouse, utilize the\ndisks<span class=\"token punctuation\">)</span> during the prime generation<span class=\"token punctuation\">;</span> this gives the random number\ngenerator a better chance to gain enough entropy.\nWe need to generate a lot of random bytes. It is a good idea to perform\nsome other action <span class=\"token punctuation\">(</span>type on the keyboard, move the mouse, utilize the\ndisks<span class=\"token punctuation\">)</span> during the prime generation<span class=\"token punctuation\">;</span> this gives the random number\ngenerator a better chance to gain enough entropy.\ngpg: /home/user/.gnupg/trustdb.gpg: trustdb created\ngpg: key 7754F8835F1D4F23 marked as ultimately trusted\ngpg: directory <span class=\"token string\">'/home/user/.gnupg/openpgp-revocs.d'</span> created\ngpg: revocation certificate stored as <span class=\"token string\">'/home/user/.gnupg/openpgp-revocs.d/EC2773EB41F9362E83E76B177754F8835F1D4F23.rev'</span>\npublic and secret key created and signed.\n\npub   rsa3072 <span class=\"token number\">2024</span>-03-11 <span class=\"token punctuation\">[</span>SC<span class=\"token punctuation\">]</span>\n      EC2773EB41F9362E83E76B177754F8835F1D4F23\nuid                      *******@gmail.com\nsub   rsa3072 <span class=\"token number\">2024</span>-03-11 <span class=\"token punctuation\">[</span>E<span class=\"token punctuation\">]</span></code></pre></div>\n<h3 id=\"gpg-키-확인-gpg---list-secret-keys---keyid-formatlong\" style=\"position:relative;\"><a href=\"#gpg-%ED%82%A4-%ED%99%95%EC%9D%B8-gpg---list-secret-keys---keyid-formatlong\" aria-label=\"gpg 키 확인 gpg   list secret keys   keyid formatlong permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GPG 키 확인: <code class=\"language-text\">gpg --list-secret-keys --keyid-format=long</code></h3>\n<p><code class=\"language-text\">--list-secret-keys</code> 옵션은 생성된 키 목록을 출력하고<br>\n<code class=\"language-text\">--keyid-format=long</code> 옵션은 키 ID를 출력한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ gpg --list-secret-keys --keyid-format<span class=\"token operator\">=</span>long\n/home/user/.gnupg/pubring.kbx\n-------------------------------\nsec   rsa3072/7754F8835F1D4F23 <span class=\"token number\">2024</span>-03-11 <span class=\"token punctuation\">[</span>SC<span class=\"token punctuation\">]</span>\n      EC2773EB41F9362E83E76B177754F8835F1D4F23\nuid                 <span class=\"token punctuation\">[</span>ultimate<span class=\"token punctuation\">]</span> *******@gmail.com\nssb   rsa3072/9E8A974D370C5682 <span class=\"token number\">2024</span>-03-11 <span class=\"token punctuation\">[</span>E<span class=\"token punctuation\">]</span></code></pre></div>\n<p><code class=\"language-text\">7754F8835F1D4F23</code>가 키 ID이다.</p>\n<h3 id=\"gpg-키-export-gpg---armor---export-key-id\" style=\"position:relative;\"><a href=\"#gpg-%ED%82%A4-export-gpg---armor---export-key-id\" aria-label=\"gpg 키 export gpg   armor   export key id permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GPG 키 export: <code class=\"language-text\">gpg --armor --export &lt;key-id></code></h3>\n<p><code class=\"language-text\">--armor</code> 옵션은 공개 키 정보를 ASCII로 출력한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ gpg <span class=\"token parameter variable\">--armor</span> <span class=\"token parameter variable\">--export</span> 7754F8835F1D4F23\n-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n<span class=\"token punctuation\">..</span>.\n-----END PGP PUBLIC KEY BLOCK-----</code></pre></div>\n<h3 id=\"gpg-키-github에-등록하기\" style=\"position:relative;\"><a href=\"#gpg-%ED%82%A4-github%EC%97%90-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0\" aria-label=\"gpg 키 github에 등록하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GPG 키 GitHub에 등록하기</h3>\n<p>GitHub의 <code class=\"language-text\">Settings</code> > <code class=\"language-text\">SSH and GPG keys</code> > <code class=\"language-text\">New GPG key</code>에 공개키를 등록한다.</p>\n<p><code class=\"language-text\">-----BEGIN PGP PUBLIC KEY BLOCK-----</code>와 <code class=\"language-text\">-----END PGP PUBLIC KEY BLOCK-----</code> 내용을 모두 복사해서 붙여넣는다.</p>\n<h3 id=\"서명하기\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%AA%85%ED%95%98%EA%B8%B0\" aria-label=\"서명하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서명하기</h3>\n<p><code class=\"language-text\">git commit</code> 명령어에 <code class=\"language-text\">-S</code> 옵션을 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-S</span> <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"commit message\"</span></code></pre></div>\n<p><code class=\"language-text\">-S</code> 옵션 대신 git 설정 <code class=\"language-text\">commit.gpgSign</code>을 <code class=\"language-text\">true</code>로 설정하면 자동 서명된다.</p>\n<p><code class=\"language-text\">-S</code> 옵션은 key-id를 받지만, 생략하면 <code class=\"language-text\">user.signingKey</code> 설정을 사용한다.\n<code class=\"language-text\">git config --global user.signingKey &lt;key-id></code>로 설정하자.</p>\n<p>만약, 키가 없으면 다음과 같이 실패한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> commit\nerror: gpg failed to sign the data:\ngpg: skipped <span class=\"token string\">\"edunga1 &lt;*******@gmail.com>\"</span><span class=\"token builtin class-name\">:</span> No secret key\n<span class=\"token punctuation\">[</span>GNUPG:<span class=\"token punctuation\">]</span> INV_SGNR <span class=\"token number\">9</span> edunga1 <span class=\"token operator\">&lt;</span>*******@gmail.com<span class=\"token operator\">></span>\n<span class=\"token punctuation\">[</span>GNUPG:<span class=\"token punctuation\">]</span> FAILURE sign <span class=\"token number\">17</span>\ngpg: signing failed: No secret key\n\nfatal: failed to <span class=\"token function\">write</span> commit object</code></pre></div>\n<p>키가 있으면 passphrase 입력을 요구한다.</p>\n<h2 id=\"troubleshooting\" style=\"position:relative;\"><a href=\"#troubleshooting\" aria-label=\"troubleshooting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Troubleshooting</h2>\n<h3 id=\"git-commit-시-waiting-for-your-editor-to-close-the-file-메시지와-함께-커밋이-안되는-문제\" style=\"position:relative;\"><a href=\"#git-commit-%EC%8B%9C-waiting-for-your-editor-to-close-the-file-%EB%A9%94%EC%8B%9C%EC%A7%80%EC%99%80-%ED%95%A8%EA%BB%98-%EC%BB%A4%EB%B0%8B%EC%9D%B4-%EC%95%88%EB%90%98%EB%8A%94-%EB%AC%B8%EC%A0%9C\" aria-label=\"git commit 시 waiting for your editor to close the file 메시지와 함께 커밋이 안되는 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Git commit 시 \"Waiting for your editor to close the file...\" 메시지와 함께 커밋이 안되는 문제</h3>\n<p><code class=\"language-text\">git commit -v</code>로 커밋 메시지 작성 후 <code class=\"language-text\">ww</code> 또는 <code class=\"language-text\">:wq</code>로 저장하여 나와도 커밋이 안된다.\n약 3번 중 1번 꼴로 발생한다.</p>\n<p><code class=\"language-text\">nvim</code> 사용중이고, <code class=\"language-text\">git config --global core.editor</code> 설정해도 계속 발생한다.\nWindows 10 WSL 2와 M2 맥북 모두에서 발생하고 있어서, 내 vim 설정 문제도 고려중인데.. 최근에는 플러그인 제거만 했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">❯ g commit <span class=\"token parameter variable\">-v</span>\nhint: Waiting <span class=\"token keyword\">for</span> your editor to close the file<span class=\"token punctuation\">..</span>. error: There was a problem with the editor <span class=\"token string\">'nvim'</span><span class=\"token builtin class-name\">.</span>\nPlease supply the message using either <span class=\"token parameter variable\">-m</span> or <span class=\"token parameter variable\">-F</span> option.</code></pre></div>\n<p>vim으로 작업하는 경우에는 발생하지 않는다. 오직 커밋 메시지 작성 시에만 발생한다.</p>\n<p><strong>플러그인 문제?</strong></p>\n<p>플러그인의 문제일 확률이 높아 보인다.\n<code class=\"language-text\">.vimrc</code>를 임시로 제거해서, 거의 vanilla 상태로 테스트해보니 발생하지 않는다.</p>\n<p><strong>연속으로 발생하는 경향</strong></p>\n<p><code class=\"language-text\">echo \"a\" >> a &amp;&amp; git add -A &amp;&amp; git commit -v</code> 반복하여 테스트하는데,\n첫 라인을 띄워놓고 둘째 라인부터 메시지를 작성하면 발생할 확률이 높다.\n또한 바로 다음 커밋에서도 같은 방식을 사용하면 거의 무조건 발생한다.</p>\n<p><strong>진짜 해치웠나?</strong></p>\n<p>Startify의 세션 저장 기능 때문에 발생하는 것으로 보인다.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">GetUniqueSessionName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> <span class=\"token builtin\">path</span> <span class=\"token operator\">=</span> <span class=\"token function\">fnamemodify</span><span class=\"token punctuation\">(</span><span class=\"token function\">getcwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">':~:t'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> <span class=\"token builtin\">path</span> <span class=\"token operator\">=</span> <span class=\"token function\">empty</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">path</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">'no-project'</span> <span class=\"token punctuation\">:</span> <span class=\"token builtin\">path</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">substitute</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">path</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token builtin\">autocmd</span> VimLeavePre <span class=\"token operator\">*</span> execute <span class=\"token string\">'SSave! '</span> <span class=\"token operator\">.</span> <span class=\"token function\">GetUniqueSessionName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>vim을 종료할 때 세션을 저장하고, Startify의 시작 화면에 Session 목록을 노출하도록 설정했었다.\n이 설정을 제거하니까 몇 번의 테스트에도 커밋 실패가 발생하지 않았다.\n<code class=\"language-text\">SSave</code>의 문제인지, <code class=\"language-text\">GetUniqueSessionName</code>의 문제인지는 모르겠다.</p>\n<p>제거 커밋: <a href=\"https://github.com/Edunga1/dotfiles/commit/9998b7c454e321d48d326e20da56af2328055a46\">https://github.com/Edunga1/dotfiles/commit/9998b7c454e321d48d326e20da56af2328055a46</a></p>"}}},"pageContext":{"id":"48bf22f9-a805-522d-948a-9f3fcd228f32"}},"staticQueryHashes":[],"slicesMap":{}}