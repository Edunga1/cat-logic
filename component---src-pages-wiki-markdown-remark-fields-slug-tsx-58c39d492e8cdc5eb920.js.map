{"version":3,"file":"component---src-pages-wiki-markdown-remark-fields-slug-tsx-58c39d492e8cdc5eb920.js","mappings":"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","sources":["webpack://cat-logic/./src/components/atoms/Link/Link.tsx","webpack://cat-logic/./src/constants/device.ts","webpack://cat-logic/./src/components/molecules/Toc.tsx","webpack://cat-logic/./src/components/molecules/WikiContent.tsx","webpack://cat-logic/./src/components/molecules/Comments.tsx","webpack://cat-logic/./src/components/templates/Wiki.tsx","webpack://cat-logic/./src/utils/html-string.ts","webpack://cat-logic/./src/pages/wiki/{markdownRemark.fields__slug}.tsx"],"sourcesContent":["import * as React from \"react\"\nimport styled from \"styled-components\"\n\nconst A = styled.a`\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`\n\nexport default function Link(\n  { children, href }: { children: React.ReactNode; href: string },\n) {\n  return (\n    <A href={href}>{children}</A>\n  )\n}\n\n","export default {\n  larger: \"min-width: 700px\",\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\n\nconst Container = styled.div`\n  box-sizing: border-box;\n  background-color: #f5f5f5;\n  padding: 1rem 1rem 1rem 0;\n\n  ul {\n    list-style: none;\n    padding-left: 1rem;\n    margin: 0;\n    font-size: .8rem;\n\n    p {\n      margin: 0;\n    }\n  }\n\n  a {\n    text-decoration: none;\n  }\n`\n\nexport default function Toc(\n  { contents }: { contents: string },\n) {\n  return (\n    <Container dangerouslySetInnerHTML={{ __html: contents }} />\n  )\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\n\nconst Container = styled.div`\n  overflow: auto;\n\n  a {\n    text-decoration: none;\n  }\n\n  // inline code block style\n  code:not(pre code) {\n    background-color: #f5f5f5;\n    border-radius: .5rem;\n    padding: .2rem .4rem;\n  }\n\n  // code block style\n  pre:has(code) {\n    font-size: 85%;\n    background-color: #f5f5f5;\n    border-radius: .5rem;\n    padding: 1rem;\n    overflow: auto;\n  }\n\n  // limits image size to prevent image overs container\n  img {\n    max-width: 100%;\n  }\n\n  // quote style\n  blockquote {\n    border-left: 4px solid #ddd;\n    padding-left: 1rem;\n    margin-left: 0;\n    font-style: italic;\n  }\n`\n\nexport default function WikiContent(\n  { contents }: { contents: string },\n) {\n  return (\n    <Container dangerouslySetInnerHTML={{ __html: contents }} />\n  )\n}\n","import React, { useEffect } from \"react\"\nimport styled from \"styled-components\"\n\nconst Container = styled.div`\n  padding-top: 20rem;\n`\n\nexport default function Comments() {\n  const commentsInjectionRoot: React.RefObject<HTMLDivElement> = React.createRef()\n\n  useEffect(() => {\n    if (commentsInjectionRoot.current?.children.length === 0) {\n      const scriptEl = document.createElement(\"script\")\n      scriptEl.setAttribute(\"src\", \"https://utteranc.es/client.js\")\n      scriptEl.setAttribute(\"crossorigin\", \"anonymous\")\n      scriptEl.setAttribute(\"async\", \"true\")\n      scriptEl.setAttribute(\n        \"repo\",\n        \"edunga1/cat-logic-comments\"\n      )\n      scriptEl.setAttribute(\"issue-term\", \"pathname\")\n      scriptEl.setAttribute(\"theme\", \"github-light\")\n      commentsInjectionRoot.current?.appendChild(scriptEl)\n    }\n  }, [])\n\n  return (\n    <Container>\n      <hr />\n      <div ref={commentsInjectionRoot} />\n    </Container>\n  )\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport Toc from \"../../components/molecules/Toc\"\nimport WikiContent from \"../../components/molecules/WikiContent\"\nimport device from \"../../constants/device\"\nimport Link from \"../atoms/Link/Link\"\nimport Comments from \"../molecules/Comments\"\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  width: fit-content;\n\n  @media (${device.larger}) {\n    grid-template-columns: minmax(300px, 1fr) minmax(400px, 1000px);\n  }\n`\n\nconst Side = styled.div`\n  display: none;\n\n  & > div:nth-child(2) {\n    padding-top: 1rem;\n  }\n\n  @media (${device.larger}) {\n    display: block;\n  }\n`\n\nconst Main = styled.div`\n  padding: 0 1rem;\n  overflow: auto;\n\n  @media (${device.larger}) {\n    & > div:nth-child(2) {\n      display: none;\n    }\n  }\n`\n\nexport default function Wiki(\n  {\n    title,\n    tableOfContents,\n    relatedLinksToc,\n    wikiContents,\n  }: {\n    title?: string\n    tableOfContents: string\n    relatedLinksToc: JSX.Element[]\n    wikiContents: string\n  },\n) {\n  return (\n    <Container>\n      <Side>\n        <Toc contents={tableOfContents} />\n        <span>{relatedLinksToc}</span>\n      </Side>\n      <Main>\n        <h1>{title}</h1>\n        <Toc contents={tableOfContents} />\n        <Link href=\"/\">üêæ</Link>\n        {<WikiContent contents={wikiContents} />}\n        <Comments />\n      </Main>\n    </Container>\n  )\n}\n","export function removeFirstHeading(html: string): string {\n  return html.replace(/<h1.*?>(.*?)<\\/h1>/, '')\n}\n","import * as React from \"react\"\nimport { graphql, PageProps } from \"gatsby\"\nimport Wiki from \"../../components/templates/Wiki\"\nimport { removeFirstHeading } from \"../../utils/html-string\"\n\nconst relatedLinkStyle = {\n  fontSize: \"0.5em\",\n  marginRight: \"0.5em\",\n}\n\nexport default function BlogPostTemplate(\n  { data }: PageProps<Queries.WikiDetailQuery>,\n) {\n  const {\n    tableOfContents,\n    html,\n  } = data.markdownRemark ?? {}\n  const docTitle = extractDocTitle(data)\n  const relatedDocs = extractRelatedDocs(data)\n  const relatedLinksToc = relatedDocs.map(doc => {\n    const link = doc.slug\n    return <a key={link} href={`../${link}`} style={relatedLinkStyle}>{link}</a>\n  })\n\n  return (\n    <Wiki\n      title={docTitle}\n      tableOfContents={tableOfContents || \"\"}\n      relatedLinksToc={relatedLinksToc}\n      wikiContents={removeFirstHeading(html || \"\")}\n    />\n  )\n}\n\nexport const pageQuery = graphql`\n  query WikiDetail($id: String!) {\n    markdownRemark(id: { eq: $id }) {\n      headings(depth: h1) {\n        value\n      }\n      fields {\n        relatedDocs {\n          slug\n          similarity\n        }\n      }\n      tableOfContents\n      html\n    }\n  }\n`\n\nexport function Head(\n  { data }: PageProps<Queries.WikiDetailQuery>,\n) {\n  const docTitle = extractDocTitle(data)\n  return (\n    <title>Cat Logic{docTitle && ` - ${docTitle}`}</title>\n  )\n}\n\nfunction extractDocTitle(data: Queries.WikiDetailQuery) {\n  const { headings } = data.markdownRemark ?? {}\n  return headings?.[0]?.value || undefined\n}\n\nfunction extractRelatedDocs(data: Queries.WikiDetailQuery) {\n  const relatedDocs = data.markdownRemark?.fields?.relatedDocs || []\n  return relatedDocs\n    .filter(x => x.similarity < 1)\n    .sort((a, b) => b.similarity - a.similarity)\n    .slice(0, 5)\n} \n"],"names":["A","styled","a","Link","children","href","React","larger","Container","div","Toc","contents","dangerouslySetInnerHTML","__html","WikiContent","Comments","commentsInjectionRoot","useEffect","current","_commentsInjectionRoo","length","scriptEl","document","createElement","setAttribute","_commentsInjectionRoo2","appendChild","ref","device","Side","Main","Wiki","title","tableOfContents","relatedLinksToc","wikiContents","removeFirstHeading","html","replace","relatedLinkStyle","fontSize","marginRight","BlogPostTemplate","data","markdownRemark","docTitle","extractDocTitle","relatedDocs","_data$markdownRemark3","fields","_data$markdownRemark4","filter","x","similarity","sort","b","slice","extractRelatedDocs","map","doc","link","slug","key","style","Head","headings","_headings$","value","undefined"],"sourceRoot":""}