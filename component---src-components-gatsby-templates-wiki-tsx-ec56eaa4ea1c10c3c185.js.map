{"version":3,"file":"component---src-components-gatsby-templates-wiki-tsx-ec56eaa4ea1c10c3c185.js","mappings":"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","sources":["webpack://cat-logic/./src/constants/device.ts","webpack://cat-logic/./src/components/molecules/Toc.tsx","webpack://cat-logic/./src/components/molecules/WikiContent.tsx","webpack://cat-logic/./src/components/molecules/Comments.tsx","webpack://cat-logic/./src/components/molecules/HomeLink.tsx","webpack://cat-logic/./src/components/molecules/RelatedLinks.tsx","webpack://cat-logic/./src/components/organisms/GitHubCommitLink.tsx","webpack://cat-logic/./src/components/templates/Wiki.tsx","webpack://cat-logic/./src/utils/html-string.ts","webpack://cat-logic/./src/components/gatsby-templates/Wiki.tsx","webpack://cat-logic/./src/components/atoms/Link.tsx","webpack://cat-logic/./src/utils/wiki.ts","webpack://cat-logic/./src/constants/theme.ts","webpack://cat-logic/./src/components/templates/layout/PageLayout.tsx"],"sourcesContent":["export default {\n  larger: \"min-width: 700px\",\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport theme from \"../../constants/theme\"\n\nconst Header = styled.h3`\n  margin: 0;\n  padding: 1rem 0 .5rem 1rem;\n  font-size: 1rem;\n  display: inline-block;\n`\n\nconst Container = styled.div`\n  box-sizing: border-box;\n  padding: 0 1rem 1rem 0;\n\n  ul {\n    list-style: none;\n    padding-left: 1rem;\n    margin: 0;\n    font-size: .875rem;\n\n    p {\n      margin: 0;\n    }\n\n    li {\n      margin-top: 6px;\n    }\n\n    li, li code {\n      padding: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n\n  // link style\n  a {\n    text-decoration: none;\n    color: ${theme.colors.link};\n\n    &:hover {\n      color: ${theme.colors.highlight};\n    }\n  }\n`\n\nexport default function Toc(\n  {\n    className,\n    contents,\n  }: {\n    className?: string,\n    contents: string,\n  },\n) {\n  return (\n    <div className={className} >\n      <details open>\n        <summary>\n          <Header>Table of Contents</Header>\n        </summary>\n        <Container dangerouslySetInnerHTML={{ __html: contents }} />\n      </details>\n    </div>\n  )\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport theme from \"../../constants/theme\"\n\nconst Container = styled.div`\n  overflow: auto;\n  overflow-wrap: break-word;\n  background-color: #fff;\n  color: ${theme.colors.foreground};\n  padding: 1.5rem;\n  margin-top: 1rem;\n  border-radius: .5rem;\n  border: 1px solid rgb(238, 238, 238);\n  font-family: Arial, Helvetica, sans-serif;\n\n  // heading style\n  h1, h2, h3, h4, h5, h6 {\n    margin: 1.5rem 0 .8rem;\n    padding-bottom: 5px;\n    border-bottom: 1px solid #eee;\n  }\n  h2 {\n    &:not(:first-of-type) {\n      margin-top: 5rem;\n    }\n  }\n\n  // text style\n  p {\n    line-height: 1.6;\n  }\n\n  // link style\n  a {\n    &:link {\n      color: ${theme.colors.link};\n      text-decoration: none;\n    }\n\n    &:visited {\n      color: ${theme.colors.linkVisited};\n    }\n\n    &:hover {\n      color: ${theme.colors.linkHover};\n      text-decoration: underline;\n    }\n  }\n\n  // inline code block style\n  code:not(pre code) {\n    font-size: 80%;\n    background-color: #e3e6e8;\n    border-radius: 4px;\n    padding: 2px 4px;\n    word-break: break-word;\n  }\n\n  // code block style\n  pre:has(code) {\n    font-size: 85%;\n    background-color: #f5f5f5;\n    border-radius: .5rem;\n    padding: 1rem;\n    overflow: auto;\n  }\n\n  // limits image size to prevent image overs container\n  img {\n    max-width: 100%;\n  }\n\n  // quote style\n  blockquote {\n    border-left: 4px solid ${theme.colors.lowlight};\n    background-color: ${theme.colors.background};\n    padding: 1rem 1rem 1rem 1.5rem;\n    margin: 1rem 0;\n    border-radius: 0 .5rem .5rem 0;\n    font-style: italic;\n  }\n\n  // table style\n  table {\n    width: 100%;\n    border-collapse: collapse;\n\n    td, th {\n      padding: .2rem .5rem;\n    }\n\n    thead {\n      background-color: ${theme.colors.background};\n    }\n\n    tbody {\n      font-size: .8rem;\n\n      tr:nth-child(even) {\n        background-color: ${theme.colors.background};\n      }\n\n      tr:hover {\n        background-color: ${theme.colors.backgroundHighlight};\n      }\n    }\n  }\n\n  // hr style\n  hr {\n    border: none;\n    border-top: 1px dashed #aaa;\n  }\n`\n\nexport default function WikiContent(\n  { contents }: { contents: string },\n) {\n  return (\n    <Container dangerouslySetInnerHTML={{ __html: contents }} />\n  )\n}\n","import React, { useEffect } from \"react\"\nimport styled from \"styled-components\"\n\nconst Container = styled.div`\n  padding-top: 20rem;\n`\n\nexport default function Comments() {\n  const commentsInjectionRoot: React.RefObject<HTMLDivElement> = React.createRef()\n\n  useEffect(() => {\n    if (commentsInjectionRoot.current?.children.length === 0) {\n      const scriptEl = document.createElement(\"script\")\n      scriptEl.setAttribute(\"src\", \"https://utteranc.es/client.js\")\n      scriptEl.setAttribute(\"crossorigin\", \"anonymous\")\n      scriptEl.setAttribute(\"async\", \"true\")\n      scriptEl.setAttribute(\n        \"repo\",\n        \"edunga1/cat-logic-comments\"\n      )\n      scriptEl.setAttribute(\"issue-term\", \"pathname\")\n      scriptEl.setAttribute(\"theme\", \"github-light\")\n      commentsInjectionRoot.current?.appendChild(scriptEl)\n    }\n  }, [])\n\n  return (\n    <Container>\n      <hr />\n      <div ref={commentsInjectionRoot} />\n    </Container>\n  )\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport theme from \"../../constants/theme\"\nimport Link from \"../atoms/Link\"\n\nconst Container = styled.div`\n  font-size: 1.5rem;\n  text-align: right;\n\n  a {\n    color: ${theme.colors.foreground};\n    opacity: 0.2;\n    font-weight: 700;\n\n    &:hover {\n      text-decoration: none;\n    }\n\n    &:after {\n      content: \"»\";\n      margin-left: .1rem;\n    }\n  }\n`\n\nexport default function HomeLink() {\n  return (\n    <Container>\n      <Link href=\"/\">CAT</Link>\n    </Container>\n  )\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport theme from \"../../constants/theme\"\n\nconst Container = styled.div`\n`\n\nconst Header = styled.h3`\n  margin: 0;\n  padding: 1rem 0 .5rem 1rem;\n  font-size: 1rem;\n`\n\nconst Links = styled.ul`\n  list-style: none;\n  padding-left: 1rem;\n  margin: 0;\n  font-size: .8rem;\n\n  > li {\n    padding: .1rem 0;\n    line-height: 1;\n    display: inline;\n\n    ::after {\n      content: \" • \";\n    }\n\n    :last-child::after {\n      content: \"\";\n    }\n\n    > a {\n      &:link {\n        color: ${theme.colors.link};\n        text-decoration: none;\n      }\n\n      &:visited {\n        color: ${theme.colors.linkVisited};\n      }\n\n      &:hover {\n        color: ${theme.colors.linkHover};\n        text-decoration: underline;\n      }\n    }\n  }\n`\n\nexport default function RelatedLinks(\n  {\n    className,\n    children,\n  }: {\n    className?: string,\n    children: JSX.Element[],\n  },\n) {\n  return (\n    <>\n      {children.length > 0 &&\n        <Container className={className}>\n          <Header>Related</Header>\n          <Links>\n            {children.map((child, index) => (\n              <li key={index}>{child}</li>\n            ))}\n          </Links>\n        </Container>\n      }\n    </>\n  )\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport theme from \"../../constants/theme\"\n\nconst Container = styled.div`\n  font-size: .7rem;\n  color: ${theme.colors.lowlight};\n\n  a {\n    color: ${theme.colors.lowlight};\n    text-decoration: none;\n  }\n`\n\nexport default function GitHubCommitLink(\n  {\n    lastModified,\n    gitHubRepositoryUrl,\n    hash,\n  }: {\n    lastModified: Date,\n    gitHubRepositoryUrl?: string,\n    hash?: string\n  },\n) {\n  const lastModifiedStr = lastModified.toLocaleString()\n  const element = gitHubRepositoryUrl && hash\n    ? <a href={`${gitHubRepositoryUrl}/commit/${hash}`}>{lastModifiedStr}</a>\n    : <span>{lastModifiedStr}</span>\n  return (\n    <Container>{element}</Container>\n  )\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport Toc from \"../../components/molecules/Toc\"\nimport WikiContent from \"../../components/molecules/WikiContent\"\nimport device from \"../../constants/device\"\nimport theme from \"../../constants/theme\"\nimport Link from \"../atoms/Link\"\nimport Comments from \"../molecules/Comments\"\nimport HomeLink from \"../molecules/HomeLink\"\nimport RelatedLinks from \"../molecules/RelatedLinks\"\nimport GitHubCommitLink from \"../organisms/GitHubCommitLink\"\nimport PageLayout from \"./layout/PageLayout\"\n\nconst backgroundPattern =\n  \"data:image/svg+xml,%3Csvg%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%220%200%2040%2040%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2240%22%20y2%3D%2240%22%20stroke%3D%22%23c4b07a%22%20stroke-width%3D%221%22%20stroke-dasharray%3D%224%206%22%20stroke-linecap%3D%22round%22/%3E%3Cline%20x1%3D%2240%22%20y1%3D%220%22%20x2%3D%220%22%20y2%3D%2240%22%20stroke%3D%22%23c4b07a%22%20stroke-width%3D%221%22%20stroke-dasharray%3D%224%206%22%20stroke-linecap%3D%22round%22/%3E%3Ccircle%20cx%3D%220%22%20cy%3D%220%22%20r%3D%221.5%22%20fill%3D%22%23c4b07a%22/%3E%3Ccircle%20cx%3D%2240%22%20cy%3D%220%22%20r%3D%221.5%22%20fill%3D%22%23c4b07a%22/%3E%3Ccircle%20cx%3D%220%22%20cy%3D%2240%22%20r%3D%221.5%22%20fill%3D%22%23c4b07a%22/%3E%3Ccircle%20cx%3D%2240%22%20cy%3D%2240%22%20r%3D%221.5%22%20fill%3D%22%23c4b07a%22/%3E%3Ccircle%20cx%3D%2220%22%20cy%3D%2220%22%20r%3D%221.5%22%20fill%3D%22%23c4b07a%22/%3E%3C/svg%3E\"\n\nconst Main = styled.div`\n  overflow: auto;\n\n  ::before {\n    content: \"\";\n    background-image: url(\"${backgroundPattern}\");\n    background-color: ${theme.colors.background};\n    opacity: 0.2;\n    inset: 0;\n    position: fixed;\n    z-index: -1;\n  }\n`\n\nconst TitleContainer = styled.div`\n  display: flex;\n  margin: 1rem 0;\n  gap: 0.5rem;\n`\n\nconst Title = styled.h1`\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: ${theme.colors.foreground};\n`\n\nconst TitleBottom = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`\n\nconst TocMain = styled(Toc)`\n  display: block;\n\n  @media (${device.larger}) {\n    display: none;\n  }\n`\n\nconst TocSide = styled(Toc)`\n  margin-top: 1rem;\n  max-width: 20rem;\n`\n\nconst RelatedLinksSide = styled(RelatedLinks)``\n\nexport default function Wiki({\n  title,\n  tableOfContents,\n  relatedLinks,\n  wikiContents,\n  lastModified,\n  lastCommitHash,\n  gitHubRepositoryUrl,\n}: {\n  title?: string;\n  tableOfContents: string;\n  relatedLinks: JSX.Element[];\n  wikiContents: string;\n  lastModified?: Date;\n  lastCommitHash?: string;\n  gitHubRepositoryUrl?: string;\n  activityDates?: Date[];\n}) {\n  const githubLink = lastModified ? (\n    <GitHubCommitLink\n      lastModified={lastModified}\n      gitHubRepositoryUrl={gitHubRepositoryUrl}\n      hash={lastCommitHash}\n    />\n  ) : null\n\n  return (\n    <PageLayout>\n      <Main>\n        <TitleContainer>\n          <HomeLink />\n          <Link href=\".\">\n            <Title>{title}</Title>\n          </Link>\n        </TitleContainer>\n        <TitleBottom>{githubLink}</TitleBottom>\n        <TocMain contents={tableOfContents} />\n        <WikiContent contents={wikiContents} />\n        <Comments />\n      </Main>\n      <RelatedLinksSide>{relatedLinks}</RelatedLinksSide>\n      <TocSide contents={tableOfContents} />\n    </PageLayout>\n  )\n}\n","export function removeFirstHeading(html: string): string {\n  return html.replace(/<h1.*?>(.*?)<\\/h1>/, '')\n}\n","import * as React from \"react\"\nimport { graphql, PageProps } from \"gatsby\"\nimport Wiki from \"../../components/templates/Wiki\"\nimport { removeFirstHeading } from \"../../utils/html-string\"\nimport Link from \"../atoms/Link\"\nimport { createWikiLink } from \"../../utils/wiki\"\n\nexport default function BlogPostTemplate(\n  { data }: PageProps<Queries.WikiDetailQuery>,\n) {\n  const {\n    tableOfContents,\n    html,\n  } = data.file?.childMarkdownRemark ?? {}\n  const commitLogs = data.file?.fields?.gitLogs || []\n  const { hash: gitLogLatestHash, date: gitLogLatestDate } = commitLogs[0] || {}\n  const docTitle = extractDocTitle(data)\n  const relatedDocs = extractRelatedDocs(data)\n  const relatedLinks = relatedDocs.map(doc => {\n    return <Link key={doc.slug} href={createWikiLink(doc.slug)}>{doc.title}</Link>\n  })\n  const gitHubRepositoryUrl = data.site?.siteMetadata?.gitHubRepositoryUrl || undefined\n\n  return (\n    <Wiki\n      title={docTitle}\n      tableOfContents={tableOfContents || \"\"}\n      relatedLinks={relatedLinks}\n      wikiContents={removeFirstHeading(html || \"\")}\n      lastModified={gitLogLatestDate ? new Date(gitLogLatestDate) : undefined}\n      lastCommitHash={gitLogLatestHash || undefined}\n      gitHubRepositoryUrl={gitHubRepositoryUrl}\n    />\n  )\n}\n\nexport const pageQuery = graphql`\n  query WikiDetail($id: String!) {\n    file(childMarkdownRemark: {id: {eq: $id}}) {\n      fields {\n        gitLogs {\n          hash\n          date\n        }\n      }\n      childMarkdownRemark {\n        headings(depth: h1) {\n          value\n        }\n        fields {\n          slug\n          relatedDocs {\n            slug\n            similarity\n          }\n        }\n        tableOfContents\n        html\n      }\n    }\n    allMarkdownRemark {\n      nodes {\n        headings(depth: h1) {\n          value\n        }\n        fields {\n          slug\n        }\n      }\n    }\n    site {\n      siteMetadata {\n        gitHubRepositoryUrl\n      }\n    }\n  }\n`\n\nexport function Head(\n  { data }: PageProps<Queries.WikiDetailQuery>,\n) {\n  const docTitle = extractDocTitle(data)\n  return (\n    <title>Cat Logic{docTitle && ` - ${docTitle}`}</title>\n  )\n}\n\nfunction extractDocTitle(data: Queries.WikiDetailQuery) {\n  const { headings } = data.file?.childMarkdownRemark ?? {}\n  return headings?.[0]?.value || undefined\n}\n\nfunction extractRelatedDocs(\n  data: Queries.WikiDetailQuery,\n  threshold = 0.46,\n  count = 7,\n): {\n  slug: string,\n  title: string,\n  similarity: number,\n}[] {\n  const relatedDocs = data.file?.childMarkdownRemark?.fields?.relatedDocs || []\n  const mostSimilarDocs = relatedDocs\n    .filter(x => x.similarity < 1 && x.similarity >= threshold)\n    .sort((a, b) => b.similarity - a.similarity)\n    .slice(0, count)\n  return mostSimilarDocs.map(x => ({\n    slug: x.slug,\n    title: getDocTitle(x.slug, data),\n    similarity: x.similarity,\n  }))\n}\n\nfunction getDocTitle(slug: string, data: Queries.WikiDetailQuery) {\n  const doc = data.allMarkdownRemark?.nodes.find(x => x.fields?.slug === `/${slug}/`)\n  return doc?.headings?.[0]?.value || \"?\"\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport { Link as GatsbyLink } from \"gatsby\"\n\nconst StyledGatsbyLink = styled(GatsbyLink)`\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`\n\nexport default function Link(\n  { children, href }: { children: React.ReactNode; href: string },\n) {\n  return (\n    <StyledGatsbyLink to={href}>{children}</StyledGatsbyLink>\n  )\n}\n\n","export function createWikiLink(slug: string) {\n  if (slug.startsWith('/')) return `/wiki${slug}`\n  return `/wiki/${slug}`\n}\n","export default {\n  colors: {\n    foreground: \"#333333\",\n    highlight: \"#512DA8\",\n    lowlight: \"#BDBDBD\",\n    link: \"#0D47A1\",\n    linkVisited: \"#607AA1\",\n    linkHover: \"#AF15C0\",\n    background: \"#F5F5F5\",\n    backgroundHighlight: \"#D0D0D0\",\n  },\n  fonts: {\n    body: \"-apple-system, Roboto, sans-serif, serif\",\n    heading: \"-apple-system, Roboto, sans-serif, serif\",\n  }\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport device from \"../../../constants/device\"\n\nconst Container = styled.div`\n  --height-offset: 3rem;\n\n  display: grid;\n  grid-template-areas: \"margin main side\";\n  padding-top: var(--height-offset);\n\n  @media (${device.larger}) {\n    grid-template-columns: 0.3fr 3fr 1fr;\n  }\n`\n\nconst Main = styled.div`\n  display: grid;\n  grid-area: main;\n  width: 100%;\n  padding: 0 1rem;\n`\n\nconst Side = styled.div`\n  display: none;\n  grid-area: side;\n  grid-area: side;\n  position: sticky;\n  top: 0;\n  max-height: calc(100vh - var(--height-offset));\n  padding: 1rem 1rem;\n  overflow-y: auto;\n\n  @media (${device.larger}) {\n    display: block;\n  }\n`\n\nconst Margin = styled.div`\n  display: none;\n  grid-area: margin;\n\n  @media (${device.larger}) {\n    display: block;\n  }\n`\n\nexport default function PageLayout({\n  children,\n}: {\n  children: React.ReactNode | React.ReactNode[];\n}) {\n  const [main, side] = Array.isArray(children)\n    ? [children[0], children.slice(1)]\n    : [children, null]\n  return (\n    <Container>\n      {side && <Margin />}\n      <Main>{main}</Main>\n      {side && <Side>{side}</Side>}\n    </Container>\n  )\n}\n"],"names":["larger","Header","styled","h3","withConfig","displayName","componentId","Container","div","theme","colors","link","highlight","Toc","_ref","className","contents","React","open","dangerouslySetInnerHTML","__html","foreground","linkVisited","linkHover","lowlight","background","backgroundHighlight","WikiContent","Comments","commentsInjectionRoot","useEffect","_commentsInjectionRoo","current","children","length","_commentsInjectionRoo2","scriptEl","document","createElement","setAttribute","appendChild","ref","HomeLink","Link","href","Links","ul","GitHubCommitLink","lastModified","gitHubRepositoryUrl","hash","lastModifiedStr","toLocaleString","element","Main","TitleContainer","Title","h1","TitleBottom","TocMain","device","TocSide","RelatedLinksSide","map","child","index","key","Wiki","title","tableOfContents","relatedLinks","wikiContents","lastCommitHash","githubLink","PageLayout","removeFirstHeading","html","replace","BlogPostTemplate","_data$file$childMarkd","_data$file","_data$file2","_data$file2$fields","_data$site","_data$site$siteMetada","data","file","childMarkdownRemark","commitLogs","fields","gitLogs","gitLogLatestHash","date","gitLogLatestDate","docTitle","extractDocTitle","relatedDocs","threshold","count","_data$file4","_data$file4$childMark","_data$file4$childMark2","mostSimilarDocs","filter","x","similarity","sort","a","b","slice","slug","getDocTitle","extractRelatedDocs","doc","createWikiLink","site","siteMetadata","undefined","Date","Head","_ref2","_data$file$childMarkd2","_data$file3","_headings$","headings","value","_data$allMarkdownRema","_doc$headings","_doc$headings$","allMarkdownRemark","nodes","find","_x$fields","StyledGatsbyLink","GatsbyLink","to","startsWith","fonts","body","heading","Side","Margin","main","side","Array","isArray"],"sourceRoot":""}