<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.0"/><style data-href="/cat-logic/styles.7063392de47b3110fc97.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:0 0;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}*{box-sizing:border-box}body{margin:0}</style><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style data-styled="" data-styled-version="5.3.11">.jvNoeo{box-sizing:border-box;padding:1rem 1rem 1rem 0;}/*!sc*/
.jvNoeo ul{list-style:none;padding-left:1rem;margin:0;font-size:.8rem;}/*!sc*/
.jvNoeo ul p{margin:0;}/*!sc*/
.jvNoeo a{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.jvNoeo a:hover{color:#512DA8;}/*!sc*/
data-styled.g1[id="Toc__Container-sc-1f76i2s-0"]{content:"jvNoeo,"}/*!sc*/
.jZwqfl{overflow:auto;overflow-wrap:break-word;color:#333333;}/*!sc*/
.jZwqfl h1,.jZwqfl h2,.jZwqfl h3,.jZwqfl h4,.jZwqfl h5,.jZwqfl h6{margin:1.5rem 0 .8rem;padding-bottom:5px;border-bottom:1px solid #eee;}/*!sc*/
.jZwqfl a{-webkit-text-decoration-style:dotted;text-decoration-style:dotted;}/*!sc*/
.jZwqfl a:visited{color:#B4CFF9;}/*!sc*/
.jZwqfl code:not(pre code){font-size:80%;background-color:#f5f5f5;border-radius:.5rem;padding:.2rem .4rem;word-break:break-word;}/*!sc*/
.jZwqfl pre:has(code){font-size:85%;background-color:#f5f5f5;border-radius:.5rem;padding:1rem;overflow:auto;}/*!sc*/
.jZwqfl img{max-width:100%;}/*!sc*/
.jZwqfl blockquote{border-left:4px solid #ddd;padding-left:1rem;margin-left:0;font-style:italic;}/*!sc*/
.jZwqfl table{width:100%;border-collapse:collapse;}/*!sc*/
.jZwqfl table td,.jZwqfl table th{padding:.2rem .5rem;}/*!sc*/
.jZwqfl table thead{background-color:#F5F5F5;}/*!sc*/
.jZwqfl table tbody{font-size:.8rem;}/*!sc*/
.jZwqfl table tbody tr:nth-child(even){background-color:#F5F5F5;}/*!sc*/
.jZwqfl table tbody tr:hover{background-color:#D0D0D0;}/*!sc*/
.jZwqfl hr{border:none;border-top:1px dashed #aaa;}/*!sc*/
data-styled.g2[id="WikiContent__Container-sc-q3jb6a-0"]{content:"jZwqfl,"}/*!sc*/
.bUjFDA{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.bUjFDA:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
data-styled.g3[id="Link__A-sc-k1di17-0"]{content:"bUjFDA,"}/*!sc*/
.gcJKrk{padding-top:20rem;}/*!sc*/
data-styled.g4[id="Comments__Container-sc-1ajj4d9-0"]{content:"gcJKrk,"}/*!sc*/
.iTVyYc{width:.5rem;height:.5rem;background-color:rgba(192,222,191,1);}/*!sc*/
.iTVyYc > span{font-size:.5rem;top:1rem;white-space:nowrap;-webkit-transform:rotate(-15deg);-ms-transform:rotate(-15deg);transform:rotate(-15deg);position:inherit;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}/*!sc*/
data-styled.g5[id="GrassPoint__Container-sc-vhet8f-0"]{content:"iTVyYc,"}/*!sc*/
.kTfeIb{height:3rem;overflow:hidden;border-top:1px solid rgba(0,0,0,0.1);border-bottom:1px solid rgba(0,0,0,0.1);padding:0.5rem 0;margin-bottom:1rem;}/*!sc*/
data-styled.g6[id="GrassActivity__Container-sc-1d932e2-0"]{content:"kTfeIb,"}/*!sc*/
.hzZfMw{width:calc(100% - .5rem);height:100%;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
data-styled.g7[id="GrassActivity__PointContainer-sc-1d932e2-1"]{content:"hzZfMw,"}/*!sc*/
.cHXqdT{position:absolute;left:0.00%;z-index:1;}/*!sc*/
.cDXQPX{position:absolute;left:6.93%;z-index:1;}/*!sc*/
.cCoFZD{position:absolute;left:7.43%;z-index:1;}/*!sc*/
.cGsLSZ{position:absolute;left:25.49%;z-index:1;}/*!sc*/
.eTrkWY{position:absolute;left:48.43%;z-index:1;}/*!sc*/
.hPABpy{position:absolute;left:49.55%;z-index:1;}/*!sc*/
.fWJiIY{position:absolute;left:81.93%;z-index:1;}/*!sc*/
.cdSxWd{position:absolute;left:91.46%;z-index:1;}/*!sc*/
.gkBNvd{position:absolute;left:93.04%;z-index:1;}/*!sc*/
.isrUsa{position:absolute;left:100.00%;z-index:1;}/*!sc*/
data-styled.g8[id="GrassActivity__GrassPointWrapper-sc-1d932e2-2"]{content:"cHXqdT,cDXQPX,cCoFZD,cGsLSZ,eTrkWY,hPABpy,fWJiIY,cdSxWd,gkBNvd,isrUsa,"}/*!sc*/
.kltskx{font-size:1.5rem;text-align:right;}/*!sc*/
.kltskx a{color:#333333;opacity:0.2;font-weight:700;}/*!sc*/
.kltskx a:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.kltskx a:after{content:"»";margin-left:.1rem;}/*!sc*/
data-styled.g9[id="HomeLink__Container-sc-1f7ngt2-0"]{content:"kltskx,"}/*!sc*/
.fTEgtV{margin:0;padding:1rem 0 .5rem 1rem;font-size:1rem;}/*!sc*/
data-styled.g11[id="RelatedLinks__Header-sc-1y1aimd-1"]{content:"fTEgtV,"}/*!sc*/
.dUWUVd{list-style:none;padding-left:1rem;margin:0;font-size:.8rem;}/*!sc*/
.dUWUVd > li{padding:.1rem 0;line-height:1;display:inline;}/*!sc*/
.dUWUVd > li::after{content:" • ";}/*!sc*/
.dUWUVd > li:last-child::after{content:"";}/*!sc*/
data-styled.g12[id="RelatedLinks__Links-sc-1y1aimd-2"]{content:"dUWUVd,"}/*!sc*/
.etrcVC{font-size:.7rem;color:#BDBDBD;}/*!sc*/
.etrcVC a{color:#BDBDBD;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g13[id="GitHubCommitLink__Container-sc-13f81rm-0"]{content:"etrcVC,"}/*!sc*/
.efrcmK{padding-top:10%;color:#333333;overflow:hidden;display:grid;grid-template-columns:1fr;position:relative;}/*!sc*/
.efrcmK a{color:#0D47A1;}/*!sc*/
@media (min-width:700px){.efrcmK{padding:1rem 1rem 3rem 1rem;grid-template-columns:.5fr minmax(auto,50rem) 10rem;}.efrcmK > :nth-child(1){grid-column:2;}.efrcmK > :nth-child(2){grid-column:3;position:fixed;}}/*!sc*/
data-styled.g14[id="PageLayout__Container-sc-11jfopf-0"]{content:"efrcmK,"}/*!sc*/
.cwRbEB{width:100%;padding:0 1rem;display:grid;}/*!sc*/
data-styled.g15[id="PageLayout__Main-sc-11jfopf-1"]{content:"cwRbEB,"}/*!sc*/
.fxRRnF{display:none;}/*!sc*/
@media (min-width:700px){.fxRRnF{display:block;padding:1rem 1rem;height:100%;overflow-y:auto;}}/*!sc*/
data-styled.g16[id="PageLayout__Side-sc-11jfopf-2"]{content:"fxRRnF,"}/*!sc*/
.hGxUVC{padding:0 1rem;overflow:auto;}/*!sc*/
data-styled.g17[id="Wiki__Main-sc-16q9onf-0"]{content:"hGxUVC,"}/*!sc*/
.kVauEQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1rem 0;gap:.5rem;}/*!sc*/
data-styled.g18[id="Wiki__TitleContainer-sc-16q9onf-1"]{content:"kVauEQ,"}/*!sc*/
.gysHks{margin:0;font-size:1.5rem;font-weight:700;color:#333333;}/*!sc*/
data-styled.g19[id="Wiki__Title-sc-16q9onf-2"]{content:"gysHks,"}/*!sc*/
.keieWK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}/*!sc*/
data-styled.g20[id="Wiki__TitleBottom-sc-16q9onf-3"]{content:"keieWK,"}/*!sc*/
.ewPrf{display:block;}/*!sc*/
@media (min-width:700px){.ewPrf{display:none;}}/*!sc*/
data-styled.g21[id="Wiki__TocMain-sc-16q9onf-4"]{content:"ewPrf,"}/*!sc*/
.chvTXK{margin-top:1rem;max-width:20rem;}/*!sc*/
data-styled.g22[id="Wiki__TocSide-sc-16q9onf-5"]{content:"chvTXK,"}/*!sc*/
.lbNyJW{margin-top:4rem;}/*!sc*/
data-styled.g23[id="Wiki__RelatedLinksSide-sc-16q9onf-6"]{content:"lbNyJW,"}/*!sc*/
</style><link rel="sitemap" type="application/xml" href="/cat-logic/sitemap-index.xml"/><link rel="icon" href="/cat-logic/favicon-32x32.png?v=8ac5e5872e5245b972f101c92acce617" type="image/png"/><link rel="manifest" href="/cat-logic/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/cat-logic/icons/icon-48x48.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="72x72" href="/cat-logic/icons/icon-72x72.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="96x96" href="/cat-logic/icons/icon-96x96.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="144x144" href="/cat-logic/icons/icon-144x144.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="192x192" href="/cat-logic/icons/icon-192x192.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="256x256" href="/cat-logic/icons/icon-256x256.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="384x384" href="/cat-logic/icons/icon-384x384.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="512x512" href="/cat-logic/icons/icon-512x512.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><title data-gatsby-head="true">Cat Logic - Git</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="PageLayout__Container-sc-11jfopf-0 efrcmK"><div class="PageLayout__Main-sc-11jfopf-1 cwRbEB"><div class="Wiki__Main-sc-16q9onf-0 hGxUVC"><div class="Wiki__TitleContainer-sc-16q9onf-1 kVauEQ"><div class="HomeLink__Container-sc-1f7ngt2-0 kltskx"><a href="" class="Link__A-sc-k1di17-0 bUjFDA">CAT</a></div><a href="." class="Link__A-sc-k1di17-0 bUjFDA"><h1 class="Wiki__Title-sc-16q9onf-2 gysHks">Git</h1></a></div><div class="GrassActivity__Container-sc-1d932e2-0 kTfeIb"><div class="GrassActivity__PointContainer-sc-1d932e2-1 hzZfMw"><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 cHXqdT"><span>7/5/2024</span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 cHXqdT"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 cHXqdT"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 cDXQPX"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 cCoFZD"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 cGsLSZ"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 eTrkWY"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 hPABpy"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 fWJiIY"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 cdSxWd"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 gkBNvd"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 isrUsa"><span>1/9/2025</span></div></div></div><div class="Wiki__TitleBottom-sc-16q9onf-3 keieWK"><div class="GitHubCommitLink__Container-sc-13f81rm-0 etrcVC"><a href="https://github.com/edunga1/cat-logic/commit/82882cc132ff497a42728d2a93ec41687448a7ff">12/27/2024, 7:34:29 AM</a></div></div><div class="Toc__Container-sc-1f76i2s-0 jvNoeo Wiki__TocMain-sc-16q9onf-4 ewPrf"><ul>
<li>
<p><a href="#git">Git</a></p>
<ul>
<li>
<p><a href="#%EA%B9%83-%EC%BB%A4%EB%B0%8B-%ED%95%B4%EC%8B%9C-%EC%B6%A9%EB%8F%8C%EC%97%90-%EA%B4%80%ED%95%98%EC%97%AC">깃 커밋 해시 충돌에 관하여</a></p>
<ul>
<li>
<ul>
<li><a href="#%EB%A6%AC%EB%88%84%EC%8A%A4-%ED%86%A0%EB%B0%9C%EC%A6%88%EC%9D%98-%EC%9D%98%EA%B2%AC">리누스 토발즈의 의견</a></li>
<li><a href="#%ED%95%B4%EC%8B%9C-%EC%B6%A9%EB%8F%8C%EC%9D%84-%EC%9E%AC%ED%98%84%ED%95%9C-so-%EA%B8%80">해시 충돌을 재현한 SO 글</a></li>
<li><a href="#%EC%BB%A4%EB%B0%8B-%ED%95%B4%EC%8B%9C%EB%A5%BC-%EA%B2%B0%EC%A0%95%ED%95%98%EB%8A%94-%EC%9A%94%EC%86%8C">커밋 해시를 결정하는 요소</a></li>
<li><a href="#%ED%95%B4%EC%8B%9C-%EC%B4%9D%EB%8F%8C-%EC%9C%A0%EB%A8%B8">해시 총돌 유머</a></li>
<li><a href="#sha1-%EC%B8%B5%EB%8F%8C-%EC%84%A4%EB%AA%85">sha1 층돌 설명</a></li>
<li><a href="#md5-%EC%B6%A9%EB%8F%8C-%EC%98%88%EC%A0%9C">md5 충돌 예제</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#configurations">Configurations</a></p>
<ul>
<li><a href="#conflict-style">Conflict Style</a></li>
<li><a href="#commit">Commit</a></li>
</ul>
</li>
<li>
<p><a href="#git-clone">git clone</a></p>
<ul>
<li><a href="#--depth">--depth</a></li>
</ul>
</li>
<li>
<p><a href="#git-rebase--i">git rebase -i</a></p>
</li>
<li>
<p><a href="#git-revert--m">git revert -m</a></p>
</li>
<li>
<p><a href="#git-log">git log</a></p>
<ul>
<li>
<p><a href="#git-log---graph">git log --graph</a></p>
<ul>
<li><a href="#--date-order-%EB%A1%9C-%ED%94%BC%EB%9D%BC%EB%AF%B8%EB%93%9C-%EA%B7%B8%EB%9E%98%ED%94%84-%EB%B0%A9%EC%A7%80%ED%95%98%EA%B8%B0">--date-order 로 피라미드 그래프 방지하기</a></li>
<li><a href="#%EC%98%B5%EC%85%98-%EC%84%A4%EB%AA%85">옵션 설명</a></li>
</ul>
</li>
<li>
<p><a href="#--date-order-%EC%99%80---author-date-order-%EB%B9%84%EA%B5%90">--date-order 와 <code class="language-text">--author-date-order</code> 비교</a></p>
</li>
<li>
<p><a href="#--follow">--follow</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#git-worktree"><code class="language-text">git worktree</code></a></p>
</li>
<li>
<p><a href="#git-bisect">git-bisect</a></p>
</li>
<li>
<p><a href="#git-reset">git-reset</a></p>
</li>
<li>
<p><a href="#git-shortlog">git-shortlog</a></p>
</li>
<li>
<p><a href="#git-checkout">git checkout</a></p>
</li>
<li>
<p><a href="#git-large-file-storagelfs">Git Large File Storage(LFS)</a></p>
<ul>
<li><a href="#%EC%82%AC%EC%9A%A9%EB%B2%95">사용법</a></li>
</ul>
</li>
<li>
<p><a href="#%EC%BB%A4%EB%B0%8B-%EC%84%9C%EB%AA%85%ED%95%98%EA%B8%B0">커밋 서명하기</a></p>
<ul>
<li><a href="#gpg-%ED%82%A4-%EC%83%9D%EC%84%B1-gpg---full-generate-key">GPG 키 생성: <code class="language-text">gpg --full-generate-key</code></a></li>
<li><a href="#gpg-%ED%82%A4-%ED%99%95%EC%9D%B8-gpg---list-secret-keys---keyid-formatlong">GPG 키 확인: <code class="language-text">gpg --list-secret-keys --keyid-format=long</code></a></li>
<li><a href="#gpg-%ED%82%A4-export-gpg---armor---export-key-id">GPG 키 export: <code class="language-text">gpg --armor --export &lt;key-id></code></a></li>
<li><a href="#gpg-%ED%82%A4-github%EC%97%90-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0">GPG 키 GitHub에 등록하기</a></li>
<li><a href="#%EC%84%9C%EB%AA%85%ED%95%98%EA%B8%B0">서명하기</a></li>
</ul>
</li>
</ul>
</li>
</ul></div><div class="WikiContent__Container-sc-q3jb6a-0 jZwqfl">
<p>Git은 2005년 4월 3일에 리누스 토발즈가 개발을 시작해서,
17일 후인 4월 20일에 리눅스 2.6.12-rc3 커널을 <a href="https://patrickcollison.com/fast">Git으로 공개</a>했다.</p>
<p><a href="https://lkml.iu.edu/hypermail/linux/kernel/0504.2/0784.html">2.6.12-rc3의 릴리즈 메일</a>에 Git에 대해서 언급된다.</p>
<blockquote>
<p>Ok,<br>
you know what the subject line means by now, but this release is a bit<br>
different from the usual ones, for obvious reasons. It's the first in a<br>
<em>long</em> time that I've done without using BK, and it's the first one ever<br>
that has been built up completely with "git".</p>
</blockquote>
<p><em>명령어 자동완성하기</em>: <a href="https://github.com/bobthecow/git-flow-completion/wiki/Install-Bash-git-completion">https://github.com/bobthecow/git-flow-completion/wiki/Install-Bash-git-completion</a></p>
<p>git에서 언급하는 <code class="language-text">HEAD</code>, <code class="language-text">upstream</code> 등 용어에 대한 설명은 <code class="language-text">git help glossary</code>로 확인할 수 있다.</p>
<h2 id="깃-커밋-해시-충돌에-관하여" style="position:relative;"><a href="#%EA%B9%83-%EC%BB%A4%EB%B0%8B-%ED%95%B4%EC%8B%9C-%EC%B6%A9%EB%8F%8C%EC%97%90-%EA%B4%80%ED%95%98%EC%97%AC" aria-label="깃 커밋 해시 충돌에 관하여 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>깃 커밋 해시 충돌에 관하여</h2>
<p>어느날 커밋 해시는 어떤 정보를 기반하여 만들어지는지 궁금했다.
커밋 해시는 <code class="language-text">git commit</code> 할 때 생성되고, 커밋 해시로 <code class="language-text">git checkout</code>하여 특정 revision으로 이동한다.</p>
<p>따라오는 질문은 "커밋 할 때 해시가 충돌할 여지는 없는가" 였다.</p>
<p>먼저, <a href="https://git-scm.com/book/ko/v1/Git-%EB%8F%84%EA%B5%AC-%EB%A6%AC%EB%B9%84%EC%A0%84-%EC%A1%B0%ED%9A%8C%ED%95%98%EA%B8%B0">git-scm</a>의 글
<a href="https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-%EB%A6%AC%EB%B9%84%EC%A0%84-%EC%A1%B0%ED%9A%8C%ED%95%98%EA%B8%B0#:~:text=%EB%85%B8%ED%8A%B8-,SHA%2D1%20%ED%95%B4%EC%8B%9C%20%EA%B0%92%EC%97%90%20%EB%8C%80%ED%95%9C%20%EB%8B%A8%EC%83%81,-Git%EC%9D%84%20%EC%93%B0%EB%8A%94">SHA-1 해시 값에 대한 단상</a>에서
이러한 걱정에 대한 현실적인 조언을 해 준다. 또 실제로 발생하면 어떤 일이 일어나는지 알려준다.</p>
<p>요약하면, 해시 중복이 생성되면, 현재 구현으로는 커밋은 성공하지만, checkout하면 최초의 revision으로 이동한다.
하지만 충돌이 발생할 확률은 현실적으로 불가능하다.</p>
<blockquote>
<p>SHA-1 해시 값에 대한 단상</p>
<p>Git을 쓰는 사람들은 가능성이 작긴 하지만 언젠가 SHA-1 값이 중복될까 봐 걱정한다. 정말 그렇게 되면 어떤 일이 벌어질까?</p>
<p>이미 있는 SHA-1 값이 Git 데이터베이스에 커밋되면 새로운 개체라고 해도 이미 커밋된 것으로 생각하고 이전의 커밋을 재사용한다. 그래서 해당 SHA-1 값의 커밋을 Checkout 하면 항상 처음 저장한 커밋만 Checkout 된다.</p>
<p>그러나 해시 값이 중복되는 일은 일어나기 어렵다. SHA-1 값의 크기는 20 바이트(160비트)이다. 해시 값이 중복될 확률이 50%가 되는 데 필요한 개체의 수는 280이다. 이 수는 1자 2,000해 ('자’는 '경’의 '억’배 - 1024, 충돌 확률을 구하는 공식은 p = (n(n-1)/2) * (1/2^160) )이다. 즉, 지구에 존재하는 모래알의 수에 1,200을 곱한 수와 맞먹는다.</p>
<p>아직도 SHA-1 해시 값이 중복될까 봐 걱정하는 사람들을 위해 좀 더 덧붙이겠다. 지구에서 약 6억 5천만 명의 인구가 개발하고 각자 매초 Linux 커널 히스토리 전체와(650만 개) 맞먹는 개체를 쏟아 내고 바로 Push 한다고 가정하자. 이런 상황에서 해시 값의 충돌 날 확률이 50%가 되기까지는 약 2년이 걸린다. 그냥 어느 날 동료가 한 순간에 모두 늑대에게 물려 죽을 확률이 훨씬 더 높다.</p>
</blockquote>
<h4 id="리누스-토발즈의-의견" style="position:relative;"><a href="#%EB%A6%AC%EB%88%84%EC%8A%A4-%ED%86%A0%EB%B0%9C%EC%A6%88%EC%9D%98-%EC%9D%98%EA%B2%AC" aria-label="리누스 토발즈의 의견 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>리누스 토발즈의 의견</h4>
<p>그래도 운이 정말 나빠서, 해시 충돌 문제에 벗어날 수 없다면, 리누스 토발즈도 이 이슈에 대해 언급했다.
아쉽게도 원글이 있던 google+가 종료되어 볼 수 없지만 예전에 올라온 나프다 게시글에 누군가 요약해 주었다.</p>
<p><a href="https://www.facebook.com/iamprogrammer.io/posts/1379005945454259">https://www.facebook.com/iamprogrammer.io/posts/1379005945454259</a></p>
<p>사람이 소스코드의 변경을 지켜보고 있기 때문에 괜찮고, 또 대안은 있다고 한다.</p>
<h4 id="해시-충돌을-재현한-so-글" style="position:relative;"><a href="#%ED%95%B4%EC%8B%9C-%EC%B6%A9%EB%8F%8C%EC%9D%84-%EC%9E%AC%ED%98%84%ED%95%9C-so-%EA%B8%80" aria-label="해시 충돌을 재현한 so 글 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>해시 충돌을 재현한 SO 글</h4>
<p>사실 충돌 문제에 대해 가장 먼저 접한 것은 StackOverflow의 질문이었다.</p>
<p><a href="https://stackoverflow.com/questions/9392365">https://stackoverflow.com/questions/9392365</a></p>
<p><a href="https://stackoverflow.com/questions/9392365/how-would-git-handle-a-sha-1-collision-on-a-blob/34599081#34599081">답변</a>에서,
해시 사이즈를 4-bit로 줄여서 실제로 재현했다. <code class="language-text">push</code>, <code class="language-text">clone</code> 할 때 에러가 발생한다.</p>
<h4 id="커밋-해시를-결정하는-요소" style="position:relative;"><a href="#%EC%BB%A4%EB%B0%8B-%ED%95%B4%EC%8B%9C%EB%A5%BC-%EA%B2%B0%EC%A0%95%ED%95%98%EB%8A%94-%EC%9A%94%EC%86%8C" aria-label="커밋 해시를 결정하는 요소 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>커밋 해시를 결정하는 요소</h4>
<p>커밋 해시가 무엇으로 결정되는지 알려주는 SO 글. 부모 커밋, 커미터, 메시지 등.</p>
<p><a href="https://stackoverflow.com/questions/34764195">https://stackoverflow.com/questions/34764195</a></p>
<h4 id="해시-총돌-유머" style="position:relative;"><a href="#%ED%95%B4%EC%8B%9C-%EC%B4%9D%EB%8F%8C-%EC%9C%A0%EB%A8%B8" aria-label="해시 총돌 유머 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>해시 총돌 유머</h4>
<p>여기 있는 사이트가 사라졌다 :|</p>
<blockquote>
<p>뻘글) git 불안해서 못쓰겟음니다 -.-;</p>
</blockquote>
<p><a href="https://www.codentalks.com/t/topic/2973">https://www.codentalks.com/t/topic/2973</a></p>
<p>찾다가 나온 유머글 ㅎㅎ. <a href="https://www.codentalks.com/uploads/default/original/2X/9/98fa43031c7cfbf44c714ad5819ea504ef37e70c.jpg">덧글에 있는 만화</a>처럼
걱정, 우려만 해서는 안되겠다.</p>
<h4 id="sha1-층돌-설명" style="position:relative;"><a href="#sha1-%EC%B8%B5%EB%8F%8C-%EC%84%A4%EB%AA%85" aria-label="sha1 층돌 설명 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>sha1 층돌 설명</h4>
<p>여기도 사이트가 사라졌다 :-|</p>
<p>sha1 충돌 이슈에 설명. 해시에 대한 기초 설명, 구글이 sha-1 충돌 재현에 대한 주변 설명.</p>
<p><a href="https://zariski.wordpress.com/2017/02/25/sha-1-%EC%B6%A9%EB%8F%8C/">https://zariski.wordpress.com/2017/02/25/sha-1-%EC%B6%A9%EB%8F%8C/</a></p>
<h4 id="md5-충돌-예제" style="position:relative;"><a href="#md5-%EC%B6%A9%EB%8F%8C-%EC%98%88%EC%A0%9C" aria-label="md5 충돌 예제 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>md5 충돌 예제</h4>
<p>여기 예제 사이트에서는 다른 파일인데 같은 MD5 sum을 가진 예제를 제공한다.
근데 다운받아보면 실행도 안되고, 바이너리지만 열어보면 내용도 같아 보이는데.. 심지어 파일 크기도 같다. 제대로 된 예제가 맞나?</p>
<p><a href="https://www.mathstat.dal.ca/~selinger/md5collision">https://www.mathstat.dal.ca/~selinger/md5collision</a></p>
<h2 id="configurations" style="position:relative;"><a href="#configurations" aria-label="configurations permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configurations</h2>
<p><code class="language-text">.gitconfig</code> 파일에 설정을 저장하거나 <code class="language-text">git config</code> 명령어로 설정을 추가하거나 확인한다.</p>
<h3 id="conflict-style" style="position:relative;"><a href="#conflict-style" aria-label="conflict style permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conflict Style</h3>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token punctuation">[</span>merge<span class="token punctuation">]</span>
  conflictStyle <span class="token operator">=</span> zdiff3</code></pre></div>
<p>커밋 충돌 시 diff를 보여주는 방식을 개선한다.
기본값의 경우 다음과 같이 나타난다면:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">++<span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;</span> HEAD
 +python <span class="token parameter variable">-m</span> SimpleHTTPServer <span class="token number">1234</span>
+<span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
+ python <span class="token parameter variable">-m</span> SimpleHTTPServer <span class="token number">4321</span></code></pre></div>
<p><code class="language-text">zdiff3</code>은 원본 코드를 중간에 함께 보여준다:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">++<span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;</span> HEAD
 +python <span class="token parameter variable">-m</span> SimpleHTTPServer <span class="token number">1234</span>
++<span class="token operator">||</span><span class="token operator">||</span><span class="token operator">||</span><span class="token operator">|</span> parent of dbecef5 <span class="token punctuation">(</span><span class="token number">4321</span><span class="token punctuation">)</span>
++python <span class="token parameter variable">-m</span> SimpleHTTPServer <span class="token number">8080</span>
+<span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
+ python <span class="token parameter variable">-m</span> SimpleHTTPServer <span class="token number">4321</span>
++<span class="token operator">>></span><span class="token operator">>></span><span class="token operator">>></span><span class="token operator">></span> dbecef5 <span class="token punctuation">(</span><span class="token number">4321</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="commit" style="position:relative;"><a href="#commit" aria-label="commit permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Commit</h3>
<p><code class="language-text">git commit --verbose</code> 옵션을 자주 사용한다.
커밋 메시지를 작성할 때 변경  내용을 함께 보여줘서 유용하기 때문이다.</p>
<p>다음 설정은 옵션 생략하고, 기본 설정을 변경한다:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token punctuation">[</span>commit<span class="token punctuation">]</span>
  verbose <span class="token operator">=</span> <span class="token boolean">true</span></code></pre></div>
<p>위 예시는 <code class="language-text">git rebase</code>의 충돌 결과라 <code class="language-text">parent of dbecef5</code> 메시지와 함께 rebase를 시작한 커밋의 원본 코드를 보여준다.</p>
<h2 id="git-clone" style="position:relative;"><a href="#git-clone" aria-label="git clone permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>git clone</h2>
<p>저장소를 복제하는 명렁어. 가장 기본적인 명령어 중 하나라서 모르는 사람은 없겠다.</p>
<h3 id="--depth" style="position:relative;"><a href="#--depth" aria-label="  depth permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>--depth</h3>
<p><code class="language-text">--depth</code> 옵션은 저장소의 최신 커밋만 복제한다. 얕은 복제라 한다:</p>
<blockquote>
<p>Create a shallow clone with a history truncated to the specified number of commits.</p>
</blockquote>
<p>예를 들어 <code class="language-text">--depth 1</code>로 복제하면 최신 커밋만 복제한다. 이 옵션을 사용하면 저장소의 용량이 줄어드는 장점이 있다.</p>
<p>내 위키 프로젝트의 경우 전체 복제하는 경우 <code class="language-text">.git</code> 폴더의 용량은:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">du</span> <span class="token parameter variable">-sh</span> .git
295M    .git</code></pre></div>
<p><code class="language-text">--depth 1</code>로 복제하는 경우:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">du</span> <span class="token parameter variable">-sh</span> .git
25M     .git</code></pre></div>
<p>10배의 차이가 있다.</p>
<hr>
<p>GitHub Actions와 같이 배포 시스템을 구축하는 경우 최신 리비전만 필요한 경우가 많다.</p>
<p><a href="https://github.com/actions/checkout">https://github.com/actions/checkout</a> 프로젝트는 저장소에 접근하기 위해서 많이 사용하는데, 기본적으로 <code class="language-text">--depth 1</code> 옵션을 사용한다.</p>
<p>이 설정은 변경 가능하다:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">with</span><span class="token punctuation">:</span>
  <span class="token comment"># Number of commits to fetch. 0 indicates all history for all branches and tags.</span>
  <span class="token comment"># Default: 1</span>
  <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token string">''</span></code></pre></div>
<p>내 경우는 정적 사이트를 빌드하면서, 커밋 내역을 확인해서 파일의 정보를 사이트에 보여주는 기능이 있었는데,
기본값으로 사용하면서 제대로 정보를 보여줄 수 없었다.</p>
<h2 id="git-rebase--i" style="position:relative;"><a href="#git-rebase--i" aria-label="git rebase  i permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>git rebase -i</h2>
<p><a href="https://meetup.toast.com/posts/39">https://meetup.toast.com/posts/39</a></p>
<p>여러개의 커밋을 묶는데, <code class="language-text">git reset HEAD~#</code> 후 다시 커밋을 생성하는 방법도 있지만,
여러개의 커밋을 남겼을 경우, 메시지들이 사라진다는 단점이 있다.
애초에 일련의 과정이 아니라, 수동으로 처리하는 행동 자체에서 꺼림칙함을 느낀다.</p>
<p>위 글은 <code class="language-text">git rebase -i</code>를 이용하여 어떤 커밋을 하나로 합칠지 알려준다.
하지만 정말 유용한 기능 하나가 빠져있는데, 커밋 순서를 정렬할 수 있는 것이다.
이는 <code class="language-text">git rebase -i</code>하면 나오는 설명에도 나온다
<code class="language-text">These lines can be re-ordered;</code></p>
<p>각 커밋을 의미하는 라인을 다시 정렬하면 git history가 그렇게 바뀐다.</p>
<p>예를들어 A라는 작업과 B라는 작업이 있다.
A는 기능 하나를 추가하는 것이고, B는 A 작업을 하다보니 파일을 옮기고, 스타일을 바꾸는 작업들을 했다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">* 5d31146 <span class="token punctuation">(</span>HEAD -<span class="token operator">></span> master<span class="token punctuation">)</span> A2
* 90bb25a B
* b94056d A1
* 5fc47ec A
* 325da60 init</code></pre></div>
<p>문제는 A 작업을 처리하기 위해서 3개의 커밋을 남겼는데, 그 사이에 B 작업이 껴 있을 때다.</p>
<p>이 때 <code class="language-text">git rebase -i 325da60</code> 수정할 수 있는 화면이 뜬다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">pick 5fc47ec A
pick b94056d A1
pick 90bb25a B
pick 5d31146 A2

<span class="token comment"># Rebase 325da60..5d31146 onto 325da60 (4 commands)</span>
<span class="token comment">#</span>
<span class="token comment"># Commands:</span>
<span class="token comment"># p, pick = use commit</span>
<span class="token comment"># r, reword = use commit, but edit the commit message</span>
<span class="token comment"># e, edit = use commit, but stop for amending</span>
<span class="token comment"># s, squash = use commit, but meld into previous commit</span>
<span class="token comment"># f, fixup = like "squash", but discard this commit's log message</span>
<span class="token comment"># x, exec = run command (the rest of the line) using shell</span>
<span class="token comment"># d, drop = remove commit</span>
<span class="token comment">#</span>
<span class="token comment"># These lines can be re-ordered; they are executed from top to bottom.</span>
<span class="token comment">#</span>
<span class="token comment"># If you remove a line here THAT COMMIT WILL BE LOST.</span>
<span class="token comment">#</span>
<span class="token comment"># However, if you remove everything, the rebase will be aborted.</span>
<span class="token comment">#</span>
<span class="token comment"># Note that empty commits are commented out</span></code></pre></div>
<p>내가 원하는 히스토리는</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">B
A
init</code></pre></div>
<p>이런 순서다.</p>
<p>밑에 커밋이 위로 합쳐지므로, 다음과 같이 바꾼다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">pick 5fc47ec A
squash b94056d A1
squash 5d31146 A2
pick 90bb25a B

<span class="token comment"># Rebase 325da60..5d31146 onto 325da60 (4 commands)</span>
<span class="token comment">#</span>
<span class="token comment"># Commands:</span>
<span class="token comment"># p, pick = use commit</span>
<span class="token comment"># r, reword = use commit, but edit the commit message</span>
<span class="token comment"># e, edit = use commit, but stop for amending</span>
<span class="token comment"># s, squash = use commit, but meld into previous commit</span>
<span class="token comment"># f, fixup = like "squash", but discard this commit's log message</span>
<span class="token comment"># x, exec = run command (the rest of the line) using shell</span>
<span class="token comment"># d, drop = remove commit</span>
<span class="token comment">#</span>
<span class="token comment"># These lines can be re-ordered; they are executed from top to bottom.</span>
<span class="token comment">#</span>
<span class="token comment"># If you remove a line here THAT COMMIT WILL BE LOST.</span>
<span class="token comment">#</span>
<span class="token comment"># However, if you remove everything, the rebase will be aborted.</span>
<span class="token comment">#</span>
<span class="token comment"># Note that empty commits are commented out</span></code></pre></div>
<p>B를 가장 밑으로 빼고, A1과 A2는 squash로 바꾼다. 이러면 A와 B만 남는다.</p>
<p>이제 저장하고 나오면..</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># This is a combination of 3 commits.</span>
<span class="token comment"># This is the 1st commit message:</span>

A

<span class="token comment">## This is the commit message #2:</span>

A1

<span class="token comment">## This is the commit message #3:</span>

A2

<span class="token comment"># Please enter the commit message for your changes. Lines starting</span>
<span class="token comment"># with '#' will be ignored, and an empty message aborts the commit.</span>
<span class="token comment">#</span>
<span class="token comment"># Date:      Mon Mar 25 22:49:24 2019 +0900</span>
<span class="token comment">#</span>
<span class="token comment"># interactive rebase in progress; onto 325da60</span>
<span class="token comment"># Last commands done (3 commands done):</span>
<span class="token comment">#    squash b94056d A1</span>
<span class="token comment">#    squash 5d31146 A2</span>
<span class="token comment"># Next command to do (1 remaining command):</span>
<span class="token comment">#    pick 90bb25a B</span>
<span class="token comment"># You are currently rebasing branch 'master' on '325da60'.</span>
<span class="token comment">#</span>
<span class="token comment"># Changes to be committed:</span>
<span class="token comment">#	modified:   README</span>
<span class="token comment">#</span></code></pre></div>
<p>A + A1 + A2에 대한 커밋 메시지를 작성하게 된다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">A

- <span class="token number">1</span>
- <span class="token number">2</span>
<span class="token comment"># Please enter the commit message for your changes. Lines starting</span>
<span class="token comment"># with '#' will be ignored, and an empty message aborts the commit.</span>
<span class="token comment">#</span>
<span class="token comment"># Date:      Mon Mar 25 22:49:24 2019 +0900</span>
<span class="token comment">#</span>
<span class="token comment"># interactive rebase in progress; onto 325da60</span>
<span class="token comment"># Last commands done (3 commands done):</span>
<span class="token comment">#    squash b94056d A1</span>
<span class="token comment">#    squash 5d31146 A2</span>
<span class="token comment"># Next command to do (1 remaining command):</span>
<span class="token comment">#    pick 90bb25a B</span>
<span class="token comment"># You are currently rebasing branch 'master' on '325da60'.</span>
<span class="token comment">#</span>
<span class="token comment"># Changes to be committed:</span>
<span class="token comment">#	modified:   README</span>
<span class="token comment">#</span></code></pre></div>
<p>위처럼 커밋메시지를 작성하고, <code class="language-text">log</code>를 보면 의도한대로 정리된 것을 볼 수 있다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ glog
* e3c5f82 <span class="token punctuation">(</span>HEAD -<span class="token operator">></span> master<span class="token punctuation">)</span> B
* aa6f7ef A
* 325da60 init</code></pre></div>
<p>만약 A와 B가 같은 파일을 작업하게 되면, 당연하게도 conflict 발생한다.</p>
<h2 id="git-revert--m" style="position:relative;"><a href="#git-revert--m" aria-label="git revert  m permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>git revert -m</h2>
<p><code class="language-text">-m</code>, <code class="language-text">--mainline</code> 옵션은 merge commit을 되돌리는데 사용한다. merge는 2개의 커밋을 병합하는 것이므로, 둘 중 어느 상태로 돌릴 것인지 결정해야 한다.</p>
<blockquote>
<p>Usually you cannot revert a merge because you do not know which side of the merge should be considered the mainline. - <code class="language-text">git revert --help</code></p>
</blockquote>
<p>따라서 사용법은 다음과 같다: <code class="language-text">git revert -m 1</code> or <code class="language-text">git revert -m 2</code></p>
<p>revert는 새 커밋에 되돌리는 작업이 포함되므로 history로는 어떤 커밋을 선택했는지 알 수 없다.</p>
<p>친절하게도 커밋 메시지에 둘 중 어떤 커밋으로 되돌아가는지 알려준다:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Revert "Add a feature"

This reverts commit 5c54ea679164eaca0bab639667bfcebb88769e63, reversing
changes made to b73ce1b168428a561e2dbcac96f97defaffa0e36.</code></pre></div>
<p><code class="language-text">5c54ea</code> 되돌려서 parent commit 중 하나인 <code class="language-text">b73ce1</code>로 돌아간다. 물론 새로운 커밋이기 때문에 hash는 별개다.</p>
<h2 id="git-log" style="position:relative;"><a href="#git-log" aria-label="git log permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>git log</h2>
<h3 id="git-log---graph" style="position:relative;"><a href="#git-log---graph" aria-label="git log   graph permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>git log --graph</h3>
<p>TL;DR</p>
<ul>
<li><code class="language-text">--date-order</code> 로 그래프를 정렬하는데 힌트를 줄 수 있다.</li>
<li><code class="language-text">--author-date-order</code> 로 작성자 및 날짜 정렬</li>
<li>옵션에 대한 정보: <a href="https://git-scm.com/docs/git-log#_commit_ordering">https://git-scm.com/docs/git-log#_commit_ordering</a></li>
<li>기본 값은 <code class="language-text">--topo-order</code>로 보인다.</li>
</ul>
<h4 id="--date-order-로-피라미드-그래프-방지하기" style="position:relative;"><a href="#--date-order-%EB%A1%9C-%ED%94%BC%EB%9D%BC%EB%AF%B8%EB%93%9C-%EA%B7%B8%EB%9E%98%ED%94%84-%EB%B0%A9%EC%A7%80%ED%95%98%EA%B8%B0" aria-label="  date order 로 피라미드 그래프 방지하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>--date-order 로 피라미드 그래프 방지하기</h4>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--graph</span> --abbrev-commit <span class="token parameter variable">--decorate</span> <span class="token parameter variable">--date</span><span class="token operator">=</span>relative <span class="token parameter variable">--format</span><span class="token operator">=</span>format:<span class="token string">'%C(bold red)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(cyan)&lt;%an>%C(reset)%C(bold yellow)%d%C(reset)'</span> <span class="token parameter variable">--all</span></code></pre></div>
<p>git log를 그래프로 보기위해 이렇게 사용 중이다.</p>
<p>문제는 <code class="language-text">staging -> master</code> 머지 커밋이 아래 이미지와 같이 피라미드로 보여진다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/07a9c/git-log-graph-pyramid.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 177.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACK0lEQVR42p1VyZbaMBAcYMC21N3aJW8MHrLMKbkl+f8/S3sD8t5AsP108KVU3bXYL53VqTP6Tb2seCpFZVLU4hpw1OgcyCjWMasYCUq5BlwbzWNjDavAGstKY71q55KoKbU+6+12sxj87sLP73Xzp37d7xaD2aY6KHVSu912MdgyGMC/aWGLxWBDUAEFj6qlzdK1vSbHzEJggoM8LAVjQHYKq0rrk9os4nYEkdADlATmpDNYQh4MJUKHGAUYKyHJBdyWIBEF5kdqDLkvNqdswc6JaXlywiTBBqAKn93cK4oDuMdLcFBwSfb56wLBAk3kLa9w1Oz5s4INYLiQB5L6jZ4iHwRjqxmD3GuHEIVUUQpXPCfYLTNCCdQE5b7Z/5NzPG/H5sNpjVKaGoUXT/qMF7BHDBKMFtyY7eOeBqOuzGqSndN+VOQ7w4F73OdBsJk2zM55IY0R1OAj8lmwHpnmK1h2Dzy8UBXmeD+t3vQJG62Ko2c4yX4kqhqtu/s9NSQjgp8wMILDeAtgY9CdTYaHxwkbB77KzhawZw1QrNXdtDp1XfXmTDc67pks2LPPAzOC55D0xb4JDK8zVQUreOAz3vp8YeZTAlYW7bv5hNwr/noNq6p5+bnerFwa0tp/W4MsTH5BbYaH48lNEjxhQlkODpf8ux/O+M6/lBKHqny1++Jf8t8/2l/+I5ho644vIiFklkGe96d/6d9llqs8Ty3ZSm52O5MdPtqmO5//AhZyOrfj4RyIAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="pyramid graph"
        title=""
        src="/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/fcda8/git-log-graph-pyramid.png"
        srcset="/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/12f09/git-log-graph-pyramid.png 148w,
/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/e4a3f/git-log-graph-pyramid.png 295w,
/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/fcda8/git-log-graph-pyramid.png 590w,
/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/efc66/git-log-graph-pyramid.png 885w,
/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/c83ae/git-log-graph-pyramid.png 1180w,
/cat-logic/static/1b34db6784e7d80ef712457f45e3139a/07a9c/git-log-graph-pyramid.png 1440w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>머지 커밋의 경우 2개의 부모를 가지고 있기 때문에, 두 부모 중 어느 것을 우선적으로 보여줄 지 힌트가 없다.
따라서 피라미드로 보여지는 것으로 추정한다.</p>
<p><code class="language-text">--date-order</code> 옵션을 추가하여, 시간 기준으로 보여주도록 옵션을 주면 완화된다:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--graph</span> --abbrev-commit <span class="token parameter variable">--decorate</span> <span class="token parameter variable">--date</span><span class="token operator">=</span>relative <span class="token parameter variable">--format</span><span class="token operator">=</span>format:<span class="token string">'%C(bold red)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(cyan)&lt;%an>%C(reset)%C(bold yellow)%d%C(reset)'</span> <span class="token parameter variable">--all</span> --date-order</code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/07a9c/git-log-graph-date-order.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 177.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABY0lEQVR42p2V2U7DMBBFG1rI5n1ix7HdNG3abAhB6Yb4/w+DAhIvSKhz3yz5aDzXozuzFpTbFnItZggFxk0Quc4wcC2UX0peMwy8krL0ggUUHARTmmQ6xcDPle1fvGzl9RDd3DNox3KTYyq3AE2rxYpj4B2odW+QbjdK+FpRRzDw0VfTWyM3AmNYB7DqjGhQ42kJh4rmBWo8D5WbLrWeCsyz97YajsuiBwy8haLZ6h/4Vo3adJ11rzZCwI/arCervmf7Vp1cNZyWekAaZnf7gDTs5Nx4rs2kMXBTiGuSOIrpWVFKWJKIBAN3YPyu4LgMO/twdXtEuu26Q9ADym0nJFhKyhyX29xekwTldskIlNj01DlThiDDQFPKZZYBamMYQShPU4kaEk04E2mmUJUrIRR89/zfL0e/V6IvzWSWUkiQW/L9yV/CqKoyAR/H8Xw+j/7SZzGSLgi7v1ssZPzQB99sNh8pNR+7j6mvNwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="with --date-order"
        title=""
        src="/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/fcda8/git-log-graph-date-order.png"
        srcset="/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/12f09/git-log-graph-date-order.png 148w,
/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/e4a3f/git-log-graph-date-order.png 295w,
/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/fcda8/git-log-graph-date-order.png 590w,
/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/efc66/git-log-graph-date-order.png 885w,
/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/c83ae/git-log-graph-date-order.png 1180w,
/cat-logic/static/7367f91360c5b0c824d35a18d5256e7d/07a9c/git-log-graph-date-order.png 1440w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h4 id="옵션-설명" style="position:relative;"><a href="#%EC%98%B5%EC%85%98-%EC%84%A4%EB%AA%85" aria-label="옵션 설명 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>옵션 설명</h4>
<p><code class="language-text">git log --help</code> 에서 정렬과 관련된 내용을 확인하면 어떻게 정렬 방법에 대해서 설명하고 있다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">Commit Ordering
       By default, the commits are shown <span class="token keyword">in</span> reverse chronological order.

       --date-order
           Show no parents before all of its children are shown, but otherwise show commits <span class="token keyword">in</span> the commit timestamp order.

       --author-date-order
           Show no parents before all of its children are shown, but otherwise show commits <span class="token keyword">in</span> the author timestamp order.

       --topo-order
           Show no parents before all of its children are shown, and avoid showing commits on multiple lines of <span class="token function">history</span> intermixed.

           For example, <span class="token keyword">in</span> a commit <span class="token function">history</span> like this:

                   ---1----2----4----7
                       <span class="token punctuation">\</span>              <span class="token punctuation">\</span>
                        <span class="token number">3</span>----5----6----8---

           where the numbers denote the order of commit timestamps, <span class="token function">git</span> rev-list and friends with --date-order show the commits <span class="token keyword">in</span> the timestamp order: <span class="token number">8</span> <span class="token number">7</span> <span class="token number">6</span> <span class="token number">5</span> <span class="token number">4</span> <span class="token number">3</span> <span class="token number">2</span> <span class="token number">1</span>.

           With --topo-order, they would show <span class="token number">8</span> <span class="token number">6</span> <span class="token number">5</span> <span class="token number">3</span> <span class="token number">7</span> <span class="token number">4</span> <span class="token number">2</span> <span class="token number">1</span> <span class="token punctuation">(</span>or <span class="token number">8</span> <span class="token number">7</span> <span class="token number">4</span> <span class="token number">2</span> <span class="token number">6</span> <span class="token number">5</span> <span class="token number">3</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> some older commits are shown before newer ones <span class="token keyword">in</span> order to avoid showing the commits from two
           parallel development track mixed together.</code></pre></div>
<p><code class="language-text">--topo-order</code>에 대한 내용을 보면</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">                   ---1----2----4----7
                       <span class="token punctuation">\</span>              <span class="token punctuation">\</span>
                        <span class="token number">3</span>----5----6----8---</code></pre></div>
<p>위 그래프가 있을 때, 숫자는 시간 순서로 작성되었다고 하자.</p>
<ul>
<li><code class="language-text">--topo-order</code> 8 6 5 3 7 4 2 1 순서로 표기한다.</li>
<li><code class="language-text">--date-order</code> 8 7 6 5 4 3 2 1 순서로 표기한다.</li>
</ul>
<h3 id="--date-order-와---author-date-order-비교" style="position:relative;"><a href="#--date-order-%EC%99%80---author-date-order-%EB%B9%84%EA%B5%90" aria-label="  date order 와   author date order 비교 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>--date-order 와 <code class="language-text">--author-date-order</code> 비교</h3>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/4d08a/git-log-graph-author-date-order-comparison.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 83.1081081081081%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACYUlEQVR42mWSa4+aQBSGuQl44Q7DdUC5CAraVReladJvTZvsh/7U4lcWde1ms3+rI2SruBMSyJzzzPvOy8F+/Py+2q02+TbfrdarbJZMgzBEDwBaVVXvr6/p0t9+K9b54+7rw8NqliSB53mWZWVZhkUR5BRelCRZFpl+nyAwHMcI9MKwcl8eq4rjCOAYiqygnh7LojJBkqgqSRK2XIaGq9u2oxoGxbINiZNN+U9Zng8nUWGcMbQtWwE62esROEY2RyuKgi2yANiaaVoqAHS/jzWrVUbwS11LDawbpqSqJE2jfRwptMrr9dSe2BB6oqoSFHUHn+vasEd+HDquKygK3uxfYWRbh7plOZwkYs1uV/nAS7QFbWCYzGDQVq/wY564EXTdMTDNSx5d+O1w1CGHlF3P0wwD3bkDbzYxDB1vPJEBoGjmDv57OFguH82nEz8ciSJ2Z3u7TdwpDINIAgBvQu7CtT3mg1no+4Ggqm3DDVzMxonnTwILQmY4vIXLsjw+H1W174aublqSIlMM04Gn8VhQBUFW+oPB57Rf6hMv0gY0daCjX0Xd/arNJTAUx+XO9OfAjicUWJBENnSHgkDc2U4XvmZpQDd4UWzDvLV9qp85iTKhpWo6JwhkY+0Kx4kn67IoKyOOa1117/zMDgnNALwgDobDezgMXU7k0KkMy/ZoGhlDJNU07ff7Y13TLC5r6ojjGYbpodkmyXbyL7PtODrFUj2G/T9eV+X9vq4q9DHgRuSHqY7y76dfebHb5HmapvNmZVm6XC6SaXQ+n9/f3tJFsi12X9ab+cdCnXEcF0XxD1T1gwnUFhbPAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="--date-order and --author-date-order comparison"
        title=""
        src="/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/fcda8/git-log-graph-author-date-order-comparison.png"
        srcset="/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/12f09/git-log-graph-author-date-order-comparison.png 148w,
/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/e4a3f/git-log-graph-author-date-order-comparison.png 295w,
/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/fcda8/git-log-graph-author-date-order-comparison.png 590w,
/cat-logic/static/2b2ef3fb5474d957867c71a5fbf3029f/4d08a/git-log-graph-author-date-order-comparison.png 709w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>왼쪽이 <code class="language-text">--date-order</code> 오른쪽이 <code class="language-text">--author-date-order</code>이다.</p>
<h3 id="--follow" style="position:relative;"><a href="#--follow" aria-label="  follow permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>--follow</h3>
<p>기본적으로 <code class="language-text">git log FILENAME</code>은 현재 파일 이름에 대해서만 로그를 보여준다.</p>
<p><code class="language-text">git log --follow FILENAME</code>으로 파일이 이동하더라도 추적한다.</p>
<p>다음은 예시.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> log <span class="token parameter variable">--pretty</span><span class="token operator">=</span>format:<span class="token string">"%ad %h %s"</span> <span class="token parameter variable">--date</span><span class="token operator">=</span>short docs/wiki/book.md
<span class="token number">2023</span>-12-02 8520c0d1f Add frontmatters
<span class="token number">2023</span>-11-11 f5b670292 Revise book.md and jetbrains.md
<span class="token number">2023</span>-10-26 e5832cc77 Revise tennise inner game
<span class="token number">2023</span>-10-15 146a5d7b2 Revise book.md
<span class="token number">2023</span>-10-13 9ac5d1ea3 Add heads
<span class="token number">2023</span>-10-11 3c2f6a0c3 Update tennis inner game book
<span class="token number">2023</span>-10-09 3af35024d Update tennis inner game book
<span class="token number">2023</span>-09-14 740f1e230 Add tennis inner game
<span class="token number">2023</span>-07-22 ee34ec929 Update document headings
<span class="token number">2023</span>-01-08 a0fc19715 Update book.md to include <span class="token string">"만들면서 배우는 클린 아키텍처"</span>
<span class="token number">2023</span>-01-05 e89f4febd Update book
<span class="token number">2023</span>-01-01 e8b5e5e97 Update all documents to include their own titles
<span class="token number">2023</span>-01-01 de99d7338 Migrate book</code></pre></div>
<p><code class="language-text">Migrate book</code> 커밋에서 파일 이동이 있었다.</p>
<p><code class="language-text">--follow</code>를 추가하면 <code class="language-text">Migrate book</code> 커밋 이전 내용도 확인할 수 있다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> log <span class="token parameter variable">--follow</span> <span class="token parameter variable">--pretty</span><span class="token operator">=</span>format:<span class="token string">"%ad %h %s"</span> <span class="token parameter variable">--date</span><span class="token operator">=</span>short docs/wiki/book.md
<span class="token number">2023</span>-12-02 8520c0d1f Add frontmatters
<span class="token number">2023</span>-11-11 f5b670292 Revise book.md and jetbrains.md
<span class="token number">2023</span>-10-26 e5832cc77 Revise tennise inner game
<span class="token number">2023</span>-10-15 146a5d7b2 Revise book.md
<span class="token number">2023</span>-10-13 9ac5d1ea3 Add heads
<span class="token number">2023</span>-10-11 3c2f6a0c3 Update tennis inner game book
<span class="token number">2023</span>-10-09 3af35024d Update tennis inner game book
<span class="token number">2023</span>-09-14 740f1e230 Add tennis inner game
<span class="token number">2023</span>-07-22 ee34ec929 Update document headings
<span class="token number">2023</span>-01-08 a0fc19715 Update book.md to include <span class="token string">"만들면서 배우는 클린 아키텍처"</span>
<span class="token number">2023</span>-01-05 e89f4febd Update book
<span class="token number">2023</span>-01-01 e8b5e5e97 Update all documents to include their own titles
<span class="token number">2023</span>-01-01 de99d7338 Migrate book
<span class="token number">2020</span>-06-12 0bd294112 Update tags
<span class="token number">2018</span>-07-23 1ef0e7f22 Update front matters
<span class="token number">2018</span>-07-06 1605cfcf4 폴더 구조 변경 및 개발 환경 개선
<span class="token number">2018</span>-01-11 1c18d58bd Update <span class="token string">"Chocolate Problem"</span>
<span class="token number">2018</span>-01-11 ebd76bb05 Add <span class="token string">"Chocolate Problem"</span></code></pre></div>
<h2 id="git-worktree" style="position:relative;"><a href="#git-worktree" aria-label="git worktree permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">git worktree</code></h2>
<p><code class="language-text">git worktree add &lt;path> &lt;branch></code>로 현재 프로젝트를 <code class="language-text">&lt;path></code>에 생성하고 <code class="language-text">&lt;branch></code>로 체크아웃한다. 현재 프로젝트와 연결된다.
git에서는 작업 영역을 working tree라 부르니, 알아두면 좋겠다.</p>
<p><code class="language-text">git worktree</code>는 현재 작업중인 내용을 stash나 commit 등으로 저장하지 않고, 다른 작업을 처리할 때 유용하다.
다만, <a href="../java">java</a>나 <a href="../kotlin">kotlin</a> 프로젝트 같이 <a href="../jetbrains">IDE</a>에서 인덱싱하여 작업 영역이 무거운 경우에는 비효율적일 수 있다.
새 worktree에서 다시 인덱싱을 하기 때문이다.</p>
<p><code class="language-text">git worktree list</code>로 목록을 확인할 수 있으며, 복사된 프로젝트나 원본 프로젝트에서도 확인 가능하다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> worktree list
/Users/me/workspace/some-api         e9169a43 <span class="token punctuation">[</span>staging<span class="token punctuation">]</span>
/Users/me/workspace/some-api-new     e826395c <span class="token punctuation">[</span>new-branch<span class="token punctuation">]</span></code></pre></div>
<p>worktree가 사용하는 branch는 <code class="language-text">git branch</code>에서 구분되어 표시된다:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> branch
* new-branch  <span class="token comment"># 현재 worktree에서 사용하는 branch</span>
  master
+ staging     <span class="token comment"># 다른(원본) worktree</span></code></pre></div>
<p>worktree를 제거하기 위해서는 <code class="language-text">git worktree remove &lt;path></code>를 사용한다. Tab을 통한 경로 자동 완성이 된다.
worktree에서 사용한 브랜치는 계속 유지된다.</p>
<h2 id="git-bisect" style="position:relative;"><a href="#git-bisect" aria-label="git bisect permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>git-bisect</h2>
<p><code class="language-text">git bisect</code> 명령은 이진 탐색을 이용하여 버그가 처음 발생한 커밋을 찾는데 사용한다.
메뉴얼 상으로는 버그라고 하지만, 특정 커밋을 찾는데 사용할 수 있다고 보면 된다.
<code class="language-text">bisect</code>는 2등분한다는 의미다.</p>
<p>이진 검색을 사용하기 때문에, 아무리 커밋이 많아도 <code class="language-text">log(n)</code> 안에 찾을 수 있다.
커밋이 1억개가 있더라도 27번만 검색하면 된다.</p>
<p>흐름은 올바른 커밋과 잘못된 커밋을 먼저 선정하면, git이 자동으로 중간 커밋으로 체크아웃한다.
사용자는 현재 커밋에서 동작을 확인하고 올바른지 잘못되었는지 알려주면, git이 다음 중간 커밋으로 체크아웃을 반복한다.
올바른 커밋과 잘못된 커밋이 변경되는 지점을 찾으면 git은 경계 지점을 찾아서 멈춘다.</p>
<p>다음은 사용 예시.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">~/myproject                                                                      master*
❯ g bisect start
status: waiting <span class="token keyword">for</span> both good and bad commits

~/myproject                                                                      master<span class="token operator">|</span>bisect
❯ g bisect bad HEAD
status: waiting <span class="token keyword">for</span> good commit<span class="token punctuation">(</span>s<span class="token punctuation">)</span>, bad commit known

~/myproject                                                                      master<span class="token operator">|</span>bisect
❯ g bisect good 9867149b9a0097a8830159a14ca23182828a352c
Bisecting: <span class="token number">36</span> revisions left to <span class="token builtin class-name">test</span> after this <span class="token punctuation">(</span>roughly <span class="token number">5</span> steps<span class="token punctuation">)</span>
<span class="token punctuation">[</span>c5adff3fa82925bbbf12dde653af264a54e002d6<span class="token punctuation">]</span> V1.0.27

~/myproject                                                                      @c5adff3f<span class="token operator">|</span>bisect
❯ g bisect good
Bisecting: <span class="token number">17</span> revisions left to <span class="token builtin class-name">test</span> after this <span class="token punctuation">(</span>roughly <span class="token number">4</span> steps<span class="token punctuation">)</span>
<span class="token punctuation">[</span>e31a874ebfdd7d254f8e90541d367b310b6168c0<span class="token punctuation">]</span> V1.0.33

~/myproject                                                                      @e31a874e<span class="token operator">|</span>bisect
❯ g bisect good
Bisecting: <span class="token number">8</span> revisions left to <span class="token builtin class-name">test</span> after this <span class="token punctuation">(</span>roughly <span class="token number">3</span> steps<span class="token punctuation">)</span>
<span class="token punctuation">[</span>c634c9cbbb6c023ae068dad96cf945e2295272ef<span class="token punctuation">]</span> V1.0.37

~/myproject                                                                      @c634c9cb<span class="token operator">|</span>bisect
❯ g bisect good
Bisecting: <span class="token number">3</span> revisions left to <span class="token builtin class-name">test</span> after this <span class="token punctuation">(</span>roughly <span class="token number">2</span> steps<span class="token punctuation">)</span>
<span class="token punctuation">[</span>7977f9b61481a366a50afd263f57c88591e858f5<span class="token punctuation">]</span> V1.0.39

~/myproject                                                                      @7977f9b6<span class="token operator">|</span>bisect
❯ g bisect good
Bisecting: <span class="token number">1</span> revision left to <span class="token builtin class-name">test</span> after this <span class="token punctuation">(</span>roughly <span class="token number">1</span> step<span class="token punctuation">)</span>
<span class="token punctuation">[</span>3f30e3a9f617c7acd6e9310573564b3e56fecb30<span class="token punctuation">]</span> V1.0.40

~/myproject                                                                      @3f30e3a9<span class="token operator">|</span>bisect
❯ g bisect good
Bisecting: <span class="token number">0</span> revisions left to <span class="token builtin class-name">test</span> after this <span class="token punctuation">(</span>roughly <span class="token number">0</span> steps<span class="token punctuation">)</span>
<span class="token punctuation">[</span>e0b7dbc3921062a6f06a1997efb891b0b1b6041d<span class="token punctuation">]</span> imp: improve some logic

~/myproject                                                                      @e0b7dbc3<span class="token operator">|</span>bisect
❯ g bisect bad
e0b7dbc3921062a6f06a1997efb891b0b1b6041d is the first bad commit
commit e0b7dbc3921062a6f06a1997efb891b0b1b6041d <span class="token punctuation">(</span>HEAD, origin/imp-logic<span class="token punctuation">)</span>
Author: John Doe
Date:  Fri Mar <span class="token number">25</span> <span class="token number">22</span>:49:24 <span class="token number">2022</span> +0900

    imp: improve some logic



 src/foo.py
 src/bar.py
 src/tests/foo_test.py <span class="token operator">|</span>
 <span class="token number">3</span> files changed, <span class="token number">2</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">238</span> deletions<span class="token punctuation">(</span>-<span class="token punctuation">)</span></code></pre></div>
<p><code class="language-text">git bisect run</code> 명령은 good, bad를 자동 판단하는 스크립트를 작성하여, 커밋 탐색을 자동화하는 명령이다.</p>
<!-- TODO: 예시 추가 -->
<h2 id="git-reset" style="position:relative;"><a href="#git-reset" aria-label="git reset permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>git-reset</h2>
<p><code class="language-text">git reset</code>은 HEAD를 이동시키는 명령어다. 즉, 작업 영역을 변경한다.</p>
<p>remote branch의 변경이 있으면, <code class="language-text">fatal: Not possible to fast-forward, aborting.</code> 에러가 발생하는 fast-forward가 불가능한 경우를 피하기 위해서
일반적으로 <code class="language-text">git reset --hard origin/&lt;branch></code>로 변경하곤 한다. 다만 문제는 브랜치 이름이 길어지면 입력이 번거롭다는 점.
git completion으로 해결할 수 있지만, 별칭을 사용하는 것도 편리한 방법이다.</p>
<p><code class="language-text">git reset --hard @{u}</code>를 사용하면 upstream branch로 reset할 수 있다. <code class="language-text">@{u}</code>는 <code class="language-text">@{upstream}</code>의 축약어다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># ~/workspace/my-project new-awesome-feature-wip-and-too-long-branch-name</span>
$ g reset <span class="token parameter variable">--hard</span> @<span class="token punctuation">{</span>u<span class="token punctuation">}</span>
HEAD is now at 93a0251b work-in-progress</code></pre></div>
<h2 id="git-shortlog" style="position:relative;"><a href="#git-shortlog" aria-label="git shortlog permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>git-shortlog</h2>
<p><code class="language-text">git shortlog</code>는 커밋 내역을 요약한다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> shortlog

Alleb <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>:
      Implment something
      Fix something

Bella <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>:
      Initial commit
      Add something
      Update something</code></pre></div>
<p>기본 옵션으로는 사용자 별로 커밋 내역을 요약한다.</p>
<p><code class="language-text">-s</code> 옵션은 커밋 수만 보여준다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> shortlog <span class="token parameter variable">-s</span>
     <span class="token number">2</span>  Alleb
     <span class="token number">3</span>  Bella</code></pre></div>
<h2 id="git-checkout" style="position:relative;"><a href="#git-checkout" aria-label="git checkout permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>git checkout</h2>
<p>브랜치를 변경하거나, 파일을 복구하는 기능.</p>
<p>2개의 기능을 가지고 있어서, <a href="https://github.blog/2019-08-16-highlights-from-git-2-23/">2019년 8월, 2.23.0 버전</a>부터 <code class="language-text">git switch</code>와 <code class="language-text">git restore</code>로 분리되었다.
<code class="language-text">switch</code>는 브랜치의 변경, <code class="language-text">restore</code>는 파일 복구를 담당한다.</p>
<p><code class="language-text">git checkout -p</code>로 interactive 파일을 복구할 수 있다. <br>
<code class="language-text">git add -p</code>와 같은 방식으로 hunk 단위로 선택하거나 파일을 직접 수정하여 복구한다.</p>
<h2 id="git-large-file-storagelfs" style="position:relative;"><a href="#git-large-file-storagelfs" aria-label="git large file storagelfs permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Git Large File Storage(LFS)</h2>
<p>Git Large File Storage는 대용량 파일의 버전 관리를 위한 도구이다.</p>
<p>Git은 리모트 저장소로부터 clone 받을 때 대용량 파일은 실제 파일이 아닌, 참조만 받아온다.<br>
그래서 clone 받을 때 빠르게 받을 수 있다.</p>
<p>References:</p>
<ul>
<li>git-lfs 공식 사이트: <a href="https://git-lfs.com/">https://git-lfs.com/</a></li>
<li>GitHub의 LFS 설명: <a href="https://docs.github.com/ko/repositories/working-with-files/managing-large-files/about-git-large-file-storage">https://docs.github.com/ko/repositories/working-with-files/managing-large-files/about-git-large-file-storage</a></li>
</ul>
<p>Git LFS는 Git의 확장으로 분류한다:</p>
<blockquote>
<p>An open source Git extension for versioning large files</p>
</blockquote>
<p><code class="language-text">git lfs</code> 명령어로 제공하지만, Git에 내장된 것은 아니다. 별도 설치가 필요하다.<br>
Linux, macOS는 <code class="language-text">brew install git-lfs</code>로 설치 가능.</p>
<h3 id="사용법" style="position:relative;"><a href="#%EC%82%AC%EC%9A%A9%EB%B2%95" aria-label="사용법 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>사용법</h3>
<p>최근 Huggingface에서 <a href="https://huggingface.co/Trelis/Llama-2-7b-chat-hf-function-calling-v2">모델</a>을 다운로드 받고 실행해 보면서 처음 사용해 보았다.<br>
<code class="language-text">.git</code> 폴더는 모든 리비전에 대한 내용을 담고 있어서 그런지, 모델 저장소의 경우 용량이 매우 커졌다.</p>
<p>대용량 파일을 업로드 할 일이 없어서 업로드에 대한 내용은 생략한다.</p>
<p>git clone 전에 하거나 clone 후에 하는지에 따라 사용 방법이 다르다.</p>
<hr>
<p><strong>Clone 전</strong></p>
<ol>
<li><code class="language-text">git lfs install</code>로 LFS 사용을 활성화한다. (비활성화는 <code class="language-text">git lfs uninstall</code>)</li>
</ol>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> lfs <span class="token function">install</span>
Updated Git hooks.
Git LFS initialized.</code></pre></div>
<ol start="2">
<li><code class="language-text">git clone</code> 한다.</li>
</ol>
<p><code class="language-text">git lfs install</code>은 한 번만 실행하면 전역으로 적용된다.
앞으로 clone 받는 저장소에 대해서 대용량 파일을 실제 파일로 받겠다는 의미다.</p>
<p>다운로드 진행 상황이 UI로 표시되지 않기 때문에 clone이 멈춘듯한 모습으로 보이지만,
<code class="language-text">du -sh .git</code> 명령어로 용량을 확인하면 계속 증가하는 것을 볼 수 있다.</p>
<p><code class="language-text">git lfs install</code>을 하지 않고 clone을 받는 것과 비교하면 완료 속도가 다른 것을 체감할 수 있다.</p>
<hr>
<p><strong>Clone 후</strong></p>
<p><code class="language-text">git lfs pull</code>로 대용량 파일을 다운로드 받는다.</p>
<p>이 경우에도 멈춘듯한 모습으로 보이지만, 실제로는 다운로드가 진행된다.</p>
<p>도움말 <code class="language-text">git lfs pull --help</code>에 다르면 <code class="language-text">git lfs fetch</code> 명령어와 같다고 한다.<br>
아마도 특정 파일만 다운로드 받을 수도 있는 모양.</p>
<h2 id="커밋-서명하기" style="position:relative;"><a href="#%EC%BB%A4%EB%B0%8B-%EC%84%9C%EB%AA%85%ED%95%98%EA%B8%B0" aria-label="커밋 서명하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>커밋 서명하기</h2>
<p>커밋의 서명을 확인하려면 <code class="language-text">git cat-file -p &lt;commit-hash></code> 명령어를 사용한다.</p>
<p>다음은 mochajs 저장소의 커밋을 확인한 것이다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> cat-file <span class="token parameter variable">-p</span> HEAD
tree 6c42701b4c621fa227bd211b6b52473e68004057
parent 37358738260cfae7c244c157aee21654f2b588f2
author ***** ***** <span class="token operator">&lt;</span>***************@*****.***<span class="token operator">></span> <span class="token number">1709903697</span> <span class="token parameter variable">-0300</span>
committer GitHub <span class="token operator">&lt;</span>noreply@github.com<span class="token operator">></span> <span class="token number">1709903697</span> <span class="token parameter variable">-0500</span>
gpgsig -----BEGIN PGP SIGNATURE-----
<span class="token punctuation">..</span>.
 -----END PGP SIGNATURE-----
<span class="token punctuation">..</span>.</code></pre></div>
<hr>
<p>커밋 서명은 GPG를 사용한다.</p>
<p>GPG CLI는 Homebrew로 설치했다: <code class="language-text">brew install gpg</code></p>
<h3 id="gpg-키-생성-gpg---full-generate-key" style="position:relative;"><a href="#gpg-%ED%82%A4-%EC%83%9D%EC%84%B1-gpg---full-generate-key" aria-label="gpg 키 생성 gpg   full generate key permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GPG 키 생성: <code class="language-text">gpg --full-generate-key</code></h3>
<p><code class="language-text">--full-generate-key</code> 옵션은 키 pair를 생성한다.</p>
<p>키 생성 시 알고리즘 등 키 정보와 사용자 정보를 입력한다.<br>
<a href="https://docs.github.com/en/authentication/managing-commit-signature-verification/generating-a-new-gpg-key">GitHub의 GPG 키 생성 가이드</a>를 참고했다.</p>
<p>키 정보는 모두 Enter로 기본 값을 선택했다.</p>
<ul>
<li>알고리즘: RSA</li>
<li>키 사이즈: 3072</li>
<li>만료 기간: 0(무제한)</li>
</ul>
<p>사용자 정보는 이메일 주소만 입력했다. GitHub에 등록한 이메일 주소를 입력한다.
이메일을 감추고 싶다면 GitHub의 <code class="language-text">no-reply</code> 이메일을 사용하라고 한다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ gpg --full-gen-key
gpg <span class="token punctuation">(</span>GnuPG<span class="token punctuation">)</span> <span class="token number">2.2</span>.19<span class="token punctuation">;</span> Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2019</span> Free Software Foundation, Inc.
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

gpg: keybox <span class="token string">'/home/user/.gnupg/pubring.kbx'</span> created
Please <span class="token keyword">select</span> what kind of key you want:
   <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> RSA and RSA <span class="token punctuation">(</span>default<span class="token punctuation">)</span>
   <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> DSA and Elgamal
   <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> DSA <span class="token punctuation">(</span>sign only<span class="token punctuation">)</span>
   <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> RSA <span class="token punctuation">(</span>sign only<span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span> Existing key from card
Your selection?
RSA keys may be between <span class="token number">1024</span> and <span class="token number">4096</span> bits long.
What keysize <span class="token keyword">do</span> you want? <span class="token punctuation">(</span><span class="token number">3072</span><span class="token punctuation">)</span>
Requested keysize is <span class="token number">3072</span> bits
Please specify how long the key should be valid.
         <span class="token number">0</span> <span class="token operator">=</span> key does not expire
      <span class="token operator">&lt;</span>n<span class="token operator">></span>  <span class="token operator">=</span> key expires <span class="token keyword">in</span> n days
      <span class="token operator">&lt;</span>n<span class="token operator">></span>w <span class="token operator">=</span> key expires <span class="token keyword">in</span> n weeks
      <span class="token operator">&lt;</span>n<span class="token operator">></span>m <span class="token operator">=</span> key expires <span class="token keyword">in</span> n months
      <span class="token operator">&lt;</span>n<span class="token operator">></span>y <span class="token operator">=</span> key expires <span class="token keyword">in</span> n years
Key is valid for? <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
Key does not expire at all
Is this correct? <span class="token punctuation">(</span>y/N<span class="token punctuation">)</span> y

GnuPG needs to construct a user ID to identify your key.

Real name:
Email address: *******@gmail.com
Comment:
You selected this <span class="token environment constant">USER</span>-ID:
    <span class="token string">"*******@gmail.com"</span>

Change <span class="token punctuation">(</span>N<span class="token punctuation">)</span>ame, <span class="token punctuation">(</span>C<span class="token punctuation">)</span>omment, <span class="token punctuation">(</span>E<span class="token punctuation">)</span>mail or <span class="token punctuation">(</span>O<span class="token punctuation">)</span>kay/<span class="token punctuation">(</span>Q<span class="token punctuation">)</span>uit? O
We need to generate a lot of random bytes. It is a good idea to perform
some other action <span class="token punctuation">(</span>type on the keyboard, move the mouse, utilize the
disks<span class="token punctuation">)</span> during the prime generation<span class="token punctuation">;</span> this gives the random number
generator a better chance to gain enough entropy.
We need to generate a lot of random bytes. It is a good idea to perform
some other action <span class="token punctuation">(</span>type on the keyboard, move the mouse, utilize the
disks<span class="token punctuation">)</span> during the prime generation<span class="token punctuation">;</span> this gives the random number
generator a better chance to gain enough entropy.
gpg: /home/user/.gnupg/trustdb.gpg: trustdb created
gpg: key 7754F8835F1D4F23 marked as ultimately trusted
gpg: directory <span class="token string">'/home/user/.gnupg/openpgp-revocs.d'</span> created
gpg: revocation certificate stored as <span class="token string">'/home/user/.gnupg/openpgp-revocs.d/EC2773EB41F9362E83E76B177754F8835F1D4F23.rev'</span>
public and secret key created and signed.

pub   rsa3072 <span class="token number">2024</span>-03-11 <span class="token punctuation">[</span>SC<span class="token punctuation">]</span>
      EC2773EB41F9362E83E76B177754F8835F1D4F23
uid                      *******@gmail.com
sub   rsa3072 <span class="token number">2024</span>-03-11 <span class="token punctuation">[</span>E<span class="token punctuation">]</span></code></pre></div>
<h3 id="gpg-키-확인-gpg---list-secret-keys---keyid-formatlong" style="position:relative;"><a href="#gpg-%ED%82%A4-%ED%99%95%EC%9D%B8-gpg---list-secret-keys---keyid-formatlong" aria-label="gpg 키 확인 gpg   list secret keys   keyid formatlong permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GPG 키 확인: <code class="language-text">gpg --list-secret-keys --keyid-format=long</code></h3>
<p><code class="language-text">--list-secret-keys</code> 옵션은 생성된 키 목록을 출력하고<br>
<code class="language-text">--keyid-format=long</code> 옵션은 키 ID를 출력한다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ gpg --list-secret-keys --keyid-format<span class="token operator">=</span>long
/home/user/.gnupg/pubring.kbx
-------------------------------
sec   rsa3072/7754F8835F1D4F23 <span class="token number">2024</span>-03-11 <span class="token punctuation">[</span>SC<span class="token punctuation">]</span>
      EC2773EB41F9362E83E76B177754F8835F1D4F23
uid                 <span class="token punctuation">[</span>ultimate<span class="token punctuation">]</span> *******@gmail.com
ssb   rsa3072/9E8A974D370C5682 <span class="token number">2024</span>-03-11 <span class="token punctuation">[</span>E<span class="token punctuation">]</span></code></pre></div>
<p><code class="language-text">7754F8835F1D4F23</code>가 키 ID이다.</p>
<h3 id="gpg-키-export-gpg---armor---export-key-id" style="position:relative;"><a href="#gpg-%ED%82%A4-export-gpg---armor---export-key-id" aria-label="gpg 키 export gpg   armor   export key id permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GPG 키 export: <code class="language-text">gpg --armor --export &lt;key-id></code></h3>
<p><code class="language-text">--armor</code> 옵션은 공개 키 정보를 ASCII로 출력한다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ gpg <span class="token parameter variable">--armor</span> <span class="token parameter variable">--export</span> 7754F8835F1D4F23
-----BEGIN PGP PUBLIC KEY BLOCK-----

<span class="token punctuation">..</span>.
-----END PGP PUBLIC KEY BLOCK-----</code></pre></div>
<h3 id="gpg-키-github에-등록하기" style="position:relative;"><a href="#gpg-%ED%82%A4-github%EC%97%90-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0" aria-label="gpg 키 github에 등록하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GPG 키 GitHub에 등록하기</h3>
<p>GitHub의 <code class="language-text">Settings</code> > <code class="language-text">SSH and GPG keys</code> > <code class="language-text">New GPG key</code>에 공개키를 등록한다.</p>
<p><code class="language-text">-----BEGIN PGP PUBLIC KEY BLOCK-----</code>와 <code class="language-text">-----END PGP PUBLIC KEY BLOCK-----</code> 내용을 모두 복사해서 붙여넣는다.</p>
<h3 id="서명하기" style="position:relative;"><a href="#%EC%84%9C%EB%AA%85%ED%95%98%EA%B8%B0" aria-label="서명하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>서명하기</h3>
<p><code class="language-text">git commit</code> 명령어에 <code class="language-text">-S</code> 옵션을 추가한다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> commit <span class="token parameter variable">-S</span> <span class="token parameter variable">-m</span> <span class="token string">"commit message"</span></code></pre></div>
<p><code class="language-text">-S</code> 옵션 대신 git 설정 <code class="language-text">commit.gpgSign</code>을 <code class="language-text">true</code>로 설정하면 자동 서명된다.</p>
<p><code class="language-text">-S</code> 옵션은 key-id를 받지만, 생략하면 <code class="language-text">user.signingKey</code> 설정을 사용한다.
<code class="language-text">git config --global user.signingKey &lt;key-id></code>로 설정하자.</p>
<p>만약, 키가 없으면 다음과 같이 실패한다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> commit
error: gpg failed to sign the data:
gpg: skipped <span class="token string">"edunga1 &lt;*******@gmail.com>"</span><span class="token builtin class-name">:</span> No secret key
<span class="token punctuation">[</span>GNUPG:<span class="token punctuation">]</span> INV_SGNR <span class="token number">9</span> edunga1 <span class="token operator">&lt;</span>*******@gmail.com<span class="token operator">></span>
<span class="token punctuation">[</span>GNUPG:<span class="token punctuation">]</span> FAILURE sign <span class="token number">17</span>
gpg: signing failed: No secret key

fatal: failed to <span class="token function">write</span> commit object</code></pre></div>
<p>키가 있으면 passphrase 입력을 요구한다.</p></div><div class="Comments__Container-sc-1ajj4d9-0 gcJKrk"><hr/><div></div></div></div></div><div class="PageLayout__Side-sc-11jfopf-2 fxRRnF"><div class="RelatedLinks__Container-sc-1y1aimd-0 ldECpH Wiki__RelatedLinksSide-sc-16q9onf-6 lbNyJW"><h3 class="RelatedLinks__Header-sc-1y1aimd-1 fTEgtV">Related</h3><ul class="RelatedLinks__Links-sc-1y1aimd-2 dUWUVd"><li><a href="../database" class="Link__A-sc-k1di17-0 bUjFDA">Database</a></li><li><a href="../cat-logic" class="Link__A-sc-k1di17-0 bUjFDA">The Cat Logic</a></li><li><a href="../architecture" class="Link__A-sc-k1di17-0 bUjFDA">Architecture</a></li><li><a href="../philosophy" class="Link__A-sc-k1di17-0 bUjFDA">개인적인 철학</a></li><li><a href="../github" class="Link__A-sc-k1di17-0 bUjFDA">GitHub</a></li></ul></div><div class="Toc__Container-sc-1f76i2s-0 jvNoeo Wiki__TocSide-sc-16q9onf-5 chvTXK"><ul>
<li>
<p><a href="#git">Git</a></p>
<ul>
<li>
<p><a href="#%EA%B9%83-%EC%BB%A4%EB%B0%8B-%ED%95%B4%EC%8B%9C-%EC%B6%A9%EB%8F%8C%EC%97%90-%EA%B4%80%ED%95%98%EC%97%AC">깃 커밋 해시 충돌에 관하여</a></p>
<ul>
<li>
<ul>
<li><a href="#%EB%A6%AC%EB%88%84%EC%8A%A4-%ED%86%A0%EB%B0%9C%EC%A6%88%EC%9D%98-%EC%9D%98%EA%B2%AC">리누스 토발즈의 의견</a></li>
<li><a href="#%ED%95%B4%EC%8B%9C-%EC%B6%A9%EB%8F%8C%EC%9D%84-%EC%9E%AC%ED%98%84%ED%95%9C-so-%EA%B8%80">해시 충돌을 재현한 SO 글</a></li>
<li><a href="#%EC%BB%A4%EB%B0%8B-%ED%95%B4%EC%8B%9C%EB%A5%BC-%EA%B2%B0%EC%A0%95%ED%95%98%EB%8A%94-%EC%9A%94%EC%86%8C">커밋 해시를 결정하는 요소</a></li>
<li><a href="#%ED%95%B4%EC%8B%9C-%EC%B4%9D%EB%8F%8C-%EC%9C%A0%EB%A8%B8">해시 총돌 유머</a></li>
<li><a href="#sha1-%EC%B8%B5%EB%8F%8C-%EC%84%A4%EB%AA%85">sha1 층돌 설명</a></li>
<li><a href="#md5-%EC%B6%A9%EB%8F%8C-%EC%98%88%EC%A0%9C">md5 충돌 예제</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#configurations">Configurations</a></p>
<ul>
<li><a href="#conflict-style">Conflict Style</a></li>
<li><a href="#commit">Commit</a></li>
</ul>
</li>
<li>
<p><a href="#git-clone">git clone</a></p>
<ul>
<li><a href="#--depth">--depth</a></li>
</ul>
</li>
<li>
<p><a href="#git-rebase--i">git rebase -i</a></p>
</li>
<li>
<p><a href="#git-revert--m">git revert -m</a></p>
</li>
<li>
<p><a href="#git-log">git log</a></p>
<ul>
<li>
<p><a href="#git-log---graph">git log --graph</a></p>
<ul>
<li><a href="#--date-order-%EB%A1%9C-%ED%94%BC%EB%9D%BC%EB%AF%B8%EB%93%9C-%EA%B7%B8%EB%9E%98%ED%94%84-%EB%B0%A9%EC%A7%80%ED%95%98%EA%B8%B0">--date-order 로 피라미드 그래프 방지하기</a></li>
<li><a href="#%EC%98%B5%EC%85%98-%EC%84%A4%EB%AA%85">옵션 설명</a></li>
</ul>
</li>
<li>
<p><a href="#--date-order-%EC%99%80---author-date-order-%EB%B9%84%EA%B5%90">--date-order 와 <code class="language-text">--author-date-order</code> 비교</a></p>
</li>
<li>
<p><a href="#--follow">--follow</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#git-worktree"><code class="language-text">git worktree</code></a></p>
</li>
<li>
<p><a href="#git-bisect">git-bisect</a></p>
</li>
<li>
<p><a href="#git-reset">git-reset</a></p>
</li>
<li>
<p><a href="#git-shortlog">git-shortlog</a></p>
</li>
<li>
<p><a href="#git-checkout">git checkout</a></p>
</li>
<li>
<p><a href="#git-large-file-storagelfs">Git Large File Storage(LFS)</a></p>
<ul>
<li><a href="#%EC%82%AC%EC%9A%A9%EB%B2%95">사용법</a></li>
</ul>
</li>
<li>
<p><a href="#%EC%BB%A4%EB%B0%8B-%EC%84%9C%EB%AA%85%ED%95%98%EA%B8%B0">커밋 서명하기</a></p>
<ul>
<li><a href="#gpg-%ED%82%A4-%EC%83%9D%EC%84%B1-gpg---full-generate-key">GPG 키 생성: <code class="language-text">gpg --full-generate-key</code></a></li>
<li><a href="#gpg-%ED%82%A4-%ED%99%95%EC%9D%B8-gpg---list-secret-keys---keyid-formatlong">GPG 키 확인: <code class="language-text">gpg --list-secret-keys --keyid-format=long</code></a></li>
<li><a href="#gpg-%ED%82%A4-export-gpg---armor---export-key-id">GPG 키 export: <code class="language-text">gpg --armor --export &lt;key-id></code></a></li>
<li><a href="#gpg-%ED%82%A4-github%EC%97%90-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0">GPG 키 GitHub에 등록하기</a></li>
<li><a href="#%EC%84%9C%EB%AA%85%ED%95%98%EA%B8%B0">서명하기</a></li>
</ul>
</li>
</ul>
</li>
</ul></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-1L3R7GGF7P"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-1L3R7GGF7P',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-1L3R7GGF7P', {"anonymize_ip":true,"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/wiki/git/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-5e092cecc44c70fd5758.js\"],\"component---src-components-gatsby-templates-wiki-tsx\":[\"/component---src-components-gatsby-templates-wiki-tsx-92ad41ee4194f9b8aca8.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-10d51ee2f28b984f9269.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-822a945cf978950c36fd.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="7b474f11042a87eee075";</script><script src="/cat-logic/webpack-runtime-0ef0179df69cb8ebf21e.js" async></script><script src="/cat-logic/framework-4bfcb0a3c03c938f10bc.js" async></script><script src="/cat-logic/app-5e092cecc44c70fd5758.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>