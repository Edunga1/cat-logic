<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.10.0"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style data-styled="" data-styled-version="5.3.6">.eXfjpt{box-sizing:border-box;background-color:#f5f5f5;padding:1rem 1rem 1rem 0;}/*!sc*/
.eXfjpt ul{list-style:none;padding-left:1rem;margin:0;font-size:.8rem;}/*!sc*/
.eXfjpt ul p{margin:0;}/*!sc*/
.eXfjpt a{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g1[id="Toc__Container-sc-1f76i2s-0"]{content:"eXfjpt,"}/*!sc*/
.hbqlrx{overflow:auto;}/*!sc*/
.hbqlrx a{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.hbqlrx code:not(pre code){background-color:#f5f5f5;border-radius:.5rem;padding:.2rem .4rem;}/*!sc*/
.hbqlrx pre:has(code){font-size:85%;background-color:#f5f5f5;border-radius:.5rem;padding:1rem;overflow:auto;}/*!sc*/
.hbqlrx img{max-width:100%;}/*!sc*/
data-styled.g2[id="WikiContent__Container-sc-q3jb6a-0"]{content:"hbqlrx,"}/*!sc*/
.efeuka{padding-top:20rem;}/*!sc*/
data-styled.g3[id="Comments__Container-sc-1ajj4d9-0"]{content:"efeuka,"}/*!sc*/
.uLsfv{display:grid;grid-template-columns:1fr;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;}/*!sc*/
@media (min-width:700px){.uLsfv{grid-template-columns:minmax(300px,1fr) minmax(400px,1000px);}}/*!sc*/
data-styled.g4[id="Wiki__Container-sc-16q9onf-0"]{content:"uLsfv,"}/*!sc*/
.crmilA{display:none;}/*!sc*/
.crmilA > div:nth-child(2){padding-top:1rem;}/*!sc*/
@media (min-width:700px){.crmilA{display:block;}}/*!sc*/
data-styled.g5[id="Wiki__Side-sc-16q9onf-1"]{content:"crmilA,"}/*!sc*/
.eTgCJx{padding:0 1rem;overflow:auto;}/*!sc*/
@media (min-width:700px){.eTgCJx > div:nth-child(2){display:none;}}/*!sc*/
data-styled.g6[id="Wiki__Main-sc-16q9onf-2"]{content:"eTgCJx,"}/*!sc*/
</style></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Wiki__Container-sc-16q9onf-0 uLsfv"><div class="Wiki__Side-sc-16q9onf-1 crmilA"><div class="Toc__Container-sc-1f76i2s-0 eXfjpt"><ul>
<li>
<p><a href="#shell-%EB%AA%85%EB%A0%B9%EC%96%B4">Shell 명령어</a></p>
<ul>
<li>
<p><a href="#man---%EB%AA%85%EB%A0%B9%EC%96%B4-%EB%A7%A4%EB%89%B4%EC%96%BC"><code>man</code> - 명령어 매뉴얼</a></p>
<ul>
<li><a href="#command1%EC%97%90%EC%84%9C-%EC%88%AB%EC%9E%90%EC%9D%98-%EC%9D%98%EB%AF%B8"><code>COMMAND(1)</code>에서 숫자의 의미?</a></li>
</ul>
</li>
<li>
<p><a href="#set--ex"><code>set -ex</code></a></p>
</li>
<li>
<p><a href="#sed---%ED%8C%8C%EC%9D%BC-%ED%8A%B9%EC%A0%95-%EB%9D%BC%EC%9D%B8%EB%A7%8C-%EC%9D%BD%EA%B8%B0"><code>sed</code> - 파일 특정 라인만 읽기</a></p>
</li>
<li>
<p><a href="#nohup---%EB%A9%88%EC%B6%94%EC%A7%80-%EC%95%8A%EA%B3%A0-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0"><code>nohup</code> - 멈추지 않고 명령어 실행하기</a></p>
<ul>
<li>
<p><a href="#stdout%EC%9D%80-nohupout%EC%97%90-%EC%A0%80%EC%9E%A5%EB%90%9C%EB%8B%A4">stdout은 <code>nohup.out</code>에 저장된다.</a></p>
</li>
<li>
<p><a href="#background-job%EC%9C%BC%EB%A1%9C-%EC%8B%A4%ED%96%89%ED%95%98%EC%9E%90">Background Job으로 실행하자.</a></p>
</li>
<li>
<p><a href="#nohup%EC%9C%BC%EB%A1%9C-%EC%8B%A4%ED%96%89%ED%95%9C-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EB%A5%BC-%EC%A2%85%EB%A3%8C%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95"><code>nohup</code>으로 실행한 프로세스를 종료하는 방법</a></p>
<ul>
<li><a href="#ps-aux%EB%A1%9C-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90"><code>ps aux</code>로 찾아보자</a></li>
<li><a href="#background%EB%A1%9C-%EB%9D%84%EC%9A%B4-%EA%B2%BD%EC%9A%B0-%EC%A2%80-%EB%8D%94-%EC%95%8C%EA%B8%B0-%EC%89%BD%EB%8B%A4">background로 띄운 경우 좀 더 알기 쉽다.</a></li>
<li><a href="#%EC%A2%80-%EB%8D%94-%EB%98%91%EB%98%91%ED%95%9C-%EB%B0%A9%EB%B2%95">좀 더 똑똑한 방법</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#bashrc-rc%EC%9D%98-%EC%9D%98%EB%AF%B8">.bash<strong>rc</strong> rc의 의미?</a></p>
</li>
<li>
<p><a href="#ping-%EB%AA%85%EB%A0%B9%EC%96%B4"><code>ping</code> 명령어</a></p>
</li>
<li>
<p><a href="#readlink">readlink</a></p>
</li>
<li>
<p><a href="#tools">Tools</a></p>
<ul>
<li>
<p><a href="#marker---the-terminal-command-palette">marker - the terminal command palette</a></p>
</li>
<li>
<p><a href="#tmux">Tmux</a></p>
</li>
<li>
<p><a href="#tmuxinator">Tmuxinator</a></p>
<ul>
<li><a href="#%EC%A7%80%EC%97%AD%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%A0-%EA%B2%BD%EC%9A%B0">지역적으로 사용할 경우</a></li>
<li><a href="#%EC%A0%84%EC%97%AD%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%A0-%EA%B2%BD%EC%9A%B0">전역적으로 사용할 경우</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#parameter-fallback-default-value">parameter fallback (default value)</a></p>
</li>
<li>
<p><a href="#time-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%8B%A4%ED%96%89%EC%8B%9C%EA%B0%84-%EC%B8%A1%EC%A0%95"><code>time</code> 명령어 실행시간 측정</a></p>
</li>
<li>
<p><a href="#fzf">FZF</a></p>
<ul>
<li>
<p><a href="#fzf--git">FZF + git</a></p>
<ul>
<li><a href="#%EB%B8%8C%EB%9E%9C%EC%B9%98-%EB%AA%A9%EB%A1%9D-%EB%B0%8F-%EC%9E%91%EC%97%85-%EB%82%B4%EC%9A%A9">브랜치 목록 및 작업 내용</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#curl"><code>curl</code></a></p>
<ul>
<li><a href="#%EC%9E%AC%EC%8B%9C%EB%8F%84---retry">재시도 <code>--retry</code></a></li>
<li><a href="#url">URL</a></li>
</ul>
</li>
<li>
<p><a href="#python-shell-tools">python shell tools</a></p>
<ul>
<li><a href="#python--m-jsontool%EC%9C%BC%EB%A1%9C-json-beautify"><code>python -m json.tool</code>으로 JSON beautify</a></li>
<li><a href="#python--m-httpserver%EB%A1%9C-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%9B%B9%EC%84%9C%EB%B2%84-%EC%8B%A4%ED%96%89"><code>python -m http.server</code>로 간단한 웹서버 실행</a></li>
</ul>
</li>
</ul>
</li>
</ul></div><span></span></div><div class="Wiki__Main-sc-16q9onf-2 eTgCJx"><h1>Shell 명령어</h1><div class="Toc__Container-sc-1f76i2s-0 eXfjpt"><ul>
<li>
<p><a href="#shell-%EB%AA%85%EB%A0%B9%EC%96%B4">Shell 명령어</a></p>
<ul>
<li>
<p><a href="#man---%EB%AA%85%EB%A0%B9%EC%96%B4-%EB%A7%A4%EB%89%B4%EC%96%BC"><code>man</code> - 명령어 매뉴얼</a></p>
<ul>
<li><a href="#command1%EC%97%90%EC%84%9C-%EC%88%AB%EC%9E%90%EC%9D%98-%EC%9D%98%EB%AF%B8"><code>COMMAND(1)</code>에서 숫자의 의미?</a></li>
</ul>
</li>
<li>
<p><a href="#set--ex"><code>set -ex</code></a></p>
</li>
<li>
<p><a href="#sed---%ED%8C%8C%EC%9D%BC-%ED%8A%B9%EC%A0%95-%EB%9D%BC%EC%9D%B8%EB%A7%8C-%EC%9D%BD%EA%B8%B0"><code>sed</code> - 파일 특정 라인만 읽기</a></p>
</li>
<li>
<p><a href="#nohup---%EB%A9%88%EC%B6%94%EC%A7%80-%EC%95%8A%EA%B3%A0-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0"><code>nohup</code> - 멈추지 않고 명령어 실행하기</a></p>
<ul>
<li>
<p><a href="#stdout%EC%9D%80-nohupout%EC%97%90-%EC%A0%80%EC%9E%A5%EB%90%9C%EB%8B%A4">stdout은 <code>nohup.out</code>에 저장된다.</a></p>
</li>
<li>
<p><a href="#background-job%EC%9C%BC%EB%A1%9C-%EC%8B%A4%ED%96%89%ED%95%98%EC%9E%90">Background Job으로 실행하자.</a></p>
</li>
<li>
<p><a href="#nohup%EC%9C%BC%EB%A1%9C-%EC%8B%A4%ED%96%89%ED%95%9C-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EB%A5%BC-%EC%A2%85%EB%A3%8C%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95"><code>nohup</code>으로 실행한 프로세스를 종료하는 방법</a></p>
<ul>
<li><a href="#ps-aux%EB%A1%9C-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90"><code>ps aux</code>로 찾아보자</a></li>
<li><a href="#background%EB%A1%9C-%EB%9D%84%EC%9A%B4-%EA%B2%BD%EC%9A%B0-%EC%A2%80-%EB%8D%94-%EC%95%8C%EA%B8%B0-%EC%89%BD%EB%8B%A4">background로 띄운 경우 좀 더 알기 쉽다.</a></li>
<li><a href="#%EC%A2%80-%EB%8D%94-%EB%98%91%EB%98%91%ED%95%9C-%EB%B0%A9%EB%B2%95">좀 더 똑똑한 방법</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#bashrc-rc%EC%9D%98-%EC%9D%98%EB%AF%B8">.bash<strong>rc</strong> rc의 의미?</a></p>
</li>
<li>
<p><a href="#ping-%EB%AA%85%EB%A0%B9%EC%96%B4"><code>ping</code> 명령어</a></p>
</li>
<li>
<p><a href="#readlink">readlink</a></p>
</li>
<li>
<p><a href="#tools">Tools</a></p>
<ul>
<li>
<p><a href="#marker---the-terminal-command-palette">marker - the terminal command palette</a></p>
</li>
<li>
<p><a href="#tmux">Tmux</a></p>
</li>
<li>
<p><a href="#tmuxinator">Tmuxinator</a></p>
<ul>
<li><a href="#%EC%A7%80%EC%97%AD%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%A0-%EA%B2%BD%EC%9A%B0">지역적으로 사용할 경우</a></li>
<li><a href="#%EC%A0%84%EC%97%AD%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%A0-%EA%B2%BD%EC%9A%B0">전역적으로 사용할 경우</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#parameter-fallback-default-value">parameter fallback (default value)</a></p>
</li>
<li>
<p><a href="#time-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%8B%A4%ED%96%89%EC%8B%9C%EA%B0%84-%EC%B8%A1%EC%A0%95"><code>time</code> 명령어 실행시간 측정</a></p>
</li>
<li>
<p><a href="#fzf">FZF</a></p>
<ul>
<li>
<p><a href="#fzf--git">FZF + git</a></p>
<ul>
<li><a href="#%EB%B8%8C%EB%9E%9C%EC%B9%98-%EB%AA%A9%EB%A1%9D-%EB%B0%8F-%EC%9E%91%EC%97%85-%EB%82%B4%EC%9A%A9">브랜치 목록 및 작업 내용</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#curl"><code>curl</code></a></p>
<ul>
<li><a href="#%EC%9E%AC%EC%8B%9C%EB%8F%84---retry">재시도 <code>--retry</code></a></li>
<li><a href="#url">URL</a></li>
</ul>
</li>
<li>
<p><a href="#python-shell-tools">python shell tools</a></p>
<ul>
<li><a href="#python--m-jsontool%EC%9C%BC%EB%A1%9C-json-beautify"><code>python -m json.tool</code>으로 JSON beautify</a></li>
<li><a href="#python--m-httpserver%EB%A1%9C-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%9B%B9%EC%84%9C%EB%B2%84-%EC%8B%A4%ED%96%89"><code>python -m http.server</code>로 간단한 웹서버 실행</a></li>
</ul>
</li>
</ul>
</li>
</ul></div><div class="WikiContent__Container-sc-q3jb6a-0 hbqlrx">
<h2 id="man---명령어-매뉴얼" style="position:relative;"><a href="#man---%EB%AA%85%EB%A0%B9%EC%96%B4-%EB%A7%A4%EB%89%B4%EC%96%BC" aria-label="man   명령어 매뉴얼 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>man</code> - 명령어 매뉴얼</h2>
<p>어떤 명령이든 <code>man COMMAND</code>로 메뉴얼을 확인하자. 내장 명령어라면 대부분 제공한다.</p>
<p><a href="https://github.com/tldr-pages/tldr">tldr</a> 도구도 좋다.
브라우저로 검색할 필요 없이 <code>tldr COMMAND</code>로 간단한 사용 예제도 볼 수 있다.</p>
<p>Bash에 대한 내용도 <code>man bash</code>로 알 수 있다. <code>if [ -e file ]</code>에서 <code>-e</code>를 모르겠다면 메뉴얼에서 확인할 수 있다.</p>
<h3 id="command1에서-숫자의-의미" style="position:relative;"><a href="#command1%EC%97%90%EC%84%9C-%EC%88%AB%EC%9E%90%EC%9D%98-%EC%9D%98%EB%AF%B8" aria-label="command1에서 숫자의 의미 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>COMMAND(1)</code>에서 숫자의 의미?</h3>
<p><code>man ls</code>의 경우에는 다음과 같이 명령어와 괄호안에 숫자가 함께 표기된다:</p>
<pre><code class="language-bash">$ man ls
LS(1)           General Commands Manual           LS(1)

NAME
     ls – list directory contents
</code></pre>
<p>이는 section을 의미한다. 이에 대한 정보는 <code>man</code> 명령어의 메뉴얼에서 확인할 수 있다!</p>
<pre><code class="language-bash">$ man man

The man utility finds and displays online manual documentation pages.  If mansect is provided, man restricts the search to the specific section of the manual.

The sections of the manual are:
     1.   General Commands Manual
     2.   System Calls Manual
     3.   Library Functions Manual
     4.   Kernel Interfaces Manual
     5.   File Formats Manual
     6.   Games Manual
     7.   Miscellaneous Information Manual
     8.   System Manager's Manual
     9.   Kernel Developer's Manual
</code></pre>
<p>즉, <code>LS(1)</code>는 일반 명령어 메뉴얼을 의미한다.</p>
<p><code>intro</code>는 각종 명령어와 도구, shell 등에 대한 소개(introduction)를 담당하고 여러 섹션의 메뉴얼이 있는데,
<code>man 1 intro</code>, <code>man 3 intro</code>, <code>man 9 intro</code> 등으로 각 section을 확인할 수 있다.</p>
<h2 id="set--ex" style="position:relative;"><a href="#set--ex" aria-label="set  ex permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>set -ex</code></h2>
<p>도커파일이나 스크립트를 보면 <code>set -ex</code> 구문이 많이 보인다.</p>
<ul>
<li><code>-e</code>: 각 라인의 명령어가 실행될 때 리턴값이 실패를 의미하면 종료한다.</li>
<li><code>-x</code>: 실행하는 명령어를 출력한다.</li>
</ul>
<p>디버깅용으로 유용하다 함.</p>
<h2 id="sed---파일-특정-라인만-읽기" style="position:relative;"><a href="#sed---%ED%8C%8C%EC%9D%BC-%ED%8A%B9%EC%A0%95-%EB%9D%BC%EC%9D%B8%EB%A7%8C-%EC%9D%BD%EA%B8%B0" aria-label="sed   파일 특정 라인만 읽기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>sed</code> - 파일 특정 라인만 읽기</h2>
<p><a href="https://unix.stackexchange.com/questions/288521/with-the-linux-cat-command-how-do-i-show-only-certain-lines-by-number">https://unix.stackexchange.com/questions/288521/with-the-linux-cat-command-how-do-i-show-only-certain-lines-by-number</a></p>
<p><code>cat</code>은 전체라인만 읽지만 <code>sed -n -e 1,3p -e 10p</code>은 1~3, 10 라인 읽을 수 있다.</p>
<p>sed, grep, awk 를 이용한 특정 라인 범위 내에서 특정 단어를 포함한 라인으로 좁히고 특정 형태로 출력하도록 조합할 수 있다:</p>
<pre><code class="language-bash">sed -n -e 1,5446p data.txt | grep false | awk '{print $1}'
</code></pre>
<p>보통 <code>sed</code>는 파일 내용을 수정하고 백업을 만드는데 사용했는데..</p>
<p><code>-n</code>: 입력된 행을 표준 출력으로 보낸다.<br>
<code>-e</code>: 여러개의 범위를 지정하려면 <code>-e</code>로 구분한다. <code>sed -n 1,3p data.txt</code> 이렇게 하나의 범위라면 <code>-e</code>는 생략해도 된다.</p>
<h2 id="nohup---멈추지-않고-명령어-실행하기" style="position:relative;"><a href="#nohup---%EB%A9%88%EC%B6%94%EC%A7%80-%EC%95%8A%EA%B3%A0-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0" aria-label="nohup   멈추지 않고 명령어 실행하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>nohup</code> - 멈추지 않고 명령어 실행하기</h2>
<p><code>nohup</code>은 no hangup의 줄임말. 터미널을 종료해도 중지 시그널을 무시하고 진행한다.</p>
<hr>
<p><code>nohup</code> 명령어로 스크립트를 실행하면,
세션이 끊어져도 스크립트가 진행된다는 것만 알았지,
실제로 사용해 본적이 없어서 간단한 예제로 정리.</p>
<p>사용하기 전에 가졌던 의문 3가지</p>
<ol>
<li>로그를 실시간으로 확인할 수 있는가?</li>
<li>터미널을 꺼도 동작하고 있는가?</li>
<li><code>nohup</code>으로 실행한 프로세스를 어떻게 찾아서 끌 수 있는가?</li>
</ol>
<p>사용방법:</p>
<pre><code class="language-bash">$ nohup COMMAND
</code></pre>
<p><em>COMMAND</em> 에 환경변수를 전달하려면:</p>
<pre><code class="language-bash">$ FOO='foo' nohup COMMAND
</code></pre>
<h3 id="stdout은-nohupout에-저장된다" style="position:relative;"><a href="#stdout%EC%9D%80-nohupout%EC%97%90-%EC%A0%80%EC%9E%A5%EB%90%9C%EB%8B%A4" aria-label="stdout은 nohupout에 저장된다 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>stdout은 <code>nohup.out</code>에 저장된다.</h3>
<p>stdout은 <code>nohup.out</code>에 저장된다.
명령어가 실행중이라면 <code>tail -F nohup.out</code>으로 실시간으로 확인할 수 있다.</p>
<h3 id="background-job으로-실행하자" style="position:relative;"><a href="#background-job%EC%9C%BC%EB%A1%9C-%EC%8B%A4%ED%96%89%ED%95%98%EC%9E%90" aria-label="background job으로 실행하자 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Background Job으로 실행하자.</h3>
<p>그냥 <code>&#x26;</code> 없이 실행하면 foregorund로 돈다. <code>nohup</code>만 사용한다고해서 background로 전환되지 않는다.
이 상태에서 <code>ctrl + c</code>로 빠져나오면 <strong>스크립트가 종료</strong>된다.</p>
<p><code>nohup COMMAND &#x26;</code>로 백그라운드 잡으로 실행하자.</p>
<p>ref. <a href="https://www.cyberciti.biz/tips/nohup-execute-commands-after-you-exit-from-a-shell-prompt.html">https://www.cyberciti.biz/tips/nohup-execute-commands-after-you-exit-from-a-shell-prompt.html</a></p>
<h3 id="nohup으로-실행한-프로세스를-종료하는-방법" style="position:relative;"><a href="#nohup%EC%9C%BC%EB%A1%9C-%EC%8B%A4%ED%96%89%ED%95%9C-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EB%A5%BC-%EC%A2%85%EB%A3%8C%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95" aria-label="nohup으로 실행한 프로세스를 종료하는 방법 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>nohup</code>으로 실행한 프로세스를 종료하는 방법</h3>
<h4 id="ps-aux로-찾아보자" style="position:relative;"><a href="#ps-aux%EB%A1%9C-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90" aria-label="ps aux로 찾아보자 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>ps aux</code>로 찾아보자</h4>
<p><em>X.</em> <code>ps aux | grep nohup</code> 결과는 없다.</p>
<p><em>O.</em> <code>ps aux | grep COMMAND</code> 결과는 있다!</p>
<p>예를 들어 <code>nohup ./tick.sh</code>로 실행한 경우 <code>ps aux | grep tick</code> 검색하면:</p>
<pre><code class="language-bash">bash alleb 33723 0.0 0.0 4283996 1252 ?? S 11:16AM 0:00.29 /bin/bash ./tick.sh
</code></pre>
<p>PID를 알 수 있으므로 <code>kill -9 33723</code>으로 종료할 수 있다.</p>
<h4 id="background로-띄운-경우-좀-더-알기-쉽다" style="position:relative;"><a href="#background%EB%A1%9C-%EB%9D%84%EC%9A%B4-%EA%B2%BD%EC%9A%B0-%EC%A2%80-%EB%8D%94-%EC%95%8C%EA%B8%B0-%EC%89%BD%EB%8B%A4" aria-label="background로 띄운 경우 좀 더 알기 쉽다 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>background로 띄운 경우 좀 더 알기 쉽다.</h4>
<pre><code class="language-bash">~/workspace/nohup-test
❯ nohup ./tick.sh &#x26;
[1] 10809
appending output to nohup.out

~/workspace/nohup-test
❯ kill -9 10809
[1]  + 10809 killed     nohup ./tick.sh
</code></pre>
<p>Background Job으로 실행하면 PID가 바로 출력되어 알 수 있다.</p>
<h4 id="좀-더-똑똑한-방법" style="position:relative;"><a href="#%EC%A2%80-%EB%8D%94-%EB%98%91%EB%98%91%ED%95%9C-%EB%B0%A9%EB%B2%95" aria-label="좀 더 똑똑한 방법 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>좀 더 똑똑한 방법</h4>
<p>백그라운드로 전환 시 출력되는 PID를 파일로 저장하자.</p>
<pre><code class="language-bash">nohup my_command > my.log 2>&#x26;1 &#x26;
echo $! > save_pid.txt
</code></pre>
<p><code>$!</code>은 background로 돌린 PID를 저장하고 있다.<br>
터미널이 종료되어 PID를 찾을 수 없어도 파일로 남아있으니 안심이다.</p>
<p>파일의 PID를 읽어들여 종료할 수 있다:</p>
<pre><code class="language-bash">kill -9 `cat save_pid.txt`
</code></pre>
<p>ref. <a href="https://stackoverflow.com/questions/17385794/how-to-get-the-process-id-to-kill-a-nohup-process/17389526">https://stackoverflow.com/questions/17385794/how-to-get-the-process-id-to-kill-a-nohup-process/17389526</a></p>
<h2 id="bashrc-rc의-의미" style="position:relative;"><a href="#bashrc-rc%EC%9D%98-%EC%9D%98%EB%AF%B8" aria-label="bashrc rc의 의미 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.bash<strong>rc</strong> rc의 의미?</h2>
<p>Run Commands.</p>
<p><a href="https://superuser.com/questions/173165/what-does-the-rc-in-bashrc-etc-mean">https://superuser.com/questions/173165/what-does-the-rc-in-bashrc-etc-mean</a><br>
<a href="https://en.wikipedia.org/wiki/RUNCOM">https://en.wikipedia.org/wiki/RUNCOM</a></p>
<p><code>.bashrc</code>, <code>.npmrc</code> 등 자주 보여서 찾아봤다.</p>
<h2 id="ping-명령어" style="position:relative;"><a href="#ping-%EB%AA%85%EB%A0%B9%EC%96%B4" aria-label="ping 명령어 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>ping</code> 명령어</h2>
<pre><code class="language-bash">ping 123.123.123.123
ping www.google.com
</code></pre>
<p>네트워크 진단 도구. <a href="../network">포트 번호를 받지 않는다. ICMP 메시지를 이용한다.</a></p>
<p>호스트 전송 실패 예시:</p>
<pre><code class="language-bash">❯ ping 123.123.123.123
PING 123.123.123.123 (123.123.123.123): 56 data bytes
Request timeout for icmp_seq 0
Request timeout for icmp_seq 1
Request timeout for icmp_seq 2
Request timeout for icmp_seq 3
</code></pre>
<p>호스트 응답 성공 예시:</p>
<pre><code class="language-bash">❯ ping www.google.com
PING www.google.com (142.250.199.100): 56 data bytes
64 bytes from 142.250.199.100: icmp_seq=0 ttl=112 time=61.641 ms
64 bytes from 142.250.199.100: icmp_seq=1 ttl=112 time=68.523 ms
64 bytes from 142.250.199.100: icmp_seq=2 ttl=112 time=70.667 ms
64 bytes from 142.250.199.100: icmp_seq=3 ttl=112 time=67.562 ms
</code></pre>
<h2 id="readlink" style="position:relative;"><a href="#readlink" aria-label="readlink permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>readlink</h2>
<pre><code class="language-bash">$ readlink -f `which node`
/home/linuxbrew/.linuxbrew/Cellar/node/19.9.0/bin/node
</code></pre>
<p>심볼릭 링크를 따라가서 실제 경로를 알 수 있다.</p>
<h2 id="tools" style="position:relative;"><a href="#tools" aria-label="tools permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tools</h2>
<h3 id="marker---the-terminal-command-palette" style="position:relative;"><a href="#marker---the-terminal-command-palette" aria-label="marker   the terminal command palette permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>marker - the terminal command palette</h3>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/cat-logic/static/62b45e1525d107fdf23ba52e0f75fd3d/0d1a4/cli-marker-sample.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 19.594594594594593%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA20lEQVR42lXM0W6CMACF4RaXGK/MMBlUEEoFHLZEEPXKLTPA+z/Sv9iYJbv48t+cHPE5DKSHA6osybUmSRKUUn99imNFFD1FXhxHKBV726167Xes1yHi+37ndrlwu16ZpolxHL15nnk8fnyHyxfWDlh7pKxqcl2RZYbdTpNlOWmakOd73sMPRF3X9Oczfd9TVRVt23I6nWiOlqKoMabA7EsKY9BaE24Uy1WEEEuEWCCE+O954Jyj6zp/Zq31x9Y6nGtpmoa2dRhTE25yFm9rhFwhpURK8aokCALfX8pMbS86i/WhAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="marker sample"
        title=""
        src="/cat-logic/static/62b45e1525d107fdf23ba52e0f75fd3d/fcda8/cli-marker-sample.png"
        srcset="/cat-logic/static/62b45e1525d107fdf23ba52e0f75fd3d/12f09/cli-marker-sample.png 148w,
/cat-logic/static/62b45e1525d107fdf23ba52e0f75fd3d/e4a3f/cli-marker-sample.png 295w,
/cat-logic/static/62b45e1525d107fdf23ba52e0f75fd3d/fcda8/cli-marker-sample.png 590w,
/cat-logic/static/62b45e1525d107fdf23ba52e0f75fd3d/efc66/cli-marker-sample.png 885w,
/cat-logic/static/62b45e1525d107fdf23ba52e0f75fd3d/0d1a4/cli-marker-sample.png 1036w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p><a href="https://github.com/pindexis/marker">https://github.com/pindexis/marker</a></p>
<p>CTRL + SPACE 입력하면 저장한 명령어나 히스토리를 선택할 수 있다.
자주 사용하지만 너무 긴 명령어를 기록하는데 사용한다.
자주 히스토리에서 찾아서 입력하는 명령을 등록해서 사용하면 유용하다.</p>
<ul>
<li><code>marker mark</code> - 명령어를 북마크한다.</li>
<li><code>marker remove</code> - 북마크를 삭제한다.</li>
</ul>
<h3 id="tmux" style="position:relative;"><a href="#tmux" aria-label="tmux permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tmux</h3>
<p><a href="https://github.com/tmux/tmux">https://github.com/tmux/tmux</a></p>
<p>Terminal Multiplexer.</p>
<p><strong>Preview:</strong></p>
<pre><code class="language-bash">~/workspace/cat-logic main*                                                                          19:13:40
❯ ls
README.md docs      sites

~/workspace/cat-logic main*                                                                          19:13:41
❯






 ❐ cat  ↑ 11d 1h 22m  1 editor  2 cli  3 serv>  ↑ ◼◼◼◼◼◼◼◼◼◼ 100% | 19:13 | 28 Aug  allebpark  ip-192-168-0-9
</code></pre>
<p>하나의 화면에서 여러개의 터미널을 제어할 수 있다.
터미널 앱을 종료하더라도 백그라운드로 실행된다.
언제든지 <code>tmux</code> 명령어로 tmux session에 연결할 수 있다.
이것은 사실상 tmux 세션 내에서 실행되는 모든 명령어가 백그라운드로 실행되는 것을 의미하기 때문에
오래 걸리는 프로세스를 실행하고, 앱이 종료되어도 프로세스는 유지되니 마음이 좀 놓인다.</p>
<ul>
<li><code>tmux</code>: 새 세션을 생성하거나 생성된 세션에 attach 한다.</li>
<li><code>tmux new -s [NAME]</code>: 새 세션을 생성한다.</li>
</ul>
<p>기본적으로 <code>C-b</code>키가 tmux shortcut의 시동키다.
나는 controll과 b 사이가 멀어서 <code>C-a</code>로 사용한다:</p>
<pre><code># ~/.tmux.conf.local
set -g prefix C-a
</code></pre>
<h3 id="tmuxinator" style="position:relative;"><a href="#tmuxinator" aria-label="tmuxinator permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tmuxinator</h3>
<p><a href="https://github.com/tmuxinator/tmuxinator">https://github.com/tmuxinator/tmuxinator</a></p>
<p>tmux session을 관리하는데 도움을 주는 도구.
파일로 tmux 설정을 저장하거나, 저장된 파일로 tmux 세션을 생성한다.</p>
<p>설정 파일을 <code>~/.config/tmuxinator/</code>에 저장하여 전역으로 사용하거나
프로젝트별로 <code>./.tmuxinator.yml</code>에 저장하여 사용할 수 있다.
개인 프로젝트는 코드베이스에 포함하는 것도 좋겠다.</p>
<h4 id="지역적으로-사용할-경우" style="position:relative;"><a href="#%EC%A7%80%EC%97%AD%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%A0-%EA%B2%BD%EC%9A%B0" aria-label="지역적으로 사용할 경우 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>지역적으로 사용할 경우</h4>
<pre><code class="language-yaml">project_name: my-project

windows:
  - editor: vi
  - cli:
  - server: npm run develop
</code></pre>
<pre><code class="language-bash">$ tmuxinator  # or tmuxinator start
</code></pre>
<p>start 시 설정 이름을 생략하면 <code>./.tmuxinator.yml</code>을 찾는다.</p>
<h4 id="전역적으로-사용할-경우" style="position:relative;"><a href="#%EC%A0%84%EC%97%AD%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%A0-%EA%B2%BD%EC%9A%B0" aria-label="전역적으로 사용할 경우 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>전역적으로 사용할 경우</h4>
<pre><code class="language-yaml">name: my-project
root: ~/workspace/my-project

windows:
  - editor: vi
  - cli:
  - server: npm run develop
</code></pre>
<pre><code class="language-bash">$ tmuxinator my-project  # or tmuxinator start my-project
</code></pre>
<p>start 시 설정 이름을 지정하면 <code>~/.config/tmuxinator/</code>에서 <code>name</code>을 찾는다.</p>
<h2 id="parameter-fallback-default-value" style="position:relative;"><a href="#parameter-fallback-default-value" aria-label="parameter fallback default value permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>parameter fallback (default value)</h2>
<pre><code>echo ${VARIABLE:-word}
</code></pre>
<p><code>$VARIABLE</code>이 null 또는 unset 상태면 <code>word</code>를 반환한다.</p>
<p>oh-my-zsh의 사용 예시:</p>
<pre><code class="language-bash">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
</code></pre>
<p><code>$ZSH_CUSTOM</code>이 없으면 <code>~/.oh-my-zsh/custom</code>을 사용한다는 의미.</p>
<p>ref. <a href="https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html">https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html</a></p>
<h2 id="time-명령어-실행시간-측정" style="position:relative;"><a href="#time-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%8B%A4%ED%96%89%EC%8B%9C%EA%B0%84-%EC%B8%A1%EC%A0%95" aria-label="time 명령어 실행시간 측정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>time</code> 명령어 실행시간 측정</h2>
<pre><code class="language-bash">$ /usr/bin/time git fetch
        2.28 real         0.03 user         0.02 sys
</code></pre>
<ul>
<li>real: 총 소요시간</li>
<li>user: user mode에서 소요된 CPU time</li>
<li>sys: kernal mode에서 소요된 CPU time</li>
</ul>
<p><code>-h</code> 옵션으로 익숙한 시간 단위로 표기할 수 있다.</p>
<pre><code class="language-bash">$ type -a time
time is a reserved word
time is /usr/bin/time
</code></pre>
<p><code>time</code>은 셸 예약어로 되어있는데, 실행파일은 <code>/usr/bin/time</code>에 있다.
예약어를 사용하면 <code>time g fetch</code>와 같이 alias를 사용할 수 있고, 직접 실행파일을 사용하면 alias를 사용할 수 없다.</p>
<p>ref. <a href="https://linuxize.com/post/linux-time-command/">https://linuxize.com/post/linux-time-command/</a></p>
<h2 id="fzf" style="position:relative;"><a href="#fzf" aria-label="fzf permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>FZF</h2>
<p><a href="https://github.com/junegunn/fzf">https://github.com/junegunn/fzf</a></p>
<p>A command-line fuzzy-finder. 검색 도구로 사용한다. 매우 추천하는 도구.
인터렉티브 UI를 잘 제공해서, 주 기능인 파일 검색외에도 리스트에 대한 UNIX 파이프라인 필터로 사용하기 유용하다.</p>
<p><img src="https://raw.githubusercontent.com/junegunn/i/master/fzf-preview.png" alt="fzf github preview"></p>
<p><strong>preview window scrolling</strong></p>
<p><code>--preview</code> 옵션을 사용하면 미리보기 윈도우를 사용할 수 있는데(이미지의 오른쪽 코드 영역), 여기서 스크롤할 수 있다.
<code>shift</code> + <code>up/down</code> 또는 마우스 휠로 할 수 있다.</p>
<p><strong>현재 디렉토리 내에서 파일 검색</strong></p>
<p><code>CTRL-T</code>를 누르면 파일 인터렉티브로 파일을 검색한다. 선택하면 파일 경로가 붙여 넣는다.
예를들어 <code>cat </code>까지 입력하고 <code>CTRL-T</code>로 파일을 찾아 선택하면 <code>cat /path/to/file</code> 경로가 완성된다.</p>
<p>fzf가 없으면 보통, tab 두 번 눌러서 모든 파일을 확인할텐데, <code>CTRL-T</code>를 사용하는 편이 더 편리하다.</p>
<h3 id="fzf--git" style="position:relative;"><a href="#fzf--git" aria-label="fzf  git permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>FZF + git</h3>
<h4 id="브랜치-목록-및-작업-내용" style="position:relative;"><a href="#%EB%B8%8C%EB%9E%9C%EC%B9%98-%EB%AA%A9%EB%A1%9D-%EB%B0%8F-%EC%9E%91%EC%97%85-%EB%82%B4%EC%9A%A9" aria-label="브랜치 목록 및 작업 내용 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>브랜치 목록 및 작업 내용</h4>
<pre><code class="language-bash">lsb = !git branch \
  | fzf --preview 'echo {} | cut -c3- | xargs git show --color=always' --height 90% \
  | cut -c3-
</code></pre>
<p><code>.gitconfig</code>에 <code>lsb</code>로 alias 등록하였다.</p>
<pre><code class="language-bash">~/dotfiles main 7s                                                         15:43:03
❯ g lsb
                     ╭─────────────────────────────────────────────────────────────╮
                     │ commit cb9064a2c2b8292df2b039366263e4261ed72161        1/20││
                     │ Author: edunga1 &#x3C;goonr21@gmail.com>                        ││
                     │ Date:   Thu Jun 15 14:30:47 2023 +0900                     ││
                     │                                                            ││
                     │     Remove pylint from python toolchain                    ││
                     │                                                            ││
                     │     ruff is preferred                                      ││
                     │                                                            ││
                     │ diff --git a/vim/lua/lsp/python.lua b/vim/lua/lsp/python.lu││
                     │ index eb8a1cc..1de0888 100644                              ││
                     │ --- a/vim/lua/lsp/python.lua                               ││
                     │ +++ b/vim/lua/lsp/python.lua                               ││
                     │ @@ -9,7 +9,6 @@ return function(ns, lspconfig)              │
    wip              │    ns.register(ns.builtins.formatting.autopep8)             │
> * main             │    ns.register(ns.builtins.formatting.isort)                │
  2/2 ────────────── │    ns.register(ns.builtins.formatting.ruff)                 │
>                    ╰─────────────────────────────────────────────────────────────╯
</code></pre>
<p>브랜치 목록 <code>git branch</code>와 함께 가장 위 커밋의 diff <code>git diff</code>를 보여준다.</p>
<h2 id="curl" style="position:relative;"><a href="#curl" aria-label="curl permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>curl</code></h2>
<p><a href="https://antonz.org/mastering-curl/">https://antonz.org/mastering-curl/</a></p>
<p>curl mastering 가이드. 옵션 설명과 함께 다양한 예제로 안내한다.</p>
<h3 id="재시도---retry" style="position:relative;"><a href="#%EC%9E%AC%EC%8B%9C%EB%8F%84---retry" aria-label="재시도   retry permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>재시도 <code>--retry</code></h3>
<p><code>--retry</code>는 특정 상태 코드에서만 재시도한다.
메뉴얼에 따르면 <code>408</code>, <code>429</code>, <code>500</code>, <code>502</code>, <code>503</code>, <code>504</code>가 모두이다:</p>
<pre><code class="language-bash">--retry &#x3C;num>
      If a transient error is returned when curl tries to perform a transfer, it will retry this number of times before giving up. Setting the number to 0 makes curl do no retries (which is the
      default). Transient error means either: a timeout, an FTP 4xx response code or an HTTP 408, 429, 500, 502, 503 or 504 response code.
</code></pre>
<p>일시적인 오류(transient error)가 반환되면 재시도 한다고 한다.
따라서 특정 상태 코드만 재시도 하는 거 같은데, 다른 상태코드는 서버에서 명시적으로 내려주었을 가능성이 있으니 재시도하지 않는 것이 옳아 보인다.
다만, python의 requests나 Spring WebFux의 WebClient의 retry 상태 코드는 공식 문서에서 확인하지 못했다.
만약 모든 상태에 대해서 재시도 한다면 옵션 사용에 고민이 필요해 보인다.</p>
<h3 id="url" style="position:relative;"><a href="#url" aria-label="url permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>URL</h3>
<p>URL에 <code>[]</code> 사용하면 순차적으로 요청을 보낼 수 있다:</p>
<pre><code class="language-bash">$ curl http://httpbin.org/anything/\[8-11\].txt
{
  "url": "http://httpbin.org/anything/8.txt"
}
{
  "url": "http://httpbin.org/anything/9.txt"
}
{
  "url": "http://httpbin.org/anything/10.txt"
}
{
  "url": "http://httpbin.org/anything/11.txt"
}
</code></pre>
<p><code>[]</code>는 alphanumeric series를 받으며, leading zero도 사용할 수 있다.</p>
<pre><code class="language-bash">$ curl http://httpbin.org/anything/\[008-011\].txt
{
  "url": "http://httpbin.org/anything/008.txt"
}
{
  "url": "http://httpbin.org/anything/009.txt"
}
{
  "url": "http://httpbin.org/anything/010.txt"
}
{
  "url": "http://httpbin.org/anything/011.txt"
}
</code></pre>
<p><code>httpbin.org</code>는 HTTP 테스트하기 위한 사이트이므로 위 예제 코드를 바로 돌려볼 수 있다.</p>
<h2 id="python-shell-tools" style="position:relative;"><a href="#python-shell-tools" aria-label="python shell tools permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>python shell tools</h2>
<p>몇몇 파이썬 모듈은 CLI로 제공한다.</p>
<h3 id="python--m-jsontool으로-json-beautify" style="position:relative;"><a href="#python--m-jsontool%EC%9C%BC%EB%A1%9C-json-beautify" aria-label="python  m jsontool으로 json beautify permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>python -m json.tool</code>으로 JSON beautify</h3>
<pre><code class="language-bash">$ echo '{"foo":"bar"}' | python -m json.tool
{
    "foo": "bar"
}
</code></pre>
<p>API 마이그레이션 중 응답 diff를 보기 위해서 formatting 일관성을 맞춘다거나,
위 예제처럼 whitespace를 제거해서 보기 어려운 형태를 바꾸는 등 용도로 유용하다.</p>
<hr>
<p>어떻게 stdout으로 출력하는 지 코드를 좀 살펴봤다.</p>
<pre><code class="language-python">import argparse

parser = argparse.ArgumentParser()
options = parser.parse_args()
outfile = options.outfile

with outfile:
  json.dump(obj, outfile, sort_keys=sort_keys, indent=4)
  outfile.write('\n')
</code></pre>
<p><code>json.dump</code> 또는 <code>json.load</code>가 받는 인자는 <a href="https://docs.python.org/3/glossary.html#term-file-like-object">File object</a>로 추상화되어 있다.
stdout 또한 File object로 쓰기 <code>write()</code> 할 수 있어서 함께 처리가능한 것 같다.</p>
<h3 id="python--m-httpserver로-간단한-웹서버-실행" style="position:relative;"><a href="#python--m-httpserver%EB%A1%9C-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%9B%B9%EC%84%9C%EB%B2%84-%EC%8B%A4%ED%96%89" aria-label="python  m httpserver로 간단한 웹서버 실행 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>python -m http.server</code>로 간단한 웹서버 실행</h3>
<pre><code class="language-bash">$ python -m http.server
$ python -m http.server 8080
</code></pre>
<p>현재 디렉토리를 호스팅한다. python 2에서는 <code>python -m SimpleHTTPServer</code>.</p></div><div class="Comments__Container-sc-1ajj4d9-0 efeuka"><hr/><div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/wiki/shell/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-9a2e78f4f9db4f617ee4.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-75813e24a00d9c44de9f.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-904e5bbca8441f75dd2b.js\"],\"component---src-pages-wiki-markdown-remark-fields-slug-tsx\":[\"/component---src-pages-wiki-markdown-remark-fields-slug-tsx-186225f1eb1bc0cc56ca.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="fc7b23d368ce75f9c42f";</script><script src="/cat-logic/webpack-runtime-4ced63bf1026c63846b6.js" async></script><script src="/cat-logic/framework-3d24f1df4806fe1cdcfc.js" async></script><script src="/cat-logic/app-9a2e78f4f9db4f617ee4.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>