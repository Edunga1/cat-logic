<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.6.0"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div><ul>
<li>
<p><a href="#unicode">Unicode</a></p>
</li>
<li>
<p><a href="#nfc-nfd">NFC, NFD</a></p>
<ul>
<li>
<p><a href="#%EC%A1%B0%ED%95%A9%ED%98%95-%ED%95%9C%EA%B8%80-%EC%99%84%EC%84%B1%ED%98%95-%ED%95%9C%EA%B8%80">조합형 한글, 완성형 한글</a></p>
<ul>
<li><a href="#nfd---nfc-%EB%B3%80%ED%99%98">NFD -> NFC 변환</a></li>
<li><a href="#reference">Reference</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#%EC%9D%BD%EC%96%B4%EB%B3%BC%EB%A7%8C%ED%95%9C-%EA%B2%83">읽어볼만한 것</a></p>
</li>
</ul></div><div><h1>Unicode</h1>
<h1>NFC, NFD</h1>
<p>Normalization Form <strong>C</strong>
Normalization Form <strong>D</strong></p>
<h2>조합형 한글, 완성형 한글</h2>
<ol>
<li></li>
</ol>
<pre><code class="language-text">그린빌 100 단지 아파트
</code></pre>
<ol start="2">
<li></li>
</ol>
<pre><code class="language-text">그린빌 100 단지 아파트
</code></pre>
<p>1, 2는 서로 다른 문자열이다. 같아 보인다면 프로그램이 그렇게 보이도록 출력한 것이다.</p>
<p><a href="javascript.md">Javascript</a> 기준으로 문자열 비교하면 실패한다:</p>
<pre><code class="language-javascript">'그린빌 100 단지 아파트' == '그린빌 100 단지 아파트'  // false
</code></pre>
<p>1은 NFD로, 조합하여 완성된 글자처럼 보여주고 있다. 2는 NFC로, 완성된 한글을 그대로 보여주고 있다.</p>
<p>Destructuring하면 자모 분리되어 표현된다:</p>
<pre><code class="language-javascript">// (25) ['ᄀ', 'ᅳ', 'ᄅ', 'ᅵ', 'ᆫ', 'ᄇ', 'ᅵ', 'ᆯ', ' ', '1', '0', '0', ' ', 'ᄃ', 'ᅡ', 'ᆫ', 'ᄌ', 'ᅵ', ' ', 'ᄋ', 'ᅡ', 'ᄑ', 'ᅡ', 'ᄐ', 'ᅳ']
[...'그린빌 100 단지 아파트']
</code></pre>
<p><strong>주의점</strong></p>
<ul>
<li>사용자 입력을 데이터베이스에 저장할 때 주의해야 한다. 위 비교 예시처럼 비교 불가하기 떄문에 NFD 그대로 저장하면 SQL 조건절에서 제대로 검색할 수 없다.</li>
<li>정규식에도 제대로 걸리지 않는다. 알려져있는 <code>/ㄱ-힣/</code>의 경우, NFD는 걸리지 않는다. white list로 정규식에 해당하는 문자열만 허용하면 의도치 않은 동작이 될 수도 있다.</li>
</ul>
<h3>NFD -> NFC 변환</h3>
<p>데이터베이스에 저장한다면 NFC 변환하는 것을 고려하자.
예를들어, 주소를 사용자에게 입력받아 택배사에 예약하는 시스템을 만든다면, 제대로 출력할 수 없을지도 모른다.</p>
<p>언어마다 내장된 라이브러리를 제공한다.</p>
<p><a href="python.md">Python</a>:</p>
<pre><code class="language-python">from unicodedata import normalize

normalize('NFC', u'그린빌')
</code></pre>
<p><a href="javascript.md">Javascript</a>:</p>
<pre><code class="language-javascript">'그린빌'.normalize('NFC')
</code></pre>
<p>NFC -> NFD도 가능하다:</p>
<pre><code class="language-javascript">'그린빌'.normalize('NFD')
</code></pre>
<h3>Reference</h3>
<ul>
<li><a href="https://ko.wikipedia.org/wiki/%EC%9C%A0%EB%8B%88%EC%BD%94%EB%93%9C_%EB%93%B1%EA%B0%80%EC%84%B1">https://ko.wikipedia.org/wiki/%EC%9C%A0%EB%8B%88%EC%BD%94%EB%93%9C_%EB%93%B1%EA%B0%80%EC%84%B1</a></li>
<li><a href="https://docs.python.org/3/library/unicodedata.html">https://docs.python.org/3/library/unicodedata.html</a></li>
</ul>
<h1>읽어볼만한 것</h1>
<p><a href="https://j.mearie.org/post/2334141016/emoji-on-unicode-6-0">유니코드 6.0의 이모지 사태</a></p></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/wiki/d40acf87-6b60-54f8-8a8b-9ca73caf0f15/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-81fc23a5f8ac4aaeaf7f.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-7bfef5ca48decc695459.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-6d43a8f7f51ecc1860ec.js\"],\"component---src-pages-wiki-markdown-remark-id-tsx\":[\"/component---src-pages-wiki-markdown-remark-id-tsx-b2b1547370b411798096.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="82f7bb400a9c12ba81db";</script><script src="/webpack-runtime-bb36b49e6b0a9e88dd23.js" async></script><script src="/framework-9b6d338de49a676a1843.js" async></script><script src="/app-81fc23a5f8ac4aaeaf7f.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>