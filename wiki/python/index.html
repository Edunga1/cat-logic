<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.10.0"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style data-styled="" data-styled-version="5.3.6">.eXfjpt{box-sizing:border-box;background-color:#f5f5f5;padding:1rem 1rem 1rem 0;}/*!sc*/
.eXfjpt ul{list-style:none;padding-left:1rem;margin:0;font-size:.8rem;}/*!sc*/
.eXfjpt ul p{margin:0;}/*!sc*/
.eXfjpt a{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g1[id="Toc__Container-sc-1f76i2s-0"]{content:"eXfjpt,"}/*!sc*/
.bggmYT{overflow:auto;}/*!sc*/
.bggmYT a{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.bggmYT code:not(pre code){background-color:#f5f5f5;border-radius:.5rem;padding:.2rem .4rem;}/*!sc*/
.bggmYT pre:has(code){font-size:85%;background-color:#f5f5f5;border-radius:.5rem;padding:1rem;overflow:auto;}/*!sc*/
.bggmYT img{max-width:100%;}/*!sc*/
.bggmYT blockquote{border-left:4px solid #ddd;padding-left:1rem;margin-left:0;font-style:italic;}/*!sc*/
data-styled.g2[id="WikiContent__Container-sc-q3jb6a-0"]{content:"bggmYT,"}/*!sc*/
.ljvyEH{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.ljvyEH:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
data-styled.g3[id="Link__A-sc-e7w5ww-0"]{content:"ljvyEH,"}/*!sc*/
.efeuka{padding-top:20rem;}/*!sc*/
data-styled.g4[id="Comments__Container-sc-1ajj4d9-0"]{content:"efeuka,"}/*!sc*/
.uLsfv{display:grid;grid-template-columns:1fr;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;}/*!sc*/
@media (min-width:700px){.uLsfv{grid-template-columns:minmax(300px,1fr) minmax(400px,1000px);}}/*!sc*/
data-styled.g5[id="Wiki__Container-sc-16q9onf-0"]{content:"uLsfv,"}/*!sc*/
.crmilA{display:none;}/*!sc*/
.crmilA > div:nth-child(2){padding-top:1rem;}/*!sc*/
@media (min-width:700px){.crmilA{display:block;}}/*!sc*/
data-styled.g6[id="Wiki__Side-sc-16q9onf-1"]{content:"crmilA,"}/*!sc*/
.eTgCJx{padding:0 1rem;overflow:auto;}/*!sc*/
@media (min-width:700px){.eTgCJx > div:nth-child(2){display:none;}}/*!sc*/
data-styled.g7[id="Wiki__Main-sc-16q9onf-2"]{content:"eTgCJx,"}/*!sc*/
</style><link rel="sitemap" type="application/xml" href="/cat-logic/sitemap-index.xml"/><title data-gatsby-head="true">Cat Logic - Python</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Wiki__Container-sc-16q9onf-0 uLsfv"><div class="Wiki__Side-sc-16q9onf-1 crmilA"><div class="Toc__Container-sc-1f76i2s-0 eXfjpt"><ul>
<li>
<p><a href="#python">Python</a></p>
<ul>
<li>
<p><a href="#%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1">ê°œë°œí™˜ê²½ êµ¬ì„±</a></p>
</li>
<li>
<p><a href="#%EA%B0%9C%EB%B0%9C%EB%8F%84%EA%B5%AC">ê°œë°œë„êµ¬</a></p>
<ul>
<li>
<p><a href="#pyright">pyright</a></p>
<ul>
<li><a href="#pyright-%EC%84%A4%EC%B9%98">pyright ì„¤ì¹˜</a></li>
</ul>
</li>
<li>
<p><a href="#pylint">pylint</a></p>
</li>
<li>
<p><a href="#mypy">mypy</a></p>
<ul>
<li><a href="#django-stubs">Django Stubs</a></li>
</ul>
</li>
<li>
<p><a href="#ruff">Ruff</a></p>
</li>
<li>
<p><a href="#python-code-formatter-autopep8-vs-black-vs-yapf">python code formatter: autopep8 vs black vs yapf</a></p>
</li>
<li>
<p><a href="#%EB%A0%88%EA%B1%B0%EC%8B%9C%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%A4%EC%A0%95">ë ˆê±°ì‹œë¥¼ ìœ„í•œ ì„¤ì •</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#python-mock">Python mock</a></p>
<ul>
<li><a href="#decorator%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-mocking">Decoratorë¥¼ ì‚¬ìš©í•œ mocking.</a></li>
<li><a href="#patchrequestsget"><code>@patch('requests.get')</code></a></li>
<li><a href="#patchobjectmymodule-requests"><code>@patch.object(mymodule, 'requests')</code></a></li>
<li><a href="#patchobjectmymodule-requests-newmyrequests"><code>@patch.object(mymodule, 'requests', new=MyRequests)</code></a></li>
<li><a href="#patchobjectmymodule-method-return_valuenone"><code>@patch.object(mymodule, 'method', return_value=None)</code></a></li>
</ul>
</li>
<li>
<p><a href="#package-manager">Package manager</a></p>
<ul>
<li>
<p><a href="#poetry">poetry</a></p>
<ul>
<li><a href="#%EA%B0%80%EC%83%81-%ED%99%98%EA%B2%BD-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0">ê°€ìƒ í™˜ê²½ ê´€ë¦¬í•˜ê¸°</a></li>
</ul>
</li>
<li>
<p><a href="#pipenv">pipenv</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#packaging">Packaging</a></p>
<ul>
<li><a href="#__all__"><code>__all__</code></a></li>
</ul>
</li>
<li>
<p><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0">í”„ë¡œì íŠ¸ êµ¬ì¡°</a></p>
<ul>
<li><a href="#pypa%EC%97%90%EC%84%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0%EB%A5%BC-src-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83%EC%9C%BC%EB%A1%9C-%EB%B0%94%EA%BE%B8%EB%8B%A4">PyPAì—ì„œ í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ <code>src/</code> ë ˆì´ì•„ì›ƒìœ¼ë¡œ ë°”ê¾¸ë‹¤.</a></li>
</ul>
</li>
<li>
<p><a href="#object-converter-serialization--deserialization">Object Converter (Serialization &#x26; Deserialization)</a></p>
<ul>
<li><a href="#django-rest-framework-serializer">Django REST Framework Serializer</a></li>
<li><a href="#wtforms">WTForms</a></li>
<li><a href="#marshmallow">Marshmallow</a></li>
</ul>
</li>
<li>
<p><a href="#rxpy">Rxpy</a></p>
<ul>
<li><a href="#rxpy-example">Rxpy example</a></li>
</ul>
</li>
<li>
<p><a href="#redis-py">redis-py</a></p>
<ul>
<li><a href="#redis-connection%EC%9D%84-%EC%A0%84%EC%97%AD-%EC%83%9D%EC%84%B1-vs-%EC%9A%94%EC%B2%AD%EB%A7%88%EB%8B%A4-%EC%83%9D%EC%84%B1">redis connectionì„ ì „ì—­ ìƒì„± vs ìš”ì²­ë§ˆë‹¤ ìƒì„±</a></li>
</ul>
</li>
<li>
<p><a href="#django-web-framework">Django Web Framework</a></p>
<ul>
<li><a href="#onetoonefield-vs-foreignkeyfield"><code>OneToOneField</code> vs <code>ForeignKeyField</code></a></li>
<li><a href="#%EB%B3%B5%ED%95%A9%ED%82%A4%EB%A5%BC-foreignkey%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%B0%BE%EA%B8%B0">ë³µí•©í‚¤ë¥¼ ForeignKeyë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì°¾ê¸°</a></li>
</ul>
</li>
<li>
<p><a href="#%EB%94%94%EB%B2%84%EA%B9%85">ë””ë²„ê¹…</a></p>
</li>
</ul>
</li>
</ul></div><span><a href="../mac-os" style="font-size:0.5em;margin-right:0.5em">mac-os</a><a href="../vim" style="font-size:0.5em;margin-right:0.5em">vim</a><a href="../windows-subsystem-for-linux" style="font-size:0.5em;margin-right:0.5em">windows-subsystem-for-linux</a><a href="../reactjs" style="font-size:0.5em;margin-right:0.5em">reactjs</a><a href="../machine-learning" style="font-size:0.5em;margin-right:0.5em">machine-learning</a></span></div><div class="Wiki__Main-sc-16q9onf-2 eTgCJx"><h1>Python</h1><div class="Toc__Container-sc-1f76i2s-0 eXfjpt"><ul>
<li>
<p><a href="#python">Python</a></p>
<ul>
<li>
<p><a href="#%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1">ê°œë°œí™˜ê²½ êµ¬ì„±</a></p>
</li>
<li>
<p><a href="#%EA%B0%9C%EB%B0%9C%EB%8F%84%EA%B5%AC">ê°œë°œë„êµ¬</a></p>
<ul>
<li>
<p><a href="#pyright">pyright</a></p>
<ul>
<li><a href="#pyright-%EC%84%A4%EC%B9%98">pyright ì„¤ì¹˜</a></li>
</ul>
</li>
<li>
<p><a href="#pylint">pylint</a></p>
</li>
<li>
<p><a href="#mypy">mypy</a></p>
<ul>
<li><a href="#django-stubs">Django Stubs</a></li>
</ul>
</li>
<li>
<p><a href="#ruff">Ruff</a></p>
</li>
<li>
<p><a href="#python-code-formatter-autopep8-vs-black-vs-yapf">python code formatter: autopep8 vs black vs yapf</a></p>
</li>
<li>
<p><a href="#%EB%A0%88%EA%B1%B0%EC%8B%9C%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%A4%EC%A0%95">ë ˆê±°ì‹œë¥¼ ìœ„í•œ ì„¤ì •</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#python-mock">Python mock</a></p>
<ul>
<li><a href="#decorator%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-mocking">Decoratorë¥¼ ì‚¬ìš©í•œ mocking.</a></li>
<li><a href="#patchrequestsget"><code>@patch('requests.get')</code></a></li>
<li><a href="#patchobjectmymodule-requests"><code>@patch.object(mymodule, 'requests')</code></a></li>
<li><a href="#patchobjectmymodule-requests-newmyrequests"><code>@patch.object(mymodule, 'requests', new=MyRequests)</code></a></li>
<li><a href="#patchobjectmymodule-method-return_valuenone"><code>@patch.object(mymodule, 'method', return_value=None)</code></a></li>
</ul>
</li>
<li>
<p><a href="#package-manager">Package manager</a></p>
<ul>
<li>
<p><a href="#poetry">poetry</a></p>
<ul>
<li><a href="#%EA%B0%80%EC%83%81-%ED%99%98%EA%B2%BD-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0">ê°€ìƒ í™˜ê²½ ê´€ë¦¬í•˜ê¸°</a></li>
</ul>
</li>
<li>
<p><a href="#pipenv">pipenv</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#packaging">Packaging</a></p>
<ul>
<li><a href="#__all__"><code>__all__</code></a></li>
</ul>
</li>
<li>
<p><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0">í”„ë¡œì íŠ¸ êµ¬ì¡°</a></p>
<ul>
<li><a href="#pypa%EC%97%90%EC%84%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0%EB%A5%BC-src-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83%EC%9C%BC%EB%A1%9C-%EB%B0%94%EA%BE%B8%EB%8B%A4">PyPAì—ì„œ í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ <code>src/</code> ë ˆì´ì•„ì›ƒìœ¼ë¡œ ë°”ê¾¸ë‹¤.</a></li>
</ul>
</li>
<li>
<p><a href="#object-converter-serialization--deserialization">Object Converter (Serialization &#x26; Deserialization)</a></p>
<ul>
<li><a href="#django-rest-framework-serializer">Django REST Framework Serializer</a></li>
<li><a href="#wtforms">WTForms</a></li>
<li><a href="#marshmallow">Marshmallow</a></li>
</ul>
</li>
<li>
<p><a href="#rxpy">Rxpy</a></p>
<ul>
<li><a href="#rxpy-example">Rxpy example</a></li>
</ul>
</li>
<li>
<p><a href="#redis-py">redis-py</a></p>
<ul>
<li><a href="#redis-connection%EC%9D%84-%EC%A0%84%EC%97%AD-%EC%83%9D%EC%84%B1-vs-%EC%9A%94%EC%B2%AD%EB%A7%88%EB%8B%A4-%EC%83%9D%EC%84%B1">redis connectionì„ ì „ì—­ ìƒì„± vs ìš”ì²­ë§ˆë‹¤ ìƒì„±</a></li>
</ul>
</li>
<li>
<p><a href="#django-web-framework">Django Web Framework</a></p>
<ul>
<li><a href="#onetoonefield-vs-foreignkeyfield"><code>OneToOneField</code> vs <code>ForeignKeyField</code></a></li>
<li><a href="#%EB%B3%B5%ED%95%A9%ED%82%A4%EB%A5%BC-foreignkey%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%B0%BE%EA%B8%B0">ë³µí•©í‚¤ë¥¼ ForeignKeyë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì°¾ê¸°</a></li>
</ul>
</li>
<li>
<p><a href="#%EB%94%94%EB%B2%84%EA%B9%85">ë””ë²„ê¹…</a></p>
</li>
</ul>
</li>
</ul></div><a href="/" class="Link__A-sc-e7w5ww-0 ljvyEH">ğŸ¾</a><div class="WikiContent__Container-sc-q3jb6a-0 bggmYT">
<h2 id="ê°œë°œí™˜ê²½-êµ¬ì„±" style="position:relative;"><a href="#%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1" aria-label="ê°œë°œí™˜ê²½ êµ¬ì„± permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ê°œë°œí™˜ê²½ êµ¬ì„±</h2>
<p>pyenv, pyenv-virtualenvë¡œ íŒŒì´ì¬ ê°€ìƒí™˜ê²½ì„ ê´€ë¦¬í•˜ì.</p>
<pre><code class="language-bash">brew install pyenv
brew install pyenv-virtualenv
</code></pre>
<h2 id="ê°œë°œë„êµ¬" style="position:relative;"><a href="#%EA%B0%9C%EB%B0%9C%EB%8F%84%EA%B5%AC" aria-label="ê°œë°œë„êµ¬ permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ê°œë°œë„êµ¬</h2>
<p>vim ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œëŠ” í…ìŠ¤íŠ¸ì—ë””í„° ì—­í• ë°–ì— ëª»í•œë‹¤.</p>
<p>ìµœì†Œí•œ pyrightëŠ” ì‚¬ìš©í•˜ì.</p>
<p>ì™ ë§Œí•´ì„  pyright + pylint + mypyëŠ” ê¶Œì¥í•œë‹¤. python 2 í”„ë¡œì íŠ¸ë¼ë„ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.
ì—ëŸ¬ê°€ ë„ˆë¬´ ë§ë‹¤ë©´ ì„¤ì •ì„ íƒ€í˜‘í•˜ì. ì•„ë˜ ë ˆê±°ì‹œë¥¼ ìœ„í•œ ì„¤ì •ì—ì„œ ë‹¤ë£¬ë‹¤.</p>
<p>nvim-lspconfig, null-ls ì´ìš©í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •, ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p>
<pre><code class="language-lua">-- vim ì„¤ì • íŒŒì¼ì˜ ì¼ë¶€ë¶„
server = require 'lspconfig'.pyright,
sources = {
    null_ls.builtins.diagnostics.pylint,
    null_ls.builtins.diagnostics.mypy.with {
        extra_args = { '--ignore-missing-imports' }
    },
    null_ls.builtins.formatting.autopep8,
    null_ls.builtins.formatting.isort,
},
</code></pre>
<h3 id="pyright" style="position:relative;"><a href="#pyright" aria-label="pyright permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>pyright</h3>
<p><a href="https://github.com/microsoft/pyright">https://github.com/microsoft/pyright</a></p>
<p><a href="../language-server-protocol">language server</a> for python.</p>
<p>django í”„ë¡œì íŠ¸ë¼ë©´ <a href="https://github.com/sbdchd/django-types">django-types</a>ë¥¼ ì„¤ì¹˜í•˜ì.
mypyì™€ django-stubsì²˜ëŸ¼ django modelì˜ í•„ë“œ íƒ€ì…ì„ ì œê³µí•œë‹¤.</p>
<pre><code class="language-python">class User(models.Model):
    name = models.CharField(max_length=100)
    age = models.IntegerField()

user = User.objects.get(id=1)
user.age = 10  # should error
</code></pre>
<p><code>age</code> í•„ë“œëŠ” <code>IntegerField</code>ë¡œ ì¶”ì •í•˜ê¸° ë•Œë¬¸ì— <code>user.age = 10</code>ì—ì„œ íƒ€ì… ë¬¸ì œê°€ ìˆë‹¤ê³  ì•Œë ¤ì¤€ë‹¤.
django-typesëŠ” ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•´ì¤€ë‹¤.</p>
<p>django-typesëŠ” django-stubsì˜ fork projectì´ë‹¤.</p>
<blockquote>
<p>non-mypy type checkers like pyright will work better with Django.</p>
</blockquote>
<h4 id="pyright-ì„¤ì¹˜" style="position:relative;"><a href="#pyright-%EC%84%A4%EC%B9%98" aria-label="pyright ì„¤ì¹˜ permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>pyright ì„¤ì¹˜</h4>
<ul>
<li>nvim-lspconfigì€ <code>Mason</code>ì„ ì‚¬ìš©í•˜ì: <code>:MasonInstall pyright</code></li>
<li><a href="https://github.com/fannheyward/coc-pyright">coc-nvim</a>: <code>:CocInstall coc-pyright</code></li>
</ul>
<h3 id="pylint" style="position:relative;"><a href="#pylint" aria-label="pylint permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>pylint</h3>
<p><a href="https://github.com/PyCQA/pylint">https://github.com/PyCQA/pylint</a>
ì •ì  ë¶„ì„ ë„êµ¬.</p>
<h3 id="mypy" style="position:relative;"><a href="#mypy" aria-label="mypy permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>mypy</h3>
<p><a href="https://github.com/python/mypy">https://github.com/python/mypy</a></p>
<blockquote>
<p>Optional static typing for Python</p>
</blockquote>
<p>ì •ì  íƒ€ì… ê²€ì‚¬ ë„êµ¬.</p>
<p>íƒ€ì… ëª…ì„¸ë¥¼ í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ì—ëŠ” <code>Need type annotation for "variable"</code> ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë§‰ê¸° ìœ„í•´ <code>my.ini</code> ìƒì„±í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•˜ì:</p>
<pre><code>[mypy]

# disable error 'Need type annotation for "variable"'
disallow_untyped_defs = False
</code></pre>
<h4 id="django-stubs" style="position:relative;"><a href="#django-stubs" aria-label="django stubs permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Django Stubs</h4>
<p><a href="https://github.com/typeddjango/django-stubs">https://github.com/typeddjango/django-stubs</a></p>
<p>djangoëŠ” <code>objects</code> ë“± ë§ˆë²•ì„ ì‚¬ìš©í•´ì„œ íƒ€ì… ì œê³µì„ ì œëŒ€ë¡œ ë°›ì„ ìˆ˜ ì—†ë‹¤.</p>
<p>djang-stubsëŠ” django ë§¤ì§ê³¼ ê´€ë ¨ëœ íƒ€ì… ì •ë³´ë¥¼ ì œê³µí•œë‹¤.</p>
<h3 id="ruff" style="position:relative;"><a href="#ruff" aria-label="ruff permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ruff</h3>
<p><a href="https://github.com/charliermarsh/ruff">https://github.com/charliermarsh/ruff</a></p>
<p>rustë¡œ ì‘ì„±ëœ python linter.</p>
<p>Pylintì™€ ë¹„êµí•˜ì—¬ ë§¤ìš° ë¹ ë¥´ë‹¤. READMEì— ë²¤ì¹˜ë§ˆí¬ê°€ ìˆëŠ”ë° Pylintë¡œ > 60s ê±¸ë¦¬ëŠ” ì½”ë“œë² ì´ìŠ¤ê°€ 0.29s ê±¸ë¦°ë‹¤ê³  í•œë‹¤.</p>
<p>ì‹¤ì œë¡œ Pylintë¡œ 1ë¶„ 6ì´ˆ ê±¸ë¦¬ëŠ” í”„ë¡œì íŠ¸ì—ì„œ ëª…ë ¹ì–´ ì…ë ¥ ì¦‰ì‹œ ê²°ê³¼ê°€ ë‚˜ì™”ë‹¤.</p>
<p>ë‹¨ì ì€ ì•„ì§ Pylintë³´ë‹¤ ë§ì€ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.
ì˜ˆë¥¼ë“¤ì–´ PylintëŠ” <a href="https://pylint.readthedocs.io/en/latest/user_guide/messages/warning/broad-exception-caught.html">broad-exception-caught</a>ì™€ <a href="https://pylint.readthedocs.io/en/latest/user_guide/messages/convention/consider-using-f-string.html">consider-using-f-string</a>ì„ ì¡ì•„ì£¼ì§€ë§Œ RuffëŠ” ê·¸ë ‡ì§€ ì•Šë‹¤.</p>
<p>ì•„ì§ ë§ì´ ì‚¬ìš©í•´ë³´ì§€ ì•Šì•„ì„œ ê·¸ ì°¨ì´ê°€ ì–´ëŠì •ë„ì¸ì§€ëŠ” ì˜ ëª¨ë¥´ê² ë‹¤.
ê¸°ëŠ¥ì€ ë¶€ì¡±í•˜ì§€ë§Œ ë§¤ìš° ë¹ ë¥¸ ì¥ì ìœ¼ë¡œ ì•ìœ¼ë¡œ ìì£¼ ì‚¬ìš©í•  ê²ƒ ê°™ë‹¤.</p>
<p>nvimì€ <a href="https://github.com/jose-elias-alvarez/null-ls.nvim/blob/main/doc/BUILTINS.md#ruff">null-ls</a>ì—ì„œ ì œê³µí•œë‹¤. diagnostic, formatter ë‘ ê°œ ì†ŒìŠ¤ë¡œ ì œê³µí•œë‹¤.
Pylintì™€ í•¨ê»˜ ì‚¬ìš©í•´ë³´ë©´ Ruffì˜ ë°˜ì‘ì´ ë¹¨ë¼ì„œ í•­ìƒ Pylintë³´ë‹¤ Ruffì˜ ì§„ë‹¨ì´ ë¨¼ì € ë…¸ì¶œëœë‹¤.</p>
<p><strong>ê°œë°œ í™˜ê²½ êµ¬ì„± ì‹œ ì£¼ì˜í•´ì•¼ í•œë‹¤.</strong></p>
<p>Ruff ì„¤ëª…ëŒ€ë¡œ rustë¡œ ì‘ì„±ë˜ì–´ ìˆì–´ì„œ ë¡œì»¬ ê°œë°œ í™˜ê²½ì´ë‚˜, ê°œë°œìš© Docker í™˜ê²½ êµ¬ì„±ì„ ìœ„í•´ì„œ Rust ëŸ°íƒ€ì„ í™˜ê²½ì„ êµ¬ì„±ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤.
macOS ê¸°ì¤€ìœ¼ë¡œëŠ” ë³„ë„ ë„êµ¬ ì—†ì´ ì„¤ì¹˜ë˜ì—ˆì§€ë§Œ, python alpine ì´ë¯¸ì§€ ê¸°ì¤€ìœ¼ë¡œ ì„¤ì¹˜ì— ì‹¤íŒ¨í•œë‹¤.</p>
<p>flake8, isort ë“±ì—ì„œ <a href="https://beta.ruff.rs/docs/rules/">lint rules</a>ì„ ê°€ì ¸ì™”ë‹¤. 500+ê°œì˜ ê·œì¹™ì´ ìˆë‹¤.</p>
<p>isortì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” importëŠ” ì œê±°í•œë‹¨ë‹¤. isortê°€ í•„ìš” ì—†ì„ì§€ë„.</p>
<p><a href="https://github.com/apache/airflow/blob/main/pyproject.toml#L29">Apache Airflow</a>,
<a href="https://github.com/tiangolo/fastapi/blob/master/pyproject.toml#L164">FastAPI</a>,
<a href="https://github.com/huggingface/transformers/blob/main/pyproject.toml#L5">Hugging Face</a>,
<a href="https://github.com/pandas-dev/pandas/blob/main/pyproject.toml#L194.md">Pandas</a>
<a href="https://github.com/scipy/scipy/blob/main/pyproject.toml#L121.md">SciPy</a>
ë“± ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œ ruffë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤. pylintì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê³³ë„ ì•„ë‹Œê³³ë„ ìˆë‹¤.</p>
<blockquote>
<p>Ruff can be used to replace Flake8 (plus dozens of plugins), isort, pydocstyle, yesqa, eradicate, pyupgrade, and autoflake, all while executing tens or hundreds of times faster than any individual tool.</p>
</blockquote>
<p>Flake8, isort ë“± ë„êµ¬ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.</p>
<h3 id="python-code-formatter-autopep8-vs-black-vs-yapf" style="position:relative;"><a href="#python-code-formatter-autopep8-vs-black-vs-yapf" aria-label="python code formatter autopep8 vs black vs yapf permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>python code formatter: autopep8 vs black vs yapf</h3>
<p>íŒŒì´ì¬ ì½”ë“œ formatter 3ì¢… ë¹„êµ.</p>
<p><a href="https://github.com/neoclide/coc.nvim">coc.nvim</a>ì—ì„œëŠ” íŒŒì´ì¬ íŒŒì¼ì„ ì—´ ë•Œ 3ê°œ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ë„ë¡ í•œë‹¤:</p>
<pre><code class="language-sh">Formatter autopep8 is not installed. Install?:
1. Yes
2. Use black
3. Use yapf
</code></pre>
<p><a href="https://www.reddit.com/r/Python/comments/8oqy03/blog_a_comparison_of_autopep8_black_and_yapf_code/.md">Blog: A comparison of autopep8, black, and yapf - Code formatters for Python</a><br>
3ê°œë¥¼ ë¹„êµí•œ ë‹¤ë¥¸ ê¸€. ë§ê¸€ì—ëŠ” blackì„ ì‚¬ìš©í•˜ê³  ë§Œì¡±í–ˆë‹¤ë‚˜.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>stars</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/hhatto/autopep8">autopep8</a></td>
<td>4.3k</td>
<td>pep8 ìŠ¤íƒ€ì¼ ì‚¬ìš©. ê°€ì¥ ë§ì€ ì»¤ë°‹</td>
</tr>
<tr>
<td><a href="https://github.com/psf/black">black</a></td>
<td>31.2k</td>
<td>ê°€ì¥ ë§ì€ star</td>
</tr>
<tr>
<td><a href="https://github.com/google/yapf">yapf</a></td>
<td>13k</td>
<td>êµ¬ê¸€ì´ maintainer</td>
</tr>
</tbody>
</table>
<p><strong>ì‹¤ì œ ì‚¬ìš© ë¹„êµ</strong></p>
<p>ë¹„êµ ëŒ€ìƒ ì½”ë“œ</p>
<pre><code class="language-python">{
  "refundDeposit": self.refund_deposit and _deposit_to_dict(self.refund_deposit)
}
</code></pre>
<p><strong>black</strong></p>
<pre><code class="language-python">{
  "refundDeposit": self.refund_deposit
  and _deposit_to_dict(self.refund_deposit)
}
</code></pre>
<p>ì´ê²Œ ë§ë‚˜?</p>
<p><strong>yapf</strong></p>
<pre><code class="language-python">{
  "refundDeposit":
  self.refund_deposit and _deposit_to_dict(self.refund_deposit)
}
</code></pre>
<p>ì´ê²Œ ë§ë‚˜?2</p>
<p><strong>autopep8</strong>
ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<p>ê°œì¸ì ìœ¼ë¡œëŠ” black, yapfì˜ ìŠ¤íƒ€ì¼ì´ ë³„ë¡œë¼ì„œ autopep8ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p>
<h3 id="ë ˆê±°ì‹œë¥¼-ìœ„í•œ-ì„¤ì •" style="position:relative;"><a href="#%EB%A0%88%EA%B1%B0%EC%8B%9C%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%A4%EC%A0%95" aria-label="ë ˆê±°ì‹œë¥¼ ìœ„í•œ ì„¤ì • permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ë ˆê±°ì‹œë¥¼ ìœ„í•œ ì„¤ì •</h3>
<p>pyright, mypyë¥¼ íƒ€ì… ëª…ì„¸í•˜ì§€ ì•ŠëŠ” ë“± ë ˆê±°ì‹œ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ë©´ ë¬´ìˆ˜íˆ ë§ì€ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì¶œë ¥ëœë‹¤.
disable í•˜ëŠ” í¸ì´ ì°¨ë¼ë¦¬ ë‚«ë‹¤.</p>
<p>íŒŒì´ì¬ ë„êµ¬ëŠ” <code>pyrightconfig.json</code>, <code>mypy.ini</code> ë“± ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•˜ê±°ë‚˜, ê³µí†µ ì„¤ì • íŒŒì¼ì¸ <code>pyproject.toml</code>ì„ ì‚¬ìš©í•œë‹¤.</p>
<p>ì•„ë˜ëŠ” <code>pyproject.toml</code>ì— ì„¤ì •í•œ ë‚´ìš©ì´ë‹¤:</p>
<pre><code class="language-toml">[tool.mypy]
python_version = "3.8"
plugins = ["mypy_django_plugin.main"]
disallow_untyped_defs = false


[tool.django-stubs]
django_settings_module = "app.settings"


[tool.pyright]
reportGeneralTypeIssues = true


[tool.pylint.master]
load-plugins = [
  "pylint_django",
]
django-settings-module = "app.settings"
[tool.pylint.messages_control]
disable = [
  "missing-docstring",
  "too-few-public-methods",
  "too-many-instance-attributes",
  "trailing-newlines",
  "too-many-arguments",
  "too-many-public-methods",
  "invalid-name",
  "too-many-locals",
  "too-many-return-statements",
  "too-many-lines",
]
[tool.pylint.format]
max-line-length = 150
</code></pre>
<p>mypy, pyright, pylint ì„¤ì •ì„ ëª¨ë‘ <code>pyproject.toml</code>ì— ë„£ì—ˆë‹¤.</p>
<p><code>reportGeneralTypeIssues = false</code>ëŠ” <code>Cannot access member "id" for type "UserFactory" Â Â Member "id" is unknown</code> ê°™ì€ ì—ëŸ¬ë¥¼ ë¬´ì‹œí•œë‹¤.
django, factory-boy ë“± íŒŒì´ì¬ ë§¤ì§ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì´ëŸ° ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ë° ë¬´ì‹œí•˜ì. ìµœì‹  ë²„ì „ë¶€í„°ëŠ” ì´ëŸ° ë¬¸ì œê°€ ì—†ëŠ”ì§€ í™•ì¸í•˜ì§€ ì•Šì•˜ë‹¤.<br>
íƒ€ì…ì„ ì˜ ëª…ì„¸í•˜ëŠ” ê²½ìš°, <code>Literal['foo', 'bar']</code> ì™€ ê°™ì´ ëª…ì„¸í•˜ê³  ì—ëŸ¬ë¥¼ ì •ì  ì²´í¬í•˜ëŠ” ê²ƒì€ ë§¤ìš° ìœ ìš©í•œë°, ì´ëŸ° ì—ëŸ¬ë„ ë¬´ì‹œí•˜ê²Œ ëœë‹¤.
<code>cannot access member ~</code>ë§Œ ë¬´ì‹œí•˜ê³  <code>Argument of type "Literal['foo', 'bar']" cannot be assigned to parameter "param_name" of type</code> ê°™ì€ ì—ëŸ¬ëŠ” ë¦¬í¬íŠ¸ ë°›ê³  ì‹¶ì€ë°, ì•„ì§ ë°©ë²•ì„ ì°¾ì§€ ëª»í–ˆë‹¤.<br>
ì¼ë‹¨ <code>true</code>ë¡œ ì„¤ì •í•˜ì—¬ ë²ˆê±°ë¡­ì§€ë§Œ <code>Cannot access member ~</code> ì—ëŸ¬ë„ ë¦¬í¬íŠ¸ ë°›ë„ë¡ í–ˆë‹¤.</p>
<p><code>disallow_untyped_defs</code>ëŠ” mypyì—ì„œ íƒ€ì… ëª…ì„¸í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ëŠ” ì˜µì…˜ì´ë‹¤. ì´ê²ƒë„ ë¬´ì‹œí•œë‹¤.</p>
<p>pyproject.tomlì€ ìµœê·¼ì—ì„œì•¼ ëŒ€ë¶€ë¶„ ë„êµ¬ê°€ ì§€ì›í•˜ëŠ” ê²ƒ ê°™ë‹¤.
ë„êµ¬ ë²„ì „ì´ ë‚®ìœ¼ë©´ toml ì–‘ì‹ì„ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ìˆì–´ì„œ ìµœì‹  ë²„ì „ì¸ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.
ë„êµ¬ë§ˆë‹¤ ì„¤ì • íŒŒì¼ì„ ê°ê° ê´€ë¦¬í•˜ê¸° ì–´ë ¤ì›Œì„œ pyproject.toml í•˜ë‚˜ë¡œ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p>
<h2 id="python-mock" style="position:relative;"><a href="#python-mock" aria-label="python mock permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Python mock</h2>
<p><a href="https://docs.python.org/3/library/unittest.mock.html">https://docs.python.org/3/library/unittest.mock.html</a></p>
<p>ì„¤ì¹˜: <code>pip install mock</code></p>
<h3 id="decoratorë¥¼-ì‚¬ìš©í•œ-mocking" style="position:relative;"><a href="#decorator%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-mocking" aria-label="decoratorë¥¼ ì‚¬ìš©í•œ mocking permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Decoratorë¥¼ ì‚¬ìš©í•œ mocking.</h3>
<pre><code class="language-python">from mock import patch
import mymodule


class Mytest(unittest.TestCase):
  @patch.object(mymodule, 'method')
  def test_normal(self):
    pass
</code></pre>
<p>í…ŒìŠ¤íŠ¸ëŠ” ì£¼ë¡œ í´ë˜ìŠ¤ë¡œ í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ ìŠˆíŠ¸ë¥¼ êµ¬ì„±í•˜ê³ ,
Mockingì€ ê° í…ŒìŠ¤íŠ¸(method)ì— <code>@patch.object</code>ë‚˜ <code>@patch</code> decoratorë¥¼ ì£¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p>
<p><code>requests</code> ëª¨ë“ˆì„ mocking í•œë‹¤ê³  ê°€ì •í•˜ì.</p>
<h3 id="patchrequestsget" style="position:relative;"><a href="#patchrequestsget" aria-label="patchrequestsget permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>@patch('requests.get')</code></h3>
<p>ì–´ë””ì„œë“  <code>requests.get()</code> ì‚¬ìš©í•œë‹¤ë©´, mock ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
ê°„ë‹¨í•œ ë°©ë²•ì´ì§€ë§Œ, <code>mymodule</code>ì—ì„œ <code>requests</code>ë¥¼ ì‚¬ìš©í•¨ì„ ì•”ì‹œì ìœ¼ë¡œ ë³´ì—¬ì¤€ë‹¤.</p>
<h3 id="patchobjectmymodule-requests" style="position:relative;"><a href="#patchobjectmymodule-requests" aria-label="patchobjectmymodule requests permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>@patch.object(mymodule, 'requests')</code></h3>
<p><code>mymodule</code> ë‚´ì—ì„œë§Œ <code>requests</code>ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ì ì„ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„í•œë‹¤.
ê°œì¸ì ìœ¼ë¡œ ì´ ë°©ë²•ì„ ë” ë§ì´ ì‚¬ìš©í•œë‹¤.</p>
<p><code>requests</code> ìì²´ê°€ mock ê°ì²´ì´ê¸° ë•Œë¬¸ì—, <code>requests</code>ì˜ <code>get</code>, <code>post</code> ë“± ëª¨ë“  í•¨ìˆ˜ë“¤ì´
mock ê°ì²´ê°€ ëœë‹¤.</p>
<p><code>get</code> ì‘ë‹µì„ ëŒ€ì²´í•˜ê³  ì‹¶ìœ¼ë©´, í…ŒìŠ¤íŠ¸ ì•ˆì—ì„œ, ë„˜ì–´ì˜¤ëŠ” mock ê°ì²´ë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤:</p>
<pre><code class="language-python">class Mytest(unittest.TestCase):
  @patch.object(mymodule, 'requests')
  def test_normal(self, mock_requests):
    mock_requests.get.return_value = None
</code></pre>
<p>í…ŒìŠ¤íŠ¸ ë‚´ì—ì„œë§Œ mocking ì •ë³´ë¥¼ ëª…ì‹œí•˜ê¸° ë•Œë¬¸ì—, ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</p>
<h3 id="patchobjectmymodule-requests-newmyrequests" style="position:relative;"><a href="#patchobjectmymodule-requests-newmyrequests" aria-label="patchobjectmymodule requests newmyrequests permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>@patch.object(mymodule, 'requests', new=MyRequests)</code></h3>
<p><code>requests</code>ê°€ <code>MyRequests</code>ë¡œ ëŒ€ì²´ëœë‹¤.</p>
<pre><code class="language-python">class MyRequests(object):
  @staticmethod
  def get(*args, **kwargs):
    res = Mock()
    res.headers = {
      'content-type': 'text/html'
    }
    return res
</code></pre>
<p>ìœ„ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ <code>get</code> í•¨ìˆ˜ë§Œ ë‚´ê°€ ì›í•˜ëŠ” ì‘ë‹µì„ ë‚´ë ¤ì£¼ê²Œ í•˜ê³ ,
<code>post</code> ë“± ë‹¤ë¥¸ í•¨ìˆ˜ëŠ” ê¸°ë³¸ mock ê°ì²´ë¥¼ ë‚´ë ¤ì¤€ë‹¤.</p>
<p>mocking ì •ë³´ë¥¼ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì—ì„œë„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì„œ ìœ ìš©í•˜ë‹¤.</p>
<h3 id="patchobjectmymodule-method-return_valuenone" style="position:relative;"><a href="#patchobjectmymodule-method-return_valuenone" aria-label="patchobjectmymodule method return_valuenone permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>@patch.object(mymodule, 'method', return_value=None)</code></h3>
<p><code>mymodule.method()</code> ë°˜í™˜ê°’ì„ <code>None</code>ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤.</p>
<h2 id="package-manager" style="position:relative;"><a href="#package-manager" aria-label="package manager permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Package manager</h2>
<p>pipenvë¥¼ ì‹œë²”ì ìœ¼ë¡œ íšŒì‚¬ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆë‹¤ê°€, ìµœê·¼ì— ê°œì¸ í”„ë¡œì íŠ¸ì— poetryë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤.
ê²°ë¡ ì€ poetryê°€ ì¡°ê¸ˆ ë” ë§Œì¡±ìŠ¤ëŸ½ë‹¤. <code>pyproject.toml</code>ê³¼ í†µí•©í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë§ˆìŒì´ ë“¤ì—ˆë‹¤.</p>
<p><code>pipenv</code>ë‚˜ <code>poetry</code> ëª¨ë‘ ìš´ì˜ í™˜ê²½ì„ ìœ„í•œ dockerizing ì‹œ cli ë„êµ¬ë‚˜ ê°€ìƒí™˜ê²½ì€ í•„ìš”í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—,
multi-stage buildì™€ virtualenvë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ êµ¬ì¶•í•´ì•¼ í•œë‹¤.</p>
<h3 id="poetry" style="position:relative;"><a href="#poetry" aria-label="poetry permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>poetry</h3>
<p><a href="https://github.com/python-poetry/poetry">https://github.com/python-poetry/poetry</a></p>
<p>pipenv ë³´ë‹¤ starê°€ ë” ë§ë‹¤. <code>pyproject.toml</code>ì— ì˜ì¡´ì„±ì´ë‚˜, í™˜ê²½ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.
ìµœê·¼ì— ì¡°ê¸ˆì”© ì‚¬ìš©í•´ë³´ê³  ìˆë‹¤.</p>
<p><code>poetry init --python=3.10 -q</code>ë¡œ ì´ˆê¸°í™”í•˜ë©´ <code>pypoject.toml</code> íŒŒì¼ì´ ìƒì„±ëœë‹¤.
<code>-q</code> ì˜µì…˜ì´ ì—†ìœ¼ë©´ ë„ˆë¬´ ë§ì€ ì •ë³´ë¥¼ ë¬¼ì–´ë´ì„œ ë²ˆê±°ë¡­ë‹¤.</p>
<pre><code class="language-toml">[tool.poetry]
name = "myproject"
version = "0.1.0"
description = ""
authors = []

[tool.poetry.dependencies]
python = "^3.10"


[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"
</code></pre>
<p>ìœ„ì™€ê°™ì´ ë§Œë“¤ì–´ ì¤€ë‹¤.</p>
<p><code>poetry shell</code>ì„ ì…ë ¥í•˜ë©´ virtualenvìœ¼ë¡œ ì§„ì…í•œë‹¤. ì—†ìœ¼ë©´ ìƒì„±í•œë‹¤.</p>
<pre><code class="language-bash">â¯ poetry shell
Creating virtualenv myproject-jPR28GGN-py3.11 in /home/username/.cache/pypoetry/virtualenvs
Spawning shell within /home/username/.cache/pypoetry/virtualenvs/myproject-jPR28GGN-py3.11
</code></pre>
<p>homeì— ê°€ìƒí™˜ê²½ ì •ë³´ë¥¼ ì €ì¥í•˜ë¯€ë¡œ, <code>pyenv versions</code>ì— ë…¸ì¶œë˜ì§€ ì•Šì•„ì„œ ê´œì°®ì•„ ë³´ì¸ë‹¤.
í”„ë¡œì íŠ¸ê°€ ë§ìœ¼ë©´ ë„ˆë¬´ ë§ì€ ê°€ìƒí™˜ê²½ì´ ìƒì„±ë˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>
<p><code>poetry add rx</code>ë¡œ ì˜ì¡´ ëª¨ë“ˆì„ ì¶”ê°€í•œë‹¤. ì•Œì•„ì„œ <code>pyproject.toml</code>ì— ì¶”ê°€í•˜ê³ , lock file<code>poetry.lock</code>ì„ ì—…ë°ì´íŠ¸í•œë‹¤.</p>
<p>íŒŒì´ì¬ì˜ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì¸ pipëŠ” íŒŒì´ì¬ ì„¤ì¹˜ ì‹œ í•¨ê»˜ ì œê³µëœë‹¤.
ê·¸ëŸ¬ë‚˜ ë‹¤ë¥¸ ì–¸ì–´ì˜ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì™€ ë¹„êµí•´ ë³´ë©´ ì•ˆì¢‹ë‹¤.</p>
<p><code>pip install PACKAGE_NAME</code>ë¡œ ì„¤ì¹˜í•˜ê³  <code>pip freeze > requirements.txt</code>ë¡œ
ì˜ì¡´ ëª¨ë“ˆ ëª©ë¡ì„ ì €ì¥í•˜ëŠ”ë°, ì˜ì¡´ì„±ì˜ ì˜ì¡´ì„±ê¹Œì§€ ì €ì¥í•˜ê²Œ ëœë‹¤.
Djangoë§Œ ì„¤ì¹˜í–ˆëŠ”ë°, Djangoê°€ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ íŒ¨í‚¤ì§€ë„ í¬í•¨ëœë‹¤.</p>
<p>ê°œë°œê³¼ í”„ë¡œë•ì…˜ í™˜ê²½ ê´€ë¦¬ë„ ì• ë§¤í•˜ë‹¤. <code>pip freeze > requirements-dev.txt</code> ì²˜ëŸ¼
ìˆ˜ë™ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼ í•˜ëŠ”ë°, í”„ë¡œë•ì…˜ë§Œ ì—…ë°ì´íŠ¸ í•˜ë ¤ê³  í•´ë„ ì´ë¯¸ ê°œë°œ í™˜ê²½ì˜ ëª¨ë“ˆì´
í¬í•¨ë˜ì–´ ìˆë‹¤.</p>
<p>ì•„ë¬´íŠ¼, ê°„ë‹¨í•˜ì§€ë§Œ ê·¸ë§Œí¼ ì´ëŸ°ì €ëŸ° ë¶ˆí¸í•¨ì´ ìˆëŠ” ê¸°ë³¸ ë„êµ¬ë‹¤.</p>
<h4 id="ê°€ìƒ-í™˜ê²½-ê´€ë¦¬í•˜ê¸°" style="position:relative;"><a href="#%EA%B0%80%EC%83%81-%ED%99%98%EA%B2%BD-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0" aria-label="ê°€ìƒ í™˜ê²½ ê´€ë¦¬í•˜ê¸° permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ê°€ìƒ í™˜ê²½ ê´€ë¦¬í•˜ê¸°</h4>
<p><code>poetry shell</code>ë¡œ ê°€ìƒ í™˜ê²½ì„ ìƒì„±í•  ë•Œ, í˜„ì¬ ì‹œìŠ¤í…œì˜ íŒŒì´ì¬ ë²„ì „ì„ ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤.
ë‹¤ë§Œ <code>pyproject.toml</code>ì— ëª…ì‹œí•œ <a href="https://github.com/npm/node-semver#versions">semver</a> ë²”ìœ„ì— ë§ì§€ ì•Šìœ¼ë©´ ì‹¤íŒ¨í•œë‹¤.</p>
<p>pyenvë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë§ëŠ” ë²„ì „ì„ ì§ì ‘ ì°¾ì•„ì„œ ë³€ê²½í•´ì•¼ í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.</p>
<blockquote>
<p>For instance, if your project requires a newer Python than is available with your system, a standard workflow would be:</p>
</blockquote>
<pre><code class="language-bash">pyenv install 3.9.8
pyenv local 3.9.8  # Activate Python 3.9 for the current project
poetry install
</code></pre>
<blockquote>
<p>poetry ë¬¸ì„œ ì¤‘: <a href="https://python-poetry.org/docs/managing-environments/#switching-between-environments">https://python-poetry.org/docs/managing-environments/#switching-between-environments</a></p>
</blockquote>
<p>ì„¤ì¹˜í•œ ê°€ìƒ í™˜ê²½ì€ <code>poetry env list</code>ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
ì—¬ëŸ¬ê°œì˜ ê°€ìƒ í™˜ê²½ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¼ì„œ ëª©ë¡ìœ¼ë¡œ ë³´ì—¬ì¤€ë‹¤.</p>
<p>ìœ„ ì˜ˆì œì—ì„œ <code>pyenv local</code>ì„ ì‚¬ìš©í–ˆëŠ”ë°, <code>pyenv global</code>ì€ ì „ì—­ ì„¤ì •ì¸ ë°˜ë©´ì— <code>pyenv local</code>ì€ í˜„ì¬ ë””ë ‰í† ë¦¬ì—ë§Œ ì ìš©ëœë‹¤.
<code>.python-version</code> íŒŒì¼ì„ ìƒì„±í•˜ëŠ”ë°, pyenvëŠ” ì´ íŒŒì¼ì„ ì½ì–´ì„œ íŒŒì´ì¬ ë²„ì „ì„ ê²°ì •í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ìì„¸í•œ ë‚´ìš©ì€ <code>pyenv local --help</code>ë¥¼ ì°¸ê³ í•˜ì.</p>
<p>ê°€ìƒ í™˜ê²½ì„ ì‚­ì œí•˜ë ¤ë©´ ëª‡ ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤:</p>
<ul>
<li><code>rm -rf `poetry env info -p` </code> (ê°€ìƒ í™˜ê²½ ê²½ë¡œë¥¼ ì°¾ì•„ì„œ ì‚­ì œí•œë‹¤.)</li>
<li><code>poetry env remove 3.7</code></li>
<li><code>poetry env remove test-O3eWbxRl-py3.7</code> (ê°€ìƒ í™˜ê²½ ì „ì²´ ì´ë¦„ì´ë‹¤.)</li>
</ul>
<h3 id="pipenv" style="position:relative;"><a href="#pipenv" aria-label="pipenv permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>pipenv</h3>
<p><a href="https://github.com/pypa/pipenv">https://github.com/pypa/pipenv</a></p>
<p>ì´ëŸ° ë¶ˆí¸í•¨ì„ ì•Œì•˜ëŠ”ì§€ í™˜ê²½ ë¶„ë¦¬ë„ ê°€ëŠ¥í•˜ê³ , lock íŒŒì¼ë„ ë³„ë„ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ”
<a href="https://github.com/pypa/pipenv">pipenv</a>ê°€ ìˆë‹¤. <code>pyenv</code>ì™€ ì¢€ í—·ê°ˆë¦°ë‹¤.</p>
<p><a href="https://www.python.org/">python.org</a>ì—ì„œë„ ê°€ìƒ <code>pipenv</code>ë¥¼ ì´ìš©í•˜ì—¬ ê°€ìƒí™˜ê²½ ì‚¬ìš©ì„ ì¶”ì²œí•˜ê³  ìˆë‹¤:</p>
<blockquote>
<p>For software that is not distributed with (or developed for) your system, we recommend using a virtual environment, possibly with an environment manager like conda or pipenv, to help avoid disrupting your system Python installation.</p>
</blockquote>
<p>link: <a href="https://packaging.python.org/guides/tool-recommendations/">https://packaging.python.org/guides/tool-recommendations/</a></p>
<h2 id="packaging" style="position:relative;"><a href="#packaging" aria-label="packaging permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Packaging</h2>
<h3 id="__all__" style="position:relative;"><a href="#__all__" aria-label="__all__ permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>__all__</code></h3>
<p><code>my_module.py</code>ë¼ëŠ” íŒŒì¼ì´ ìˆë‹¤ê³  í•˜ì:</p>
<pre><code class="language-python">__all__ = ['foo', 'Bar']


def foo():
  pass


class Bar:
  pass


_baz = 1
</code></pre>
<p>íŒŒì¼ ìµœìƒë‹¨ì— <code>__all__</code>ì„ ì‚¬ìš©í•œë‹¤ê³  <code>my_module.py</code>ì„ ì„í¬íŠ¸ í–ˆì„ ë•Œ <code>_baz</code>ì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ê²Œ í•  ìˆ˜ëŠ” ì—†ë‹¤.</p>
<p><code>from my_module import _baz</code></p>
<p>í•˜ì§€ë§Œ <code>__all__</code>ì„ ì‚¬ìš©í•˜ë©´ <code>__init__.py</code>ë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ íš¨ê³¼ê°€ ìˆë‹¤.</p>
<pre><code>my_module/
  __init__.py
  my_module.py
</code></pre>
<p>ìœ„ êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ ë‘ê³  <code>__init__.py</code>ì—ì„œ <code>my_module.py</code>ë¥¼ asteriskë¥¼ ì´ìš©í•˜ì—¬ ì„í¬íŠ¸í•œë‹¤:</p>
<pre><code class="language-python">from my_module.my_module import *  # NOQA
</code></pre>
<p>flake8ì´ ê²½ê³ ë¥¼ ì¶œë ¥í•˜ë¯€ë¡œ <code># NOQA</code>ë¡œ ë¬´ì‹œí•˜ë„ë¡ í–ˆë‹¤.</p>
<p>ì´ë ‡ê²Œí•˜ë©´ <code>my_module</code>ì„ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„  <code>foo</code>, <code>bar</code>ë§Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.</p>
<pre><code class="language-python">from my_module import foo, bar  # ê°€ëŠ¥
from my_module import _baz  # ë¶ˆê°€ëŠ¥
</code></pre>
<h2 id="í”„ë¡œì íŠ¸-êµ¬ì¡°" style="position:relative;"><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0" aria-label="í”„ë¡œì íŠ¸ êµ¬ì¡° permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>í”„ë¡œì íŠ¸ êµ¬ì¡°</h2>
<h3 id="pypaì—ì„œ-í”„ë¡œì íŠ¸-êµ¬ì¡°ë¥¼-src-ë ˆì´ì•„ì›ƒìœ¼ë¡œ-ë°”ê¾¸ë‹¤" style="position:relative;"><a href="#pypa%EC%97%90%EC%84%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0%EB%A5%BC-src-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83%EC%9C%BC%EB%A1%9C-%EB%B0%94%EA%BE%B8%EB%8B%A4" aria-label="pypaì—ì„œ í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ src ë ˆì´ì•„ì›ƒìœ¼ë¡œ ë°”ê¾¸ë‹¤ permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PyPAì—ì„œ í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ <code>src/</code> ë ˆì´ì•„ì›ƒìœ¼ë¡œ ë°”ê¾¸ë‹¤.</h3>
<p>PR: <a href="https://github.com/pypa/sampleproject/pull/104">https://github.com/pypa/sampleproject/pull/104</a></p>
<p>PR ë‚´ìš©ì„ ì½ì–´ë³´ë©´ Pycon US 2019ì—ì„œ src ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì „í™˜í•˜ê¸°ë¡œ í–ˆë‹¤ê³  í•œë‹¤.</p>
<p>PyCon US Packaging Mini-Summit 2019 í† ë¡ ì¥: <a href="https://discuss.python.org/t/pycon-us-packaging-mini-summit-2019/833">https://discuss.python.org/t/pycon-us-packaging-mini-summit-2019/833</a></p>
<p>PyCon Us Packaging Mini-Summit 2019 í† í”½ ì¶”ì²œ í† ë¡ ì¥: <a href="https://discuss.python.org/t/packaging-mini-summit-pycon-us-2019-topic-suggestions/1534/5">https://discuss.python.org/t/packaging-mini-summit-pycon-us-2019-topic-suggestions/1534/5</a></p>
<p>(í† í”½ ì¶”ì²œ í† ë¡ ì¥ì—ì„œ) 2017ë…„ì— ì˜¬ë¼ì˜¨ ì´ìŠˆë¡œ ì¸í•´ì„œ ë…¼ì˜í•˜ê²Œ ë˜ì—ˆë‹¤ í•œë‹¤:</p>
<blockquote>
<p>Background: This issue is still unresolved, but a lot of people are converting to the src/ layout. The canonical reference for why is Hynekâ€™s post , though I will refrain from at-messaging him because I donâ€™t think he wants to be the poster-boy for src/ layout.</p>
</blockquote>
<p>í•´ë‹¹ ì´ìŠˆ: <a href="https://github.com/pypa/packaging.python.org/issues/320">https://github.com/pypa/packaging.python.org/issues/320</a></p>
<p><a href="https://hynek.me/articles/testing-packaging">https://hynek.me/articles/testing-packaging</a> ê¸€ì—ì„œ src ë ˆì´ì•„ì›ƒì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ë¥¼ ë§í•´ì¤€ë‹¤ê³  í•œë‹¤.</p>
<p><a href="https://github.com/pypa/packaging.python.org/issues/320#issuecomment-495990983">https://github.com/pypa/packaging.python.org/issues/320#issuecomment-495990983</a><br>
ë§ê¸€ì— ë…¼ì˜ ë‚´ìš©ì„ ì˜¬ë ¤ì£¼ì—ˆë‹¤.<br>
<strong>ì‹±ê¸€ ëª¨ë“ˆ</strong>ì„ ì œì™¸í•œ êµ¬ì¡°ëŠ” src ë ˆì´ì•„ì›ƒì„ ë”°ë¥¸ë‹¤ê³  í•œë‹¤.</p>
<blockquote>
<p>This was discussed at the Packaging Mini Summit (<a href="https://docs.google.com/document/d/1Wz2-ECkicJgAmQDxMFivWmU2ZunKvPZ2UfQ59zDGj7g/edit#">notes for that</a>). Here's my rough summary from memory + the notes:</p>
<ul>
<li>We should use a name for non-src/ layout that isn't negative-tone:
<ul>
<li>suggestions at the summit: flat / natural / root / simple (please bikeshed elsewhere)</li>
</ul>
</li>
<li>Everyone agreed that there are benefits to theÂ <code>src/</code>Â layout and that it should be documented.</li>
<li>Final position after discussion:
<ul>
<li>single module packages should use flat layout.
<ul>
<li>REPL breaks when usingÂ <code>src/</code>Â (you can'tÂ <code>import module</code>) and we considered this to be an important detail for first-time packagers who only want to share a script.</li>
</ul>
</li>
<li>Anything beyond a single module being packaged, should use theÂ <code>src/</code>Â directory.</li>
</ul>
</li>
</ul>
</blockquote>
<p><a href="https://github.com/pypa/packaging.python.org/issues/320#issuecomment-496064900">https://github.com/pypa/packaging.python.org/issues/320#issuecomment-496064900</a><br>
ì‹±ê¸€ ëª¨ë“ˆì´ë€ <code>.py</code> íŒŒì¼ í•˜ë‚˜ë§Œ ìˆëŠ” í”„ë¡œì íŠ¸ê°€ ì‹±ê¸€ ëª¨ë“ˆì´ë¼ê³  í•œë‹¤.</p>
<blockquote>
<p>A single module = singleÂ <code>.py</code>Â file.</p>
<p>requests is not a single module project. It's a package, containing multiple modules. Using terms fromÂ <a href="https://packaging.python.org/glossary/">https://packaging.python.org/glossary/</a>.</p>
</blockquote>
<p>êµ¬ê¸€ ì‹œíŠ¸ì—ì„œ í† ë¡  ë‚´ìš©ì— ëŒ€í•´ì„œ ì •ë¦¬ í•´ë‘ì—ˆë‹¤.</p>
<p><a href="https://docs.google.com/document/d/1Wz2-ECkicJgAmQDxMFivWmU2ZunKvPZ2UfQ59zDGj7g/edit#heading=h.2cgqnlxl8y3e">https://docs.google.com/document/d/1Wz2-ECkicJgAmQDxMFivWmU2ZunKvPZ2UfQ59zDGj7g/edit#heading=h.2cgqnlxl8y3e</a></p>
<blockquote>
<p>Currently the "non source" or "flat" layout is documented in the Packaging documentation, specifically the section on Packaging Python Projects. The "src" layout is not documented in the Packaging documentation.</p>
</blockquote>
<p>(ì´ì „ì—ëŠ” src ë ˆì´ì•„ì›ƒì´ ì•„ë‹Œ ìµœìƒìœ„ì— ì»´í¬ë„ŒíŠ¸ë³„ í´ë”ë¥¼ ë‘ì—ˆëŠ”ë°) non source ë˜ëŠ” flat ë ˆì´ì•„ì›ƒì´ë¼ê³  ë¶ˆë €ê³ , íŒ¨í‚¤ì§• ê´€ë ¨ ë¬¸ì„œì— ì„¤ëª…í–ˆë‹¤ê³  í•œë‹¤.</p>
<blockquote>
<p>Key Questions</p>
</blockquote>
<p>Should the src layout be documented?
Should it be the default?</p>
<p>ë…¼ì˜ ì£¼ì œëŠ” src ë ˆì´ì•„ì›ƒì„ ëª…ì‹œí• ê¹Œ? ê·¸ë¦¬ê³  ê¸°ë³¸ ë ˆì´ì•„ì›ƒìœ¼ë¡œ í•´ë„ ë ê¹Œ?</p>
<blockquote>
<p>Nick's opinion is that the flat case should be the example case as it is the simplest</p>
</blockquote>
<p>Donald and others mention that there are problems with the flat layout and for these reasons the beginner guide should use the src layout</p>
<p>ëª‡ ê°€ì§€ ë¬¸ì œì ì´ ìˆê¸° ë•Œë¬¸ì— ì‹œì‘ ê°€ì´ë“œì—ì„œ src ë ˆì´ì•„ì›ƒì„ ì‚¬ìš©í•œë‹¤ê³  ì£¼ì¥í•¨</p>
<p>ì¬ë°ŒëŠ” ì . Non-src ë ˆì´ì•„ì›ƒì— ëŒ€í•´ì„œ ë­ë¼ê³  ë¶€ë¥¼ì§€ ì˜ë…¼í–ˆëŠ”ë° í›„ë³´ ì¤‘..</p>
<blockquote>
<p>Flat (least-disliked option)</p>
</blockquote>
<p>Root (potentially non-obvious to beginners; potential confusion with, e.g., â€˜filesystem rootâ€™)
"Bad" (.....)
Non-src (may imply unduly that â€œsrcâ€ is preferred)
Natural (may imply unduly that â€œsrcâ€ is discouraged)</p>
<p>Bad ë ˆì´ì•„ì›ƒì´ ìˆë‹¤ ã…‹ã…‹</p>
<h2 id="object-converter-serialization--deserialization" style="position:relative;"><a href="#object-converter-serialization--deserialization" aria-label="object converter serialization  deserialization permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Object Converter (Serialization &#x26; Deserialization)</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Nested Structure</th>
</tr>
</thead>
<tbody>
<tr>
<td>Django Form</td>
<td>nope</td>
</tr>
<tr>
<td>Django REST Framework Serializer</td>
<td>yes</td>
</tr>
<tr>
<td>WTForms</td>
<td>yes</td>
</tr>
<tr>
<td>Marshmallow</td>
<td>yes</td>
</tr>
</tbody>
</table>
<p>ê°ì²´ë¥¼ ë³€í™˜í•˜ê±°ë‚˜ ê²€ì¦í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹„êµ.</p>
<h3 id="django-rest-framework-serializer" style="position:relative;"><a href="#django-rest-framework-serializer" aria-label="django rest framework serializer permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Django REST Framework Serializer</h3>
<p><a href="https://www.django-rest-framework.org/api-guide/serializers/">https://www.django-rest-framework.org/api-guide/serializers/</a></p>
<p>Django Formì€ HTML Formì„ ìœ„í•œ ê¸°ëŠ¥ì´ë¼ REST APIì˜ ì¤‘ì²© êµ¬ì¡° ë“± JSONì„ ëŒ€ì‘í•˜ê¸°ì—” ë¶€ì¡±í•˜ë‹¤.</p>
<pre><code class="language-python">class UserSerializer(serializers.Serializer):
  email = serializers.EmailField()
  username = serializers.CharField(max_length=100)

class CommentSerializer(serializers.Serializer):
  user = UserSerializer()
  content = serializers.CharField(max_length=200)
  created = serializers.DateTimeField()

serializer = CommentSerializer(data={'user': {'email': 'foobar', 'username': 'doe'}, 'content': 'baz'})
serializer.is_valid()
# False
serializer.errors
# {'user': {'email': ['Enter a valid e-mail address.']}, 'created': ['This field is required.']}
</code></pre>
<h3 id="wtforms" style="position:relative;"><a href="#wtforms" aria-label="wtforms permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WTForms</h3>
<p><a href="https://github.com/wtforms/wtforms">https://github.com/wtforms/wtforms</a></p>
<p>Django Integrationì¸ <a href="https://github.com/wtforms/wtforms-django">WTForms-Django í”„ë¡œì íŠ¸</a>ê°€ ìˆë‹¤.</p>
<pre><code class="language-python">class LocationForm(Form):
  id = HiddenField('id')
  title = StringField(_l('Title'), [Required()])
  location = CoordinatesField(_l('Coordinates'))

class ProjectForm(Form):
  title = StringField(_l('Title'))
  manager = StringField(_l('Manager'))
  description = StringField(_l('Description'))
  locations = FieldList(FormField(LocationForm), min_entries=1)

document = {
  'title': unicode,
  'description': unicode,
  'manager': unicode,
  'locations': [{
    'id': uuid.UUID,
    'title': unicode,
    'location': {'coordinates':[float], 'text':unicode}
    }],
  }

f = ProjectForm()
f.process(data=document)
f.locations.data
</code></pre>
<ul>
<li>ì˜ˆì œê°€ ëª¨ë‘ HTML Form ê¸°ì¤€ìœ¼ë¡œ ë˜ì–´ìˆë‹¤. HTML Formì„ ëŒ€ì‘í•˜ëŠ” ìš©ë„ì¸ ê±° ê°™ë‹¤.</li>
<li>cleaned dataë¥¼ ì–»ì„ ìˆ˜ ì—†ë‹¤. <code>StringField</code>ì— ìˆ«ìë¥¼ ë³´ë‚´ë©´? ìˆ«ìê°€ ë‚˜ì˜´. ë¬¸ìì—´ì´ ì•„ë‹˜.</li>
<li>Formì˜ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•´ì„œ ì‘ì—…ì„ í•¨. ì½”ë”© ì‹¤ìˆ˜ ê°€ëŠ¥ì„± ë†í›„</li>
</ul>
<h3 id="marshmallow" style="position:relative;"><a href="#marshmallow" aria-label="marshmallow permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Marshmallow</h3>
<p><a href="https://github.com/marshmallow-code/marshmallow">https://github.com/marshmallow-code/marshmallow</a></p>
<p>Djangoê°€ ì•„ë‹ˆë¼ë©´ ì´ ì†”ë£¨ì…˜ì´ ì ì ˆí•œ ë“¯.</p>
<pre><code class="language-python">class ArtistSchema(Schema):
    name = fields.Str()

class AlbumSchema(Schema):
    title = fields.Str(required=True)
    release_date = fields.Date()
    artist = fields.Nested(ArtistSchema())

bowie = dict(name="David Bowie")
album = dict(artist=bowie, title="Hunky Dory", release_date=date(1971, 12, 17))

schema = AlbumSchema()
result = schema.dump(album)
pprint(result, indent=2)
# { 'artist': {'name': 'David Bowie'},
#   'release_date': '1971-12-17',
#   'title': 'Hunky Dory'}
</code></pre>
<h2 id="rxpy" style="position:relative;"><a href="#rxpy" aria-label="rxpy permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rxpy</h2>
<p>RxpyëŠ” ReactiveXì˜ íŒŒì´ì¬ êµ¬í˜„ì²´ì´ë‹¤.</p>
<p><code>pip install rx</code>ë¡œ ì„¤ì¹˜. <code>rxpy</code>ê°€ ì•„ë‹ˆë‹¤.</p>
<h3 id="rxpy-example" style="position:relative;"><a href="#rxpy-example" aria-label="rxpy example permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rxpy example</h3>
<p><a href="https://www.tutorialspoint.com/rxpy/rxpy_concurrency_using_scheduler.htm">https://www.tutorialspoint.com/rxpy/rxpy_concurrency_using_scheduler.htm</a></p>
<p>ìœ„ ë¬¸ì„œì—ì„œ ì œê³µí•˜ëŠ” ì˜ˆì œì´ë‹¤.</p>
<p>ë‹¤ìŒ ì½”ë“œëŠ” rxpyë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ ë³‘ëŸ´ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•ŠëŠ” ì½”ë“œì´ë‹¤.</p>
<pre><code class="language-python">import random
import time
import rx
from rx import operators as ops
def adding_delay(value):
   time.sleep(random.randint(5, 20) * 0.1)
   return value
# Task 1
rx.of(1,2,3,4,5).pipe(
   ops.map(lambda a: adding_delay(a))
).subscribe(
   lambda s: print("From Task 1: {0}".format(s)),
   lambda e: print(e),
   lambda: print("Task 1 complete")
)
# Task 2
rx.range(1, 5).pipe(
   ops.map(lambda a: adding_delay(a))
).subscribe(
   lambda s: print("From Task 2: {0}".format(s)),
   lambda e: print(e),
   lambda: print("Task 2 complete")
)
input("Press any key to exit\n")
</code></pre>
<p>rxpyë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ë³‘ë ¬ì²˜ë¦¬ ë˜ì§€ ì•ŠëŠ”ë‹¤. ê²°ê³¼ë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤:</p>
<pre><code class="language-bash">From Task 1: 1
From Task 1: 2
From Task 1: 3
From Task 1: 4
From Task 1: 5
Task 1 complete
From Task 2: 1
From Task 2: 2
From Task 2: 3
From Task 2: 4
Task 2 complete
</code></pre>
<p>ì´ ì½”ë“œëŠ” <a href="https://rxpy.readthedocs.io/en/latest/reference_scheduler.html#rx.scheduler.CurrentThreadScheduler">CurrentThreadScheduler</a>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬í•œë‹¤. ì¦‰ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ì“´ë‹¤.</p>
<p><strong>ë³‘ë ¬ì²˜ë¦¬ í•˜ê¸°</strong></p>
<pre><code class="language-python">import multiprocessing
import time
from threading import current_thread

import rx
from rx import operators as ops
from rx.scheduler.threadpoolscheduler import ThreadPoolScheduler

# calculate cpu count, using which will create a ThreadPoolScheduler
thread_count = multiprocessing.cpu_count()
thread_pool_scheduler = ThreadPoolScheduler(thread_count)
print('CPU count is {0}'.format(thread_count))


def asyn(inp):
    return rx.from_callable(
        lambda: adding_delay(inp),
        scheduler=thread_pool_scheduler,
    )


def adding_delay(value):
    time.sleep(3)
    return value


def generate_nums():
    for i in range(25):
        yield i


def print_t(it):
    print(f'{current_thread().name}: {it}')


rx.from_iterable(generate_nums())\
    .pipe(
        ops.flat_map(asyn),
        ops.do_action(
            on_next=print_t,
            on_completed=lambda: print_t('process done'),
        ),
    )\
    .run()


print_t('program done')
</code></pre>
<p><code>run()</code>ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œë¥¼ ê¸°ë‹¤ë¦´ ìˆ˜ ìˆë‹¤. <code>subscribe()</code> ì‚¬ìš©í•˜ë©´ ìŠ¤ë ˆë“œë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¦‰ì‹œ ëë‚œë‹¤.</p>
<p>ìœ„ ì½”ë“œëŠ” cpu ìˆ˜ì¸ 12ê°œ ì“°ë ˆë“œë¡œ 25ê°œì˜ ì•„ì´í…œì„ ì²˜ë¦¬í•˜ëŠ” ì˜ˆì œë‹¤.
ê° ì•„ì´í…œë§ˆë‹¤ 3ì´ˆ ëŒ€ê¸°í•˜ë¯€ë¡œ, 12ê°œì˜ ì“°ë ˆë“œê°€ ë³‘ë ¬ì²˜ë¦¬í•˜ì—¬ ì´ 9ì´ˆê°€ ì†Œìš”ë˜ì–´ì•¼ í•œë‹¤.</p>
<pre><code class="language-bash">â¯ time python test.py
CPU count is 12
ThreadPoolExecutor-0_0: 0
ThreadPoolExecutor-0_3: 3
ThreadPoolExecutor-0_2: 2
ThreadPoolExecutor-0_5: 5
ThreadPoolExecutor-0_7: 7
ThreadPoolExecutor-0_9: 9
ThreadPoolExecutor-0_10: 10
ThreadPoolExecutor-0_1: 1
ThreadPoolExecutor-0_4: 4
ThreadPoolExecutor-0_8: 8
ThreadPoolExecutor-0_11: 11
ThreadPoolExecutor-0_6: 6             # ì—¬ê¸°ì„œ 3s
ThreadPoolExecutor-0_2: 13
ThreadPoolExecutor-0_5: 14
ThreadPoolExecutor-0_7: 15
ThreadPoolExecutor-0_3: 12
ThreadPoolExecutor-0_9: 16
ThreadPoolExecutor-0_10: 17
ThreadPoolExecutor-0_4: 19
ThreadPoolExecutor-0_0: 21
ThreadPoolExecutor-0_8: 20
ThreadPoolExecutor-0_1: 18
ThreadPoolExecutor-0_11: 22
ThreadPoolExecutor-0_6: 23            # ì—¬ê¸°ì„œ 6s
ThreadPoolExecutor-0_5: 24
ThreadPoolExecutor-0_5: process done
MainThread: program done
python test.py  0.06s user 0.03s system 0% cpu 9.169 total
</code></pre>
<p><code>ThreadPoolExecutor-0_N</code> ì´ë¦„ìœ¼ë¡œ 0~11, ì´ 12ê°œì˜ ì“°ë ˆë“œê°€ ë³´ì¸ë‹¤.
ì£¼ì„ìœ¼ë¡œ í‘œê¸°í•œ ì§€ì ì—ì„œ 3ì´ˆ, 6ì´ˆ ì†Œìš”ë˜ì—ˆë‹¤. ë§ˆì§€ë§‰ 24ë²ˆê¹Œì§€ 9ì´ˆ.</p>
<p>RXPY ì˜ˆì œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì—ˆë‹¤: <a href="https://github.com/edunga1/practice-rxpy">https://github.com/edunga1/practice-rxpy</a> <br>
dockerë¡œ ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆë‹¤.</p>
<h2 id="redis-py" style="position:relative;"><a href="#redis-py" aria-label="redis py permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>redis-py</h2>
<p><a href="https://github.com/redis/redis-py">https://github.com/redis/redis-py</a></p>
<h3 id="redis-connectionì„-ì „ì—­-ìƒì„±-vs-ìš”ì²­ë§ˆë‹¤-ìƒì„±" style="position:relative;"><a href="#redis-connection%EC%9D%84-%EC%A0%84%EC%97%AD-%EC%83%9D%EC%84%B1-vs-%EC%9A%94%EC%B2%AD%EB%A7%88%EB%8B%A4-%EC%83%9D%EC%84%B1" aria-label="redis connectionì„ ì „ì—­ ìƒì„± vs ìš”ì²­ë§ˆë‹¤ ìƒì„± permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>redis connectionì„ ì „ì—­ ìƒì„± vs ìš”ì²­ë§ˆë‹¤ ìƒì„±</h3>
<p>SO <a href="https://stackoverflow.com/questions/18022767/python-redis-connection-should-be-closed-on-every-request-flask/18024593">Python Redis connection should be closed on every request? (flask)</a> ì§ˆë¬¸ì´ë‹¤.</p>
<p>redis connectionì„ ì „ì—­ìœ¼ë¡œ í•˜ë‚˜ë§Œ ìƒì„±í•´ì„œ í•„ìš”í•œ ê³³ì—ì„œ import í•˜ì—¬ ì‚¬ìš©í•  ì§€, ë§¤ ìš”ì²­ë§ˆë‹¤ ìƒì„±í•˜ê³  ë‹«ì„ ì§€ì— ëŒ€í•œ ì§ˆë¬¸ì´ë‹¤.</p>
<p>ì „ìì²˜ëŸ¼ Top level ê°ì²´ëŠ” <a href="../nodejs">Node.js</a>ë‚˜ <a href="../python">python</a>ì—ì„œëŠ” ì¼ë°˜ì ì¸ ë°©ë²•ì´ë‹¤.
<a href="../spring-framework">Spring Framework</a>ì˜ ê²½ìš° ì£¼ì…ì— ëŒ€í•œ ë¬¸ì œì—ì„œ ììœ ë¡œìš°ë‹ˆ Beanìœ¼ë¡œ ìƒì„±í•˜ê³  í”„ë ˆì„ì›Œí¬ë¥¼ í†µí•´ ì£¼ì…ë°›ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.
ê·¸ë˜ì„œ nodeë‚˜ pythonì„ ì²˜ìŒ ì ‘í•˜ëŠ” ê²½ìš° ì˜ì¡´ ë¬¸ì œì— ëŒ€í•´ ë‚œí•´í•  ìˆ˜ ìˆë‹¤.
DI ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì´ìƒì ì¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë ¤ê³  í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•˜ë‹¤ê°€ ì§€ì¹˜ê²Œ ëœë‹¤.</p>
<p>ì–´ì¨Œë“  ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì€ <code>redis-py</code>ê°€ connection poolì„ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— í›„ìë¥¼ ì„ íƒí•˜ë”ë¼ë„ ìš°ë ¤í•˜ëŠ” ì„±ëŠ¥ ë¬¸ì œëŠ” ì—†ë‹¤ê³  í•œë‹¤.</p>
<p><code>redis-py</code>ì œì‘ìì˜ ì¶”ì²œì€ Global Instanceë¥¼ ê°€ì§€ê³  ì‚¬ìš©í•˜ëŠ” ê²ƒ:</p>
<blockquote>
<p>a. create a global redis client instance and have your code use that.
b. create a global connection pool and pass that to various redis instances throughout your code.</p>
</blockquote>
<p><a href="https://groups.google.com/g/redis-db/c/m9k2DN7GX-M/m/5i5HtXkbeBYJ?pli=1">google groupsì—ì„œ ì œì‘ìì˜ ì›ë¬¸</a>ì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>
<h2 id="django-web-framework" style="position:relative;"><a href="#django-web-framework" aria-label="django web framework permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Django Web Framework</h2>
<h3 id="onetoonefield-vs-foreignkeyfield" style="position:relative;"><a href="#onetoonefield-vs-foreignkeyfield" aria-label="onetoonefield vs foreignkeyfield permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>OneToOneField</code> vs <code>ForeignKeyField</code></h3>
<p>ë‘˜ ë‹¤ related_nameìœ¼ë¡œ ì—­ì°¸ì¡° í•  ìˆ˜ ìˆì§€ë§Œ, <code>ForeignKey</code> ëŠ” <code>QuerySet</code>ì„ ë°˜í™˜í•˜ë¯€ë¡œ <code>None</code> ì²´í¬ë¥¼ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.
ë°˜ë©´ì— <code>OneToOneField</code>ëŠ” <code>RelatedObjectDoesNotExist</code> ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</p>
<p>ë”°ë¼ì„œ ì¢€ ë” ìœ ì—°í•œ <code>ForeignKey</code> ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í–ˆì§€ë§Œ, <code>ForeignKey</code> + <code>unique</code> ë˜ëŠ” <code>primary_key</code> ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ ì„œë²„ ì‹œì‘ ì‹œ <code>Setting unique=True on a ForeignKey has the same effect as using a OneToOneField</code> warningì„ ì¶œë ¥í•œë‹¤.</p>
<p>ì´ ì£¼ì˜ ë¬¸êµ¬ì— ëŒ€í•´ì„œ ì´ë¯¸ <a href="http://djangoproject.com">djangoproject.com</a>ì— ë³´ê³ ë˜ì–´ ìˆë‹¤.</p>
<p><a href="https://code.djangoproject.com/ticket/26044">Misleading Warning "HINT: ForeignKey(unique=True) is usually better served by a OneToOneField."</a></p>
<p>ë‹µë³€ì€ "ì„¤ì •ì„ í†µí•´ ì£¼ì˜ ë¬¸êµ¬ë¥¼ ê°ì¶°ë¼" ë¼ëŠ” ë‰˜ì•™ìŠ¤ë¼ ë§¤ìš° ë¶ˆí¸í•œ ë¶€ë¶„.</p>
<h3 id="ë³µí•©í‚¤ë¥¼-foreignkeyë¡œ-ì‚¬ìš©í•˜ëŠ”-ë°©ë²•-ì°¾ê¸°" style="position:relative;"><a href="#%EB%B3%B5%ED%95%A9%ED%82%A4%EB%A5%BC-foreignkey%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%B0%BE%EA%B8%B0" aria-label="ë³µí•©í‚¤ë¥¼ foreignkeyë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì°¾ê¸° permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ë³µí•©í‚¤ë¥¼ ForeignKeyë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì°¾ê¸°</h3>
<p>ì•„ì§ í•´ê²°í•˜ì§€ ëª»í–ˆë‹¤.</p>
<p><code>source_type='order', source_id=1234</code>ì™€ ê°™ì´ ë³µí•©í‚¤ì˜ <code>source_type</code>ì— ë”°ë¼ ê´€ê³„ë˜ëŠ” í…Œì´ë¸”ì´ ë‹¬ë¼ì§„ë‹¤.
<code>source_id</code>ëŠ” ê´€ê³„ ëŒ€ìƒì˜ IDë‹¤.</p>
<p>ë°©ë²•ì„ ì°¾ì§€ ëª»í•´ì„œ ì§ì ‘ prefetchí•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ë“±, ë³µì¡í•˜ê²Œ ì²˜ë¦¬í•˜ê³  ìˆë‹¤.</p>
<p><a href="https://pypi.org/project/django-composite-foreignkey/">django-composite-foreignkey</a></p>
<p>2ë…„ë™ì•ˆ ê´€ë¦¬ë˜ì§€ ì•Šì€ ì €ì¥ì†Œ. ì´ê±° ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œ?</p>
<p><a href="https://stackoverflow.com/questions/12716970/get-contenttype-id-in-django-for-generic-relation">Get ContentType id in Django for generic relation</a></p>
<p><code>GenericForeignKey</code>ì™€ <code>ForeignKey(ContentType) + choices</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ë ê¹Œ?</p>
<p><code>source_type</code> ì´ <code>trade | order</code>ë¡œ í…Œì´ë¸” ì´ë¦„ ì¡°í•©ìœ¼ë¡œë§Œ ì €ì¥ëœë‹¤.
ì›í•˜ëŠ” í¬ë§·ìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.</p>
<h2 id="ë””ë²„ê¹…" style="position:relative;"><a href="#%EB%94%94%EB%B2%84%EA%B9%85" aria-label="ë””ë²„ê¹… permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ë””ë²„ê¹…</h2>
<pre><code class="language-python">import pdb; pdb.set_trace()
</code></pre>
<p>ìœ„ ì½”ë“œë¡œ breakpointë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</p>
<pre><code class="language-bash">(Pdb) ?

Documented commands (type help &#x3C;topic>):
========================================
EOF    bt         cont      enable  jump  pp       run      unt
a      c          continue  exit    l     q        s        until
alias  cl         d         h       list  quit     step     up
args   clear      debug     help    n     r        tbreak   w
b      commands   disable   ignore  next  restart  u        whatis
break  condition  down      j       p     return   unalias  where

Miscellaneous help topics:
==========================
exec  pdb

Undocumented commands:
======================
retval  rv
</code></pre>
<p>ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´:</p>
<ul>
<li><code>?</code> ë„ì›€ë§</li>
<li><code>l</code> ì½”ë“œë¥¼ ì¶œë ¥í•œë‹¤. ë¼ì¸ ë²ˆí˜¸ë¥¼ ì¸ìë¡œ ë°›ìœ¼ë©°, ì¸ìê°€ ì—†ìœ¼ë©´ í˜„ì¬ ë¼ì¸ì„ ì¶œë ¥í•œë‹¤.
<ul>
<li>python 2ì—ì„œëŠ” <code>l</code> ì—°ì† í˜¸ì¶œ ì‹œ ë‹¤ìŒ í˜ì´ì§€ë¥¼ ì¶œë ¥í•´ì„œ, <code>l .</code> ì²˜ë ´ ëª…ì‹œì ìœ¼ë¡œ í˜„ì¬ ë¼ì¸ì„ ì¶œë ¥í–ˆë˜ ê±° ê°™ë‹¤.</li>
</ul>
</li>
<li><code>c</code> ê³„ì† ì§„í–‰í•œë‹¤.</li>
<li><code>q</code> ì¢…ë£Œí•œë‹¤.</li>
<li><code>n</code> ë‹¤ìŒ ë¼ì¸ê¹Œì§€ ì§„í–‰í•œë‹¤.</li>
</ul>
<p>ë””ë²„ê¹… ëª…ë ¹ì–´ëŠ” ì½”ë“œì˜ ìš”ì†Œ ì´ë¦„ê³¼ ì¶©ëŒí•  ìˆ˜ ìˆëŠ”ë°, ì´ëŸ´ ë•ŒëŠ” <code>!</code>ë¥¼ ë¶™ì—¬ì„œ ì‚¬ìš©í•œë‹¤: <code>!l .</code></p>
<p>ë””ë²„ê¹…í•  ë•Œ <code>dir()</code>, <code>type()</code>ëŠ” íŠ¹íˆ ìì£¼ ì‚¬ìš©í•œë‹¤.</p>
<p><code>dir()</code> ê°ì²´ì˜ ì†ì„±ì„ ì¶œë ¥í•œë‹¤.</p>
<pre><code class="language-python">(Pdb) dir(datetime)
['__add__', '__class__', '__delattr__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__le__', '__lt__', '__ne__', '__new__', '__radd__', '__reduce__', '__reduce_ex__', '__repr__', '__rsub__', '__setattr__', '__sizeof__', '__str__', '__sub__', '__subclasshook__', 'astimezone', 'combine', 'ctime', 'date', 'day', 'dst', 'fromordinal', 'fromtimestamp', 'hour', 'isocalendar', 'isoformat', 'isoweekday', 'max', 'microsecond', 'min', 'minute', 'month', 'now', 'replace', 'resolution', 'second', 'strftime', 'strptime', 'time', 'timetuple', 'timetz', 'today', 'toordinal', 'tzinfo', 'tzname', 'utcfromtimestamp', 'utcnow', 'utcoffset', 'utctimetuple', 'weekday', 'year']
</code></pre>
<p><code>type()</code> ê°ì²´ì˜ íƒ€ì…ì„ ì¶œë ¥í•œë‹¤.</p>
<pre><code class="language-python">(Pdb) type(datetime.now())
&#x3C;type 'datetime.datetime'>
</code></pre></div><div class="Comments__Container-sc-1ajj4d9-0 efeuka"><hr/><div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/wiki/python/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-d654670e3e41454944a4.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-75813e24a00d9c44de9f.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-221d99d4ef6112819b57.js\"],\"component---src-pages-wiki-markdown-remark-fields-slug-tsx\":[\"/component---src-pages-wiki-markdown-remark-fields-slug-tsx-58c39d492e8cdc5eb920.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="753ffa52c2def2931df0";</script><script src="/cat-logic/webpack-runtime-9b60e5052990b0900c30.js" async></script><script src="/cat-logic/framework-3d24f1df4806fe1cdcfc.js" async></script><script src="/cat-logic/app-d654670e3e41454944a4.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>