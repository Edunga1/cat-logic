<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.12.9"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style data-styled="" data-styled-version="5.3.11">.jKwTdT{box-sizing:border-box;background-color:#f5f5f5;padding:1rem 1rem 1rem 0;}/*!sc*/
.jKwTdT ul{list-style:none;padding-left:1rem;margin:0;font-size:.8rem;}/*!sc*/
.jKwTdT ul p{margin:0;}/*!sc*/
.jKwTdT a{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g1[id="Toc__Container-sc-1f76i2s-0"]{content:"jKwTdT,"}/*!sc*/
.jzROSZ{overflow:auto;}/*!sc*/
.jzROSZ a{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.jzROSZ code:not(pre code){background-color:#f5f5f5;border-radius:.5rem;padding:.2rem .4rem;}/*!sc*/
.jzROSZ pre:has(code){font-size:85%;background-color:#f5f5f5;border-radius:.5rem;padding:1rem;overflow:auto;}/*!sc*/
.jzROSZ img{max-width:100%;}/*!sc*/
.jzROSZ blockquote{border-left:4px solid #ddd;padding-left:1rem;margin-left:0;font-style:italic;}/*!sc*/
data-styled.g2[id="WikiContent__Container-sc-q3jb6a-0"]{content:"jzROSZ,"}/*!sc*/
.eaihEh{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.eaihEh:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
data-styled.g3[id="Link__A-sc-e7w5ww-0"]{content:"eaihEh,"}/*!sc*/
.gcJKrk{padding-top:20rem;}/*!sc*/
data-styled.g4[id="Comments__Container-sc-1ajj4d9-0"]{content:"gcJKrk,"}/*!sc*/
.gqosYh{display:grid;grid-template-columns:1fr;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;}/*!sc*/
@media (min-width:700px){.gqosYh{grid-template-columns:minmax(300px,1fr) minmax(400px,1000px);}}/*!sc*/
data-styled.g5[id="Wiki__Container-sc-16q9onf-0"]{content:"gqosYh,"}/*!sc*/
.dOTUaa{display:none;}/*!sc*/
.dOTUaa > div:nth-child(2){padding-top:1rem;}/*!sc*/
@media (min-width:700px){.dOTUaa{display:block;}}/*!sc*/
data-styled.g6[id="Wiki__Side-sc-16q9onf-1"]{content:"dOTUaa,"}/*!sc*/
.kswmXr{padding:0 1rem;overflow:auto;}/*!sc*/
@media (min-width:700px){.kswmXr > div:nth-child(2){display:none;}}/*!sc*/
data-styled.g7[id="Wiki__Main-sc-16q9onf-2"]{content:"kswmXr,"}/*!sc*/
</style><link rel="sitemap" type="application/xml" href="/cat-logic/sitemap-index.xml"/><title data-gatsby-head="true">Cat Logic - Testing</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Wiki__Container-sc-16q9onf-0 gqosYh"><div class="Wiki__Side-sc-16q9onf-1 dOTUaa"><div class="Toc__Container-sc-1f76i2s-0 jKwTdT"><ul>
<li>
<p><a href="#testing">Testing</a></p>
<ul>
<li>
<p><a href="#setup-and-teardown">Setup and Teardown</a></p>
<ul>
<li><a href="#transaction-start---rollback">Transaction Start - Rollback</a></li>
<li><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C%EC%9D%98-transactional-%EC%82%AC%EC%9A%A9%EC%97%90-%EB%8C%80%ED%95%B4-%EC%A7%88%EB%AC%B8%EC%9D%B4-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4---toby-vs-chatgpt-2">í…ŒìŠ¤íŠ¸ì—ì„œì˜ @Transactional ì‚¬ìš©ì— ëŒ€í•´ ì§ˆë¬¸ì´ ìˆìŠµë‹ˆë‹¤ - Toby vs ChatGPT (2)</a></li>
</ul>
</li>
<li>
<p><a href="#better-specs">Better Specs</a></p>
<ul>
<li><a href="#single-expectation%EB%8B%A8%EC%9D%BC-%EA%B2%80%EC%A6%9D">Single Expectation(ë‹¨ì¼ ê²€ì¦)</a></li>
</ul>
</li>
<li>
<p><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1">í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±</a></p>
<ul>
<li><a href="#%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C%EB%8F%84-mocking%ED%95%98%EB%A9%B4-%ED%8E%B8%EB%A6%AC%ED%95%98%EB%8B%A4">í†µí•© í…ŒìŠ¤íŠ¸ì—ì„œë„ mockingí•˜ë©´ í¸ë¦¬í•˜ë‹¤.</a></li>
</ul>
</li>
<li>
<p><a href="#ab-test">A/B Test</a></p>
<ul>
<li><a href="#vwo">VWO</a></li>
</ul>
</li>
<li>
<p><a href="#scraps">Scraps</a></p>
<ul>
<li><a href="#%EC%99%9C-%EC%9C%A0%EB%8B%9B-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-%EC%9D%98%EC%A1%B4%EC%84%B1%EC%9D%84-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%83%EC%9D%B4-%EC%A4%91%EC%9A%94%ED%95%9C%EA%B0%80%EC%9A%94">ì™œ ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ ì˜ì¡´ì„±ì„ í…ŒìŠ¤íŠ¸í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¤‘ìš”í•œê°€ìš”?</a></li>
<li><a href="#%EC%9C%A0%EB%8B%9B-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-%EC%83%81%EC%88%98%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EB%A7%88%EC%84%B8%EC%9A%94">ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ ìƒìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.</a></li>
<li><a href="#%EC%9C%A0%EB%8B%9B-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-damp-not-dry%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%84-%EC%9D%98%EB%AF%B8%ED%95%98%EB%82%98%EC%9A%94">ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ "DAMP not DRY"ëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ë‚˜ìš”?</a></li>
</ul>
</li>
</ul>
</li>
</ul></div><span><a href="../database" style="font-size:0.5em;margin-right:0.5em">database</a><a href="../test-driven-development" style="font-size:0.5em;margin-right:0.5em">test-driven-development</a><a href="../architecture" style="font-size:0.5em;margin-right:0.5em">architecture</a><a href="../spring-framework" style="font-size:0.5em;margin-right:0.5em">spring-framework</a><a href="../kotlin" style="font-size:0.5em;margin-right:0.5em">kotlin</a></span></div><div class="Wiki__Main-sc-16q9onf-2 kswmXr"><h1>Testing</h1><div class="Toc__Container-sc-1f76i2s-0 jKwTdT"><ul>
<li>
<p><a href="#testing">Testing</a></p>
<ul>
<li>
<p><a href="#setup-and-teardown">Setup and Teardown</a></p>
<ul>
<li><a href="#transaction-start---rollback">Transaction Start - Rollback</a></li>
<li><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C%EC%9D%98-transactional-%EC%82%AC%EC%9A%A9%EC%97%90-%EB%8C%80%ED%95%B4-%EC%A7%88%EB%AC%B8%EC%9D%B4-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4---toby-vs-chatgpt-2">í…ŒìŠ¤íŠ¸ì—ì„œì˜ @Transactional ì‚¬ìš©ì— ëŒ€í•´ ì§ˆë¬¸ì´ ìˆìŠµë‹ˆë‹¤ - Toby vs ChatGPT (2)</a></li>
</ul>
</li>
<li>
<p><a href="#better-specs">Better Specs</a></p>
<ul>
<li><a href="#single-expectation%EB%8B%A8%EC%9D%BC-%EA%B2%80%EC%A6%9D">Single Expectation(ë‹¨ì¼ ê²€ì¦)</a></li>
</ul>
</li>
<li>
<p><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1">í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±</a></p>
<ul>
<li><a href="#%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C%EB%8F%84-mocking%ED%95%98%EB%A9%B4-%ED%8E%B8%EB%A6%AC%ED%95%98%EB%8B%A4">í†µí•© í…ŒìŠ¤íŠ¸ì—ì„œë„ mockingí•˜ë©´ í¸ë¦¬í•˜ë‹¤.</a></li>
</ul>
</li>
<li>
<p><a href="#ab-test">A/B Test</a></p>
<ul>
<li><a href="#vwo">VWO</a></li>
</ul>
</li>
<li>
<p><a href="#scraps">Scraps</a></p>
<ul>
<li><a href="#%EC%99%9C-%EC%9C%A0%EB%8B%9B-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-%EC%9D%98%EC%A1%B4%EC%84%B1%EC%9D%84-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%83%EC%9D%B4-%EC%A4%91%EC%9A%94%ED%95%9C%EA%B0%80%EC%9A%94">ì™œ ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ ì˜ì¡´ì„±ì„ í…ŒìŠ¤íŠ¸í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¤‘ìš”í•œê°€ìš”?</a></li>
<li><a href="#%EC%9C%A0%EB%8B%9B-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-%EC%83%81%EC%88%98%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EB%A7%88%EC%84%B8%EC%9A%94">ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ ìƒìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.</a></li>
<li><a href="#%EC%9C%A0%EB%8B%9B-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-damp-not-dry%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%84-%EC%9D%98%EB%AF%B8%ED%95%98%EB%82%98%EC%9A%94">ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ "DAMP not DRY"ëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ë‚˜ìš”?</a></li>
</ul>
</li>
</ul>
</li>
</ul></div><a href="/" class="Link__A-sc-e7w5ww-0 eaihEh">ğŸ¾</a><div class="WikiContent__Container-sc-q3jb6a-0 jzROSZ">
<p>í…ŒìŠ¤íŠ¸ ì‘ì„± ë°©ë²•. ë¹„-í”„ë¡œê·¸ë˜ë° í…ŒìŠ¤íŠ¸ ê´€ë ¨ëœ ë‚´ìš©ë„ í¬í•¨í•œë‹¤.</p>
<h2 id="setup-and-teardown" style="position:relative;"><a href="#setup-and-teardown" aria-label="setup and teardown permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup and Teardown</h2>
<p>ê° í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ì „/í›„ í•  ì¼ì„ ê°ê° <strong>Setup</strong> <strong>Teardown</strong> ì´ë¼í•œë‹¤.</p>
<h3 id="transaction-start---rollback" style="position:relative;"><a href="#transaction-start---rollback" aria-label="transaction start   rollback permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Transaction Start - Rollback</h3>
<p>ë°ì´í„°ë² ì´ìŠ¤ë¥¼ Mocking í•˜ì§€ ì•Šê³  í…ŒìŠ¤íŠ¸ìš© ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë„ìš´ë‹¤ê³  ê°€ì •í•œë‹¤.</p>
<p>ì¼ë°˜ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ëŠ”</p>
<ol>
<li>DBì— ë°ì´í„°ë¥¼ ì…ë ¥ - ì´ëŸ¬í•œ ë°ì´í„°ê°€ ì£¼ì–´ì¡Œì„ ë•Œ (GIVEN)</li>
<li>API, í•¨ìˆ˜ë¥¼ ì‹¤í–‰ - í…ŒìŠ¤íŠ¸í•˜ê³ ì í•˜ëŠ” ê¸°ëŠ¥ ì‹¤í–‰ (WHEN)</li>
<li>ë°ì´í„°ì˜ ë³€ê²½/ë°˜í™˜ í™•ì¸ (THEN)</li>
</ol>
<p>ìœ„ ê³¼ì •ì„ ê±°ì¹œë‹¤.</p>
<p>í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë©´ì„œ ì‚¬ìš©í•œ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ì œê±°í•˜ì§€ ì•Šìœ¼ë©´, ë‹¤ìŒ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì„ ë¯¸ì¹˜ê²Œ ëœë‹¤.
ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ Setupì—ì„œ <code>TRANSACTION START</code>, Teardownì—ì„œ <code>ROLLBACK</code> í•˜ë©´
DB ìƒíƒœë¥¼ ë‹¤ì‹œ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤.</p>
<p>íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ , <code>DELETE FROM</code> DDLì„ í†µí•˜ì—¬ ë°ì´í„°ë¥¼ ì‚­ì œí•  ìˆ˜ë„ ìˆìœ¼ë‚˜,
í…ŒìŠ¤íŠ¸ë¥¼ ì¤‘ê°„ì— ë©ˆì·„ì„ ë•Œ ìƒíƒœë¥¼ ë³µêµ¬í•  ìˆ˜ ì—†ë‹¤.
ë˜, íŠ¸ëœì­ì…˜ì€ ìµœì†Œí•œì˜ ì•ˆì •ì¥ì¹˜ê°€ ë  ìˆ˜ ìˆì„ ê±° ê°™ë‹¤.
ì˜ëª» ì…ë ¥í•œ ë°ì´í„°ë² ì´ìŠ¤ URLì„ ëŒ€ì‘í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ.</p>
<p>DjangoëŠ” í…ŒìŠ¤íŠ¸ ì‹œ ë°ì´í„° ì‚­ì œ ì—¬ë¶€ì— ëŒ€í•œ ì˜µì…˜ì´ ìˆë‹¤:<br>
<a href="https://docs.djangoproject.com/en/2.2/topics/testing/advanced/#django-db-connection-creation">https://docs.djangoproject.com/en/2.2/topics/testing/advanced/#django-db-connection-creation</a></p>
<p>Springì—ì„œ í…ŒìŠ¤íŠ¸ì— <code>@Transactional</code> ì‚¬ìš©í•˜ì§€ ë§ ê²ƒì„ ì„¤ëª…í•˜ëŠ” ê¸€ë„ ìˆë‹¤:<br>
<a href="https://dev.to/henrykeys/don-t-use-transactional-in-tests-40eb">Donâ€™t Use @Transactional in Tests</a></p>
<p>í…ŒìŠ¤íŠ¸ì— <code>@Transactional</code>ì„ ë¶™ì´ë©´ ìœ„ì™€ í…ŒìŠ¤íŠ¸ë¥¼ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì„ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ê·¸ëŸ¬ë©´ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œì ë„ ìˆë‹¤.</p>
<ul>
<li><a href="https://ko.wikipedia.org/wiki/%EA%B1%B0%EC%A7%93_%EC%96%91%EC%84%B1%EA%B3%BC_%EA%B1%B0%EC%A7%93_%EC%9D%8C%EC%84%B1">false negative</a>ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ë§ì¹¨</li>
<li>ìš´ì˜ì½”ë“œì—ëŠ” ë²„ê·¸ê°€ ìˆì§€ë§Œ, í…ŒìŠ¤íŠ¸ì—ì„œ ì„±ê³µí•˜ëŠ” ê²ƒì„ <strong>false negative</strong> ë¼ê³ í•œë‹¤.</li>
<li>ì´ëŠ” ê°œë°œìì˜ í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ì‹ ë¢°ë„ ê°ì†Œë¡œ ì´ì–´ì§„ë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ëœ ì‘ì„±í•˜ê²Œ ë  ê²ƒì´ë‹¤.</li>
<li>ì§ì ‘ í…ŒìŠ¤íŠ¸í•˜ì§€ ì•ŠëŠ” ì´ìƒ ë°œê²¬í•  ìˆ˜ ì—†ëŠ” ë²„ê·¸ê°€ ìš´ì˜ ì½”ë“œì— í¬í•¨ëœë‹¤.</li>
</ul>
<p>ê¸€ì—ì„œ ì„¤ëª…í•˜ëŠ” false negative ì˜ˆì œ: ìš´ì˜ ì½”ë“œì—ëŠ” <code>@Transactional</code> ë¹ ì¡Œì§€ë§Œ, í…ŒìŠ¤íŠ¸ì—ëŠ” ìˆì–´ì„œ ì„±ê³µí•˜ê³ , ì§ì ‘ í˜¸ì¶œí•˜ë©´ ì‹¤íŒ¨í•œë‹¤.</p>
<h3 id="í…ŒìŠ¤íŠ¸ì—ì„œì˜-transactional-ì‚¬ìš©ì—-ëŒ€í•´-ì§ˆë¬¸ì´-ìˆìŠµë‹ˆë‹¤---toby-vs-chatgpt-2" style="position:relative;"><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C%EC%9D%98-transactional-%EC%82%AC%EC%9A%A9%EC%97%90-%EB%8C%80%ED%95%B4-%EC%A7%88%EB%AC%B8%EC%9D%B4-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4---toby-vs-chatgpt-2" aria-label="í…ŒìŠ¤íŠ¸ì—ì„œì˜ transactional ì‚¬ìš©ì— ëŒ€í•´ ì§ˆë¬¸ì´ ìˆìŠµë‹ˆë‹¤   toby vs chatgpt 2 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>í…ŒìŠ¤íŠ¸ì—ì„œì˜ @Transactional ì‚¬ìš©ì— ëŒ€í•´ ì§ˆë¬¸ì´ ìˆìŠµë‹ˆë‹¤ - Toby vs ChatGPT (2)</h3>
<p><a href="https://youtu.be/-961J2c1YsM">https://youtu.be/-961J2c1YsM</a></p>
<ul>
<li>ì˜ìƒì˜ <a href="https://www.inflearn.com/questions/792383/%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C%EC%9D%98-transactional-%EC%82%AC%EC%9A%A9%EC%97%90-%EB%8C%80%ED%95%B4-%EC%A7%88%EB%AC%B8%EC%9D%B4-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4">ì§ˆë¬¸</a></li>
<li><a href="https://youtu.be/-961J2c1YsM?t=590">09:50</a> Spring Annotationì„ ì§€ì›í•˜ì§€ ì•Šë˜ ì‹œì ˆì—ë„ AbstractTransactionalSpringContextTests ì‚¬ìš©í•˜ë©´ @Transactionalì„ ì‚¬ìš©í•œ ë¡¤ë°± í…ŒìŠ¤íŠ¸ì™€ ê°™ì€ íš¨ê³¼ë¥¼ ë‚´ëŠ” ë°©ë²•ì´ ìˆì—ˆë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=768">12:48</a> ì§ˆë¬¸ ë‚´ìš©: ìš´ì˜ ì½”ë“œê°€ íŠ¸ëœì­ì…˜ ê²½ê³„ ë°–ì—ì„œ ë³€ê²½í•˜ëŠ” ì˜ëª»ëœ ì½”ë“œì˜€ëŠ”ë°, í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì„±ê³µí•˜ëŠ” ë¬¸ì œ.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=1020">17:00</a> AfterEachì—ì„œ deleteAllí•´ì„œ ì´ˆê¸°í™”í•˜ë ¤ë‹ˆ ì¼ì¼ì´ ì‘ì„±í•´ì•¼ í•˜ëŠ” ì ì´ ë¶ˆí¸í•˜ë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=1925">32:05</a> ë¡¤ë°± í…ŒìŠ¤íŠ¸ê°€ ì—†ë˜ ì‹œì ˆì—ë„ dbunitì´ë¼ëŠ” ë„êµ¬ë¡œ ì¼ì¼ì´ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ ì „ì— í…Œì´ë¸”ì„ ëŒë¦¬ëŠ” ì²˜ë¦¬ë¥¼ í–ˆì—ˆë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=1990">33:10</a> @Transactional í…ŒìŠ¤íŠ¸ ì§€ì›ì€ í˜ì‹ ì ì´ì—ˆê³ , ìŠ¤í”„ë§ ê°•ì˜ë‚˜ ìŠ¤í”„ë§ ê°œë°œ íŒ€ì—ì„œë„ ì‚¬ìš©ì„ ì¶”ì²œí•˜ê³  ìˆë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=2019">33:39</a> í•˜ì§€ë§Œ <strong>íŠ¸ëœì­ì…˜ ê²½ê³„ë¥¼ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¡œ í™•ì¥í•´ë„ ë¬¸ì œ ì—†ëŠ” ê²½ìš°ì—ë§Œ ìœ íš¨í•˜ë‹¤</strong>. ì§ˆë¬¸ì²˜ëŸ¼ íŠ¸ëœì­ì…˜ ê²½ê³„ë¥¼ ì œëŒ€ë¡œ ì„¤ì •í•˜ì§€ ì•Šì€ ì½”ë“œë„ ì •ìƒì ì¸ ê²ƒì²˜ëŸ¼ ë³´ì´ëŠ” ë¬¸ì œê°€ ìˆë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=2123">35:23</a> ì´ˆì°½ê¸°ì—ëŠ” DAOë¥¼ ì‚¬ìš©í•  ë•Œ ëª…ì‹œì ì¸ íŠ¸ëœì­ì…˜ ì‹œì‘í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí–ˆì—ˆë‹¤. spring-data-jpa repositoryëŠ” ì•Œì•„ì„œ íŠ¸ëœì­ì…˜ì„ ë§Œë“ ë‹¤. í¸ë¦¬í•˜ì§€ë§Œ ëª…ì‹œì ì´ì§€ ì•Šì•„ì„œ ê°œì¸ì ìœ¼ë¡œ ë¶ˆí¸í•˜ë‹¤. ì¤‘ì²© íŠ¸ëœì­ì…˜ êµ¬ì¡°ì¸ ê²½ìš° í…ŒìŠ¤íŠ¸ì˜ íŠ¸ëœì­ì…˜ì´ ì´ë¥¼ ë™ì‘í•˜ê²Œ ë§Œë“¦. ì‚¬ì „ ì ê²€í•˜ê¸° ì–´ë ¤ì›€.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=2380">39:40</a> ì§ˆë¬¸ì²˜ëŸ¼ detached ì˜¤ë¸Œì íŠ¸ì˜ ìë™ ê°ì§€ë˜ì§€ ì•ŠëŠ” ì½”ë“œê°€ @Transactional í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì •ìƒ ë™ì‘í•˜ê²Œ ë³´ì´ê±°ë‚˜, @Transactionalì´ ë™ì¼ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ ì‚¬ì´ì˜ í˜¸ì¶œì—ì„œ ì ìš©ë˜ì§€ ì•ŠëŠ” ìŠ¤í”„ë§ ê¸°ë³¸ í”„ë¡ì‹œ AOPì˜ ë¬¸ì œë„ ì •ìƒ ë™ì‘í•˜ê²Œ ë§Œë“ ë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=2450">40:50</a> JPA saveí•œ ê°ì²´ê°€ ì˜ì† ì»¨í…ìŠ¤íŠ¸ì—ë§Œ ìˆë‹¤ê°€, ë¡¤ë°±í•˜ë©´ ì‚¬ë¼ì§€ë¯€ë¡œ í…ŒìŠ¤íŠ¸ì—ì„œ ë°˜ë“œì‹œ flush í›„ì— ê²€ì¦í•´ì•¼ í•œë‹¤. ì•„ë‹ˆë©´ ë‹¤ì‹œ ì¿¼ë¦¬ë¡œ ì¡°íšŒí•˜ì—¬ í™•ì¸í•˜ëŠ” ê²€ì¦ì´ í•„ìš”í•˜ë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=2584">43:04</a> ì´ëŸ¬í•œ ë‹¨ì ë“¤ì´ ìˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³ , <strong>@Transactional í…ŒìŠ¤íŠ¸ëŠ” ì ê·¹ì ìœ¼ë¡œ ê¶Œì¥í•œë‹¤</strong>. ë³‘ë ¬ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ê³ , í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì´ ë¹¨ë¼ì§€ë¯€ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì ê·¹ì ìœ¼ë¡œ ì‘ì„±í•˜ê²Œ ë§Œë“ ë‹¤. í…ŒìŠ¤íŠ¸ë§ˆë‹¤ í…Œì´ë¸” clean up í•˜ëŠ” ê²ƒì€ ì–´ë–¤ í…Œì´ë¸”ì„ ìˆ˜ì •í•˜ëŠ”ì§€ í•­ìƒ ìƒê°í•´ì•¼í•˜ê³  clean up ì½”ë“œê°€ í…ŒìŠ¤íŠ¸ ì½”ë“œë³´ë‹¤ ë§ì•„ì§€ë©°, clean upì„ ë¹¼ë¨¹ìœ¼ë©´ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ ì„±ê³µí•˜ê²Œ ë§Œë“¤ê¸°ë„ í•¨.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=2678">44:38</a> ëŒ€ì‹  ì œëŒ€ë¡œ ê²€ì¦ë˜ì§€ ì•Šì€ ìœ„ì˜ ë¬¸ì œë“¤ì€ ì˜ ì¸ì‹í•´ì•¼ í•œë‹¤. <strong>ë¬¸ì œê°€ ë˜ëŠ” í…ŒìŠ¤íŠ¸ëŠ” @Transactional í…ŒìŠ¤íŠ¸ ëŒ€ì‹  ì§ì ‘ ì´ˆê¸°í™”í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±</strong>í•œë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=2742">45:42</a> í…ŒìŠ¤íŠ¸ë¥¼ ì˜ ì‘ì„±í•´ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ì™„ë²½í•˜ê²Œ ê²€ì¦í•  ìˆ˜ ì—†ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì¸ì‹í•œë‹¤. í†µí•© í…ŒìŠ¤íŠ¸ ì™¸ì— ì¸ìˆ˜ í…ŒìŠ¤íŠ¸, e2e, http api í…ŒìŠ¤íŠ¸ë„ ì§„í–‰í•œë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=2835">47:15</a> @Transactional í…ŒìŠ¤íŠ¸ì˜ ë¬¸ì œì ë“¤ì€ ì½”ë”© ê°€ì´ë“œë¥¼ ì‘ì„±í•˜ê³ , ì½”ë“œ ë¦¬ë·°ì—ì„œë„ ì¸ì§€í•œë‹¤. ì •ì  ë¶„ì„ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì œí•œì„ ê±¸ì–´ë‘ëŠ” ë°©ë²•ë„ ì‚¬ìš©í•œë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=2898">48:18</a> ì—¬ëŸ¬ê°œì˜ íŠ¸ëœì­ì…˜ì„ ê²€ì¦í•˜ëŠ” ê²ƒì€ í…ŒìŠ¤íŠ¸ ê²½ê³„ê°€ ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ ê²€ì¦í•˜ëŠ” ë¬¸ì œì¸ë°, ì´ê²ƒì€ í…ŒìŠ¤íŠ¸ì—ì„œ ê²€ì¦í•  ìˆ˜ ì—†ë‹¤. ì¤‘ê°„ì— ì—ëŸ¬ê°€ ë°œìƒí•´ì„œ ë¡¤ë°±ë˜ëŠ”ì§€ëŠ” ìˆ˜ë™ìœ¼ë¡œë¼ë„ í…ŒìŠ¤íŠ¸í•´ë³¸ë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=3023">50:23</a> <strong>DBë¥¼ ì§ì ‘ í´ë¦¬ì–´í•˜ëŠ” ê²ƒì€ ì¶”ì²œí•˜ì§€ ì•ŠëŠ”ë‹¤</strong>. ì´ˆê¸° ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ì…ë ¥í•´ë‘ê³ (ìœ ì € ë°ì´í„°ë¥¼ 30ê°œì •ë„ ë¯¸ë¦¬ ë„£ì–´ë‘”ë‹¤ë˜ì§€) í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ì–´ë ¤ì›Œì§„ë‹¤.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=3229">53:49</a> <a href="https://jojoldu.tistory.com/">ë¸”ë¡œê·¸ ë§ì´ ì“°ì‹œëŠ” ë¶„</a>ì€ @Transactional í…ŒìŠ¤íŠ¸ë¥¼ ë°˜ëŒ€í•˜ëŠ” í¸. <a href="https://www.youtube.com/@yhdev">JPA ê°•ì˜ ì „ë¬¸ìœ¼ë¡œ í•˜ì‹œëŠ” ë¶„</a>ì€ ì°¬ì„±í•˜ëŠ” í¸.</li>
<li><a href="https://youtu.be/-961J2c1YsM?t=3600">1:00:00</a> ì±…: ìƒì‚°ì„±ê³¼ í’ˆì§ˆì„ ìœ„í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì›ì¹™ê³¼ íŒ¨í„´ì—ì„œ ë§¤ í…ŒìŠ¤íŠ¸ ì‹œì‘ ì „ì— DB ì›ìƒíƒœë¡œ ëŒë¦¬ëŠ” ë²•ì„ ê°€ì¥ ê¶Œì¥í•œë‹¤.</li>
</ul>
<h2 id="better-specs" style="position:relative;"><a href="#better-specs" aria-label="better specs permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Better Specs</h2>
<p><a href="https://www.betterspecs.org/">https://www.betterspecs.org/</a></p>
<blockquote>
<p>Better Specs is a collection of best practices developers learned while testing apps that you can use to improve your coding skills, or simply for inspiration. Better Specs came to life at Lelylan (open source IoT cloud platform) and checking out its test suite may be of inspiration.</p>
</blockquote>
<p>Better SpecsëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„±ì— ëŒ€í•œ ëª¨ë²” ì‚¬ë¡€(best practice) ëª¨ìŒì´ë‹¤.</p>
<p>ì‚¬ì´íŠ¸ì—ì„œ ì†Œê°œí•˜ëŠ” ì˜ˆì‹œëŠ” Railsì˜ RSpecì„ ì‚¬ìš©í•˜ì§€ë§Œ, ë‹¤ë¥¸ ì–¸ì–´/í”„ë ˆì„ì›Œí¬ì—ì„œë„ ì ìš©í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•œë‹¤.</p>
<h3 id="single-expectationë‹¨ì¼-ê²€ì¦" style="position:relative;"><a href="#single-expectation%EB%8B%A8%EC%9D%BC-%EA%B2%80%EC%A6%9D" aria-label="single expectationë‹¨ì¼ ê²€ì¦ permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Single Expectation(ë‹¨ì¼ ê²€ì¦)</h3>
<p><a href="https://www.betterspecs.org/#single">https://www.betterspecs.org/#single</a></p>
<pre><code class="language-ruby">it { is_expected.to respond_with_content_type(:json) }
it { is_expected.to assign_to(:resource) }
</code></pre>
<p>í•œ ë²ˆì— í•˜ë‚˜ë§Œ ê²€ì¦í•˜ëŠ” ê²ƒì€ ê°€ë…ì„±, í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ì›ì¸ íŒŒì•…ì´ ì‰½ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.
í•˜ì§€ë§Œ DB ë“± í˜¸ì¶œ ë¹„ìš©ì´ í° ê²½ìš°ì—ëŠ” ì—¬ëŸ¬ ê°œë¥¼ í•œ ë²ˆì— ê²€ì¦í•˜ëŠ” ê²ƒë„ í—ˆìš©í•œë‹¤.</p>
<pre><code class="language-ruby">it 'creates a resource' do
  expect(response).to respond_with_content_type(:json)
  expect(response).to assign_to(:resource)
end
</code></pre>
<p>ê´€ë ¨ SO ì§ˆë¬¸ì´ ìˆë‹¤: <a href="https://softwareengineering.stackexchange.com/q/7823">Is it OK to have multiple asserts in a single unit test?</a></p>
<p>ë‹µë³€ ì±„íƒì€ single expectationì„ ê¶Œì¥í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë‹¤ë³´ë©´ ê²°êµ­ í•˜ë‚˜ì˜ ê²€ì¦ë§Œ í•˜ê²Œ ë ê±°ë¼ëŠ” ê²ƒ.
í•˜ì§€ë§Œ ë” ë§ì€ ì¶”ì²œì„ ë°›ì€ ë‹µë³€ì€ multiple expectationì„ í•˜ëŠ” ê²ƒì´ë‹¤.</p>
<p><a href="http://wiki.c2.com/?ArrangeActAssert">Arrange, Act, Assert</a>íŒ¨í„´ì— ë”°ë¼, ë™ì¼í•œ ë™ì‘ì— ëŒ€í•œ ì—¬ëŸ¬ ê²€ì¦ì„ ë³¼ ìˆ˜ ìˆì–´ì„œ ì¢‹ë‹¤ëŠ” ê²ƒ.
ê·¸ëŸ¬ë‚˜ ì—ëŸ¬ ë¬¸êµ¬ê°€ ìƒì„¸í•˜ì§€ ì•Šë‹¤ëŠ” ê²ƒì€ ì¸ì§€í•˜ê³  ìˆì–´ì•¼ í•œë‹¤.</p>
<h2 id="í…ŒìŠ¤íŠ¸-ì½”ë“œ-ì‘ì„±" style="position:relative;"><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1" aria-label="í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±</h2>
<h3 id="í†µí•©-í…ŒìŠ¤íŠ¸ì—ì„œë„-mockingí•˜ë©´-í¸ë¦¬í•˜ë‹¤" style="position:relative;"><a href="#%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C%EB%8F%84-mocking%ED%95%98%EB%A9%B4-%ED%8E%B8%EB%A6%AC%ED%95%98%EB%8B%A4" aria-label="í†µí•© í…ŒìŠ¤íŠ¸ì—ì„œë„ mockingí•˜ë©´ í¸ë¦¬í•˜ë‹¤ permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>í†µí•© í…ŒìŠ¤íŠ¸ì—ì„œë„ mockingí•˜ë©´ í¸ë¦¬í•˜ë‹¤.</h3>
<p>spring framework í™˜ê²½ì—ì„œ ì´ì•¼ê¸°ë‹¤. djangoëŠ” pytestì˜ fixtureë¥¼ ì‚¬ìš©í•˜ë©´ í¸í–ˆë‹¤.</p>
<pre><code class="language-kotlin">@SpringBootTest
@AutoConfigureMockMvc
class TalkTradeRequestControllerSendingAddressTest(
  private val mvc: MockMvc,
  private val userRepository: UserRepository,
  private val productClient: StaticProductClient,
) : DescribeSpec({
  describe("GET /users/:id/product") {
    lateinit var user: User

    beforeContainer {
      user = userRepository.save(/*..*/)
    }

    afterContainer {
      userRepository.deleteAll()
      productClient.clearTestData()
    }

    fun requset(id: Long) = mvc.get("/users/$id/product") {
       contentType = MediaType.APPLICATION_JSON
    }

    context("ìƒí’ˆì´ ìˆìœ¼ë©´") {
      val product = Product(/*..*/)
      val subject by lazy { request(user.id) }

      productClient.putProduct(product)

      it("ì‘ë‹µ ì½”ë“œëŠ” 200 OK.") {
        subject.andExpect { status { isOk() } }
      }
    }
  }
})

class StaticProductClient : ProductClient {
    private val products: MutableMap&#x3C;Long, Product>

    fun putProduct(product: Product) { products[product.userId] = product }
    fun clearTestData() { products.clear() }

    override fun findProduct(userId: Long): Product? = products[userId]
}

@Configuration
class TestProductClientConfig {
    @Bean
    fun testProductClient(): ProductClient = StaticProductClient()
}
</code></pre>
<p>mocking ë°©ì‹ ì‚¬ìš©í•˜ê¸° ì „ì—ëŠ” ìœ„ì™€ê°™ì´ í…ŒìŠ¤íŠ¸ìš© í´ë¼ì´ì–¸íŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ ì£¼ì…í•˜ê³ ,
í†µí•© í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ <strong>í…ŒìŠ¤íŠ¸ìš© í´ë¼ì´ì–¸íŠ¸</strong>ë¥¼ ì£¼ì…ë°›ì•„ì„œ ìš´ì˜ ì½”ë“œì—ì„œ ë°˜í™˜ë°›ì„ ë°ì´í„°ë¥¼ ë„£ì–´ì£¼ëŠ” í˜•íƒœë¡œ ì‚¬ìš©í–ˆë‹¤.</p>
<p>ì´ ë°©ë²•ì€ ë¶ˆí¸í•œ ë¶€ë¶„ì´ ìˆì—ˆëŠ”ë°, í•„ìš”í•œ ë©”ì„œë“œë§ˆë‹¤ ë°ì´í„°ë¥¼ ë„£ëŠ” ë©”ì„œë“œ<code>put~</code>ì˜ êµ¬í˜„ì´ í•„ìš”í•˜ê³ ,
Repositoryì˜ <code>deleteAll</code>ê³¼ ê°™ì´ ë°ì´í„°ë¥¼ ì œê±°í•˜ëŠ” ë©”ì„œë“œ<code>clearTestData</code>ë¥¼ ë§Œë“¤ í•„ìš”ê°€ ìˆì—ˆë‹¤ëŠ” ì ì´ë‹¤.</p>
<p>ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œë„ ë§ˆì°¬ê°€ì§€ë¡œ mockitoë‚˜ mockkë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì´ëŸ° ë¶ˆí¸í•¨ì´ ìˆì„ ê²ƒì´ë‹¤.</p>
<p>ê·¸ë˜ì„œ í†µí•©í…ŒìŠ¤íŠ¸ì—ì„œë„ mock ê°ì²´ë¥¼ ì£¼ì…í•˜ì˜€ë‹¤.</p>
<pre><code class="language-kotlin">@SpringBootTest
@AutoConfigureMockMvc
class TalkTradeRequestControllerSendingAddressTest(
  private val mvc: MockMvc,
  private val userRepository: UserRepository,
  // private val productClient: StaticProductClient,
  private val productClient: ProductClient,
) : DescribeSpec({
  describe("GET /users/:id/product") {
    lateinit var user: User

    beforeContainer {
      user = userRepository.save(/*..*/)
      clearAllMocks()
    }

    afterContainer {
      userRepository.deleteAll()
      // productClient.clearTestData()
    }

    fun requset(id: Long) = mvc.get("/users/$id/product") {
      contentType = MediaType.APPLICATION_JSON
    }

    context("ìƒí’ˆì´ ìˆìœ¼ë©´") {
      val product = Product(/*..*/)
      val subject by lazy { request(user.id) }

      // productClient.putProduct(product)
      every { productClient.findProduct(any()) } returns product

      it("ì‘ë‹µ ì½”ë“œëŠ” 200 OK.") {
        subject.andExpect { status { isOk() } }
      }
    }
  }
})

@Configuration
class TestProductClientConfig {
    @Bean
    fun testProductClient(): ProductClient = mockk(relaxed=true)
}
</code></pre>
<p>ìœ„ ì½”ë“œì²˜ëŸ¼ ë³€ê²½í•¨ìœ¼ë¡œì¨ í¸ë¦¬í•œ ë¶€ë¶„ì´ ìˆì—ˆë‹¤:</p>
<ul>
<li><code>relaxed=true</code>ë¡œ í•œ ì´ìœ ëŠ” <code>null</code> ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì¸ ê²½ìš° êµ³ì´ mocking í•˜ì§€ ì•Šì•„ë„ ë˜ì„œ í¸í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë” ì œí•œí•˜ê³  ì‹¶ë‹¤ë©´ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ì¢‹ì•„ ë³´ì¸ë‹¤.</li>
<li>í˜¸ì¶œ ê²€ì¦(mockk <code>verify {}</code>)ë„ ê°€ëŠ¥í•´ì ¸ì„œ, ë¶ˆí•„ìš”í•˜ê²Œ ë§ˆì§€ë§‰ í˜¸ì¶œ ì •ë³´ë¥¼ <code>StaticProductClient</code>ì— ì €ì¥í•œë‹¤ê±°ë‚˜ í•  í•„ìš”ê°€ ì—†ë‹¤.</li>
<li><code>clearTestData</code> êµ¬í˜„í•˜ëŠ” ëŒ€ì‹  mock ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì´ˆê¸°í™” í•¨ìˆ˜<code>clearAllMocks()</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
<li>í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ì´ˆê¸°í™”í•¨ìˆ˜ í˜¸ì¶œí•˜ì§€ ì•Šê³ , global tear down hookì—ì„œ ì´ˆê¸°í™” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í¸í•˜ë‹¤.</li>
</ul>
<h2 id="ab-test" style="position:relative;"><a href="#ab-test" aria-label="ab test permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A/B Test</h2>
<p>ë‹¤ë¥¸ ì£¼ì œì™€ ê°™ì€ ë¶„ë¥˜ê°€ ì•„ë‹Œ ê±° ê°™ì§€ë§Œ, ì¼ë‹¨ ì—¬ê¸°ì— ë‘”ë‹¤.</p>
<h3 id="vwo" style="position:relative;"><a href="#vwo" aria-label="vwo permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>VWO</h3>
<p><a href="https://vwo.com/">VWO</a>ëŠ” í…ŒìŠ¤íŠ¸ ë° ìµœì í™” í”Œë«í¼ì´ë‹¤.</p>
<p>ì´ ì‚¬ì´íŠ¸ì— A/B í…ŒìŠ¤íŠ¸ ê¸°ê°„ ê³„ì‚°ê¸°ë¼ëŠ” í˜ì´ì§€ê°€ ìˆë‹¤: <a href="https://vwo.com/tools/ab-test-duration-calculator/">https://vwo.com/tools/ab-test-duration-calculator/</a></p>
<p>í˜„ì¬ ì „í™˜ìœ¨, ëª©í‘œë¡œ í•˜ëŠ” ê°œì„ ìœ¨, ì¡°í•© ìˆ˜, ì¼ì¼ ë°©ë¬¸ì ìˆ˜, í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ë¹„ìœ¨ì„ ì…ë ¥í•˜ë©´
ì–¼ë§ˆë™ì•ˆ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ ì¢‹ì„ì§€ ê³„ì‚°í•´ì£¼ëŠ” í˜ì´ì§€ë‹¤.</p>
<p>ê³„ì‚° ì‹ì€ ë¸”ë¡œê·¸ì—ì„œ ì‹œíŠ¸ë¡œ ê³µê°œí•˜ê³  ìˆë‹¤: <a href="https://vwo.com/blog/ab-test-duration-calculator/">https://vwo.com/blog/ab-test-duration-calculator/</a></p>
<h2 id="scraps" style="position:relative;"><a href="#scraps" aria-label="scraps permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scraps</h2>
<h3 id="ì™œ-ìœ ë‹›-í…ŒìŠ¤íŠ¸ì—ì„œ-ì˜ì¡´ì„±ì„-í…ŒìŠ¤íŠ¸í•˜ì§€-ì•ŠëŠ”-ê²ƒì´-ì¤‘ìš”í•œê°€ìš”" style="position:relative;"><a href="#%EC%99%9C-%EC%9C%A0%EB%8B%9B-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-%EC%9D%98%EC%A1%B4%EC%84%B1%EC%9D%84-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%83%EC%9D%B4-%EC%A4%91%EC%9A%94%ED%95%9C%EA%B0%80%EC%9A%94" aria-label="ì™œ ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ ì˜ì¡´ì„±ì„ í…ŒìŠ¤íŠ¸í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¤‘ìš”í•œê°€ìš” permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ì™œ ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ ì˜ì¡´ì„±ì„ í…ŒìŠ¤íŠ¸í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¤‘ìš”í•œê°€ìš”?</h3>
<p><a href="https://softwareengineering.stackexchange.com/questions/65477/why-is-it-important-that-a-unit-test-not-test-dependencies">(Why) is it important that a unit test not test dependencies?</a></p>
<p>Stackexchangeì˜ ì§ˆë¬¸:</p>
<ul>
<li>ì˜ì¡´ì„±ì„ í…ŒìŠ¤íŠ¸í•˜ì§€ ë§ê³ , ê²€ì¦ ëŒ€ìƒë§Œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  í•œë‹¤.</li>
<li>ë‚´ ìƒê°ì€ ì˜ì¡´ì„±ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì„ í”¼í•˜ê¸° ìœ„í•´ì„œ, Mocking/Stubbing í•˜ëŠ” ê²ƒì€ í…ŒìŠ¤íŠ¸ì˜ ë³µì¡ì„±ì„ ì¦ê°€ ì‹œí‚¨ë‹¤.</li>
</ul>
<p>ë‹µë³€:</p>
<ul>
<li>ì´ê±´ ë‹¨ì–´ ì •ì˜ ë¬¸ì œë‹¤.</li>
<li>ì˜ì¡´ì„±ê¹Œì§€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì€ Integration Test. unit testê°€ ì•„ë‹ˆë¼ í†µí•© í…ŒìŠ¤íŠ¸ì— ëŒ€í•´ì„œ ë§í•œ ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.</li>
<li>í†µí•© í…ŒìŠ¤íŠ¸ëŠ” ì˜¤ë˜ ê±¸ë¦¬ê¸° ë•Œë¬¸ì— ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ì— í¬í•¨í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.</li>
<li>ìš°ë¦¬ ì œí’ˆì€.. ë§¤ ë¹Œë“œë§ˆë‹¤ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦¬ëŠ”ë° ëª‡ ì´ˆê°€ ê±¸ë¦¬ê³ , ë§¤ check-in ë§ˆë‹¤ í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦¬ëŠ”ë° 10ë¶„ ì •ë„ê°€ ê±¸ë¦¬ê³ , ë§¤ì¼ ë°¤ ì™„ì „(full)-í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦¬ëŠ”ë° 4ì‹œê°„ì´ ê±¸ë¦°ë‹¤.</li>
</ul>
<p>ë  ìˆ˜ ìˆë‹¤ë©´ mock ê°ì²´ë¥¼ ì „ë‹¬í•˜ëŠ” í¸ì´ ë‚«ë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì˜ì¡´ì„±ì´ ë°˜í™˜í•˜ëŠ” ë‹¤ì–‘í•œ ê²½ìš°ë¥¼ ëª¨ë‘ í…ŒìŠ¤íŠ¸í•˜ëŠ” ìš•êµ¬ì— ë¹ ì§„ë‹¤. ì˜ì¡´ì„±ì˜ í…ŒìŠ¤íŠ¸ì—ì„œ ì¤‘ë³µë˜ëŠ” ë¬¸ì œë„ ìˆë‹¤.</p>
<h3 id="ìœ ë‹›-í…ŒìŠ¤íŠ¸ì—ì„œ-ìƒìˆ˜ë¥¼-ì‚¬ìš©í•˜ì§€-ë§ˆì„¸ìš”" style="position:relative;"><a href="#%EC%9C%A0%EB%8B%9B-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-%EC%83%81%EC%88%98%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EB%A7%88%EC%84%B8%EC%9A%94" aria-label="ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ ìƒìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš” permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ ìƒìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.</h3>
<p><a href="https://dev.to/scottshipp/don-t-use-non-test-constants-in-unit-tests-3ej0">Don't use non-test constants in unit tests</a></p>
<blockquote>
<p>Tests will pass when the code is wrong</p>
<p>More importantly, tests that reference production constants can cause a situation where the code is actually wrong but the unit test passes anyway.</p>
<p>Consider the case where there's a misspelling in "Fizz" or even the wrong value, as here where it has the value "Buzz":</p>
<p>public class FizzBuzz {
public static final String FIZZ = "Buzz";
// . . .</p>
<p>The unit test will still pass, because the test is referencing against the same wrong <code>FizzBuzz.FIZZ</code> variable that the production code is referencing.</p>
</blockquote>
<p>í…ŒìŠ¤íŠ¸ê°€ í”„ë¡œë•ì…˜ ìƒìˆ˜ë¥¼ ì°¸ì¡°í•˜ë©´, ì‹¤ì œë¡œ ì½”ë“œê°€ ì˜ëª»ë˜ì–´ë„ í…ŒìŠ¤íŠ¸ëŠ” í†µê³¼í•  ìˆ˜ ìˆë‹¤.
<code>FizzBuzz.FIZZ</code> ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸ì— í”„ë¡œë•ì…˜ ì½”ë“œê°€ ì°¸ì¡°í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ì˜ëª»ëœ ê°’ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•  ìˆ˜ ìˆë‹¤.</p>
<p>ë§ê¸€ ì¤‘:</p>
<blockquote>
<p>There's a third one, readability. Like you say, re-use is good, and if done right you can argue it's readable. However, in a test you need to know EXACTLY what the test is doing right there and then.</p>
</blockquote>
<p>ê°€ë…ì„± ì¸¡ë©´ì—ì„œë„ ìƒìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  í•œë‹¤.</p>
<h3 id="ìœ ë‹›-í…ŒìŠ¤íŠ¸ì—ì„œ-damp-not-dryëŠ”-ë¬´ì—‡ì„-ì˜ë¯¸í•˜ë‚˜ìš”" style="position:relative;"><a href="#%EC%9C%A0%EB%8B%9B-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-damp-not-dry%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%84-%EC%9D%98%EB%AF%B8%ED%95%98%EB%82%98%EC%9A%94" aria-label="ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ damp not dryëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ë‚˜ìš” permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ìœ ë‹› í…ŒìŠ¤íŠ¸ì—ì„œ "DAMP not DRY"ëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ë‚˜ìš”?</h3>
<p>SO ì§ˆë¬¸: <a href="https://stackoverflow.com/questions/6453235/what-does-damp-not-dry-mean-when-talking-about-unit-tests">https://stackoverflow.com/questions/6453235/what-does-damp-not-dry-mean-when-talking-about-unit-tests</a></p>
<ul>
<li>DAMP: Descriptive And Meaningful Phrases. ì„¤ëª…ì ì´ê³  ì˜ë¯¸ ìˆëŠ” êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ. ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì—¬ì¤€ë‹¤.</li>
<li>DRY: Don't Repeat Yourself. ë°˜ë³µí•˜ì§€ ì•ŠëŠ” ê²ƒ.</li>
</ul>
<p>ë‹µë³€ ì¤‘:</p>
<blockquote>
<p>It's a balance, not a contradiction</p>
</blockquote>
<p>í…ŒìŠ¤íŠ¸ì½”ë“œëŠ” ë‘˜ ì‚¬ì´ì— ê· í˜•ì„ ì¡ì•„ì•¼ í•œë‹¤.</p>
<blockquote>
<p><strong>DAMP (Descriptive And Meaningful Phrases) promotes the readability of the code.</strong></p>
<p>To maintain code, you first need to understand the code. To understand it, you have to read it. Consider for a moment how much time you spend reading code. It's a lot. DAMP increases maintainability by reducing the time necessary to read and understand the code.</p>
</blockquote>
<p>ì½”ë“œë¥¼ ìœ ì§€ë³´ìˆ˜í•˜ë ¤ë©´ ë¨¼ì € ì½”ë“œë¥¼ ì´í•´í•´ì•¼ í•œë‹¤. ì´í•´í•˜ë ¤ë©´ ì½ì–´ì•¼í•œë‹¤. ì½”ë“œë¥¼ ì½ëŠ”ë° ì–¼ë§ˆë‚˜ ë§ì€ ì‹œê°„ì„ í• ì• í•˜ëŠ”ì§€ ìƒê°í•´ë³´ì.
DAMPëŠ” ì½”ë“œë¥¼ ì½ê³  ì´í•´í•˜ëŠ”ë° í•„ìš”í•œ ì‹œê°„ì„ ì¤„ì—¬ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì¸ë‹¤.</p>
<blockquote>
<p>So, why is duplication more acceptable in tests?</p>
</blockquote>
<p>í…ŒìŠ¤íŠ¸ëŠ” ë™ì¼í•œ í•­ëª©ì„ ë°˜ë³µí•˜ê¸° ë•Œë¬¸ì— ì¤‘ë³µì´ ë” í—ˆìš©ëœë‹¤.</p>
<p>ë‹µë³€ì˜ ë§ê¸€ ì¤‘:</p>
<blockquote>
<p>DRYing out test code has the potential to create an obscure test by introducing a <a href="http://xunitpatterns.com/Obscure%20Test.html#Mystery%20Guest">mystery guest</a></p>
</blockquote>
<p>í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ DRYí•˜ë©´, ëª¨í˜¸í•œ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê²Œ ë˜ì–´ mystery guestê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.</p>
<p>mystery guest: í…ŒìŠ¤íŠ¸ë¥¼ ì½ëŠ” ì‚¬ëŒì´ Fixtureì™€ Verification ë¡œì§ì´ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì™¸ë¶€ì—ì„œ ë™ì‘í•˜ì—¬ ì´í•´í•  ìˆ˜ ì—†ê²Œ ë˜ëŠ” ê²ƒ.</p></div><div class="Comments__Container-sc-1ajj4d9-0 gcJKrk"><hr/><div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/wiki/testing/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-2cc345a011ebd91d21a1.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-edf762ada97e4ebbea88.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-9f0966a06fdbdaabfa57.js\"],\"component---src-pages-wiki-markdown-remark-fields-slug-tsx\":[\"/component---src-pages-wiki-markdown-remark-fields-slug-tsx-ba516d15d5096b223262.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="7e3c9cb4399d8100db6b";</script><script src="/cat-logic/webpack-runtime-30d3e3e1964ea6662ceb.js" async></script><script src="/cat-logic/app-2cc345a011ebd91d21a1.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>