<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.0"/><style data-href="/cat-logic/styles.7063392de47b3110fc97.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:0 0;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}*{box-sizing:border-box}body{margin:0}</style><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style data-styled="" data-styled-version="5.3.11">.jArVBC{margin:0;padding:1rem 0 .5rem 1rem;font-size:1rem;}/*!sc*/
data-styled.g1[id="Toc__Header-sc-1f76i2s-0"]{content:"jArVBC,"}/*!sc*/
.bJJrFa{box-sizing:border-box;padding:0 1rem 1rem 0;}/*!sc*/
.bJJrFa ul{list-style:none;padding-left:1rem;margin:0;font-size:.8rem;}/*!sc*/
.bJJrFa ul p{margin:0;}/*!sc*/
.bJJrFa a{-webkit-text-decoration:none;text-decoration:none;color:#0D47A1;}/*!sc*/
.bJJrFa a:hover{color:#512DA8;}/*!sc*/
data-styled.g2[id="Toc__Container-sc-1f76i2s-1"]{content:"bJJrFa,"}/*!sc*/
.cFNDjy{overflow:auto;overflow-wrap:break-word;color:#333333;padding:1.5rem;margin-top:1rem;border-radius:.5rem;border:1px solid rgb(238,238,238);font-family:Arial,Helvetica,sans-serif;}/*!sc*/
.cFNDjy h1,.cFNDjy h2,.cFNDjy h3,.cFNDjy h4,.cFNDjy h5,.cFNDjy h6{margin:1.5rem 0 .8rem;padding-bottom:5px;border-bottom:1px solid #eee;}/*!sc*/
.cFNDjy a:link{color:#0D47A1;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.cFNDjy a:visited{color:#607AA1;}/*!sc*/
.cFNDjy a:hover{color:#AF15C0;-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.cFNDjy code:not(pre code){font-size:80%;background-color:#e3e6e8;border-radius:4px;padding:2px 4px;word-break:break-word;}/*!sc*/
.cFNDjy pre:has(code){font-size:85%;background-color:#f5f5f5;border-radius:.5rem;padding:1rem;overflow:auto;}/*!sc*/
.cFNDjy img{max-width:100%;}/*!sc*/
.cFNDjy blockquote{border-left:4px solid #ddd;padding-left:1rem;margin-left:0;font-style:italic;}/*!sc*/
.cFNDjy table{width:100%;border-collapse:collapse;}/*!sc*/
.cFNDjy table td,.cFNDjy table th{padding:.2rem .5rem;}/*!sc*/
.cFNDjy table thead{background-color:#F5F5F5;}/*!sc*/
.cFNDjy table tbody{font-size:.8rem;}/*!sc*/
.cFNDjy table tbody tr:nth-child(even){background-color:#F5F5F5;}/*!sc*/
.cFNDjy table tbody tr:hover{background-color:#D0D0D0;}/*!sc*/
.cFNDjy hr{border:none;border-top:1px dashed #aaa;}/*!sc*/
data-styled.g3[id="WikiContent__Container-sc-q3jb6a-0"]{content:"cFNDjy,"}/*!sc*/
.bUjFDA{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.bUjFDA:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
data-styled.g4[id="Link__A-sc-k1di17-0"]{content:"bUjFDA,"}/*!sc*/
.gcJKrk{padding-top:20rem;}/*!sc*/
data-styled.g5[id="Comments__Container-sc-1ajj4d9-0"]{content:"gcJKrk,"}/*!sc*/
.iTVyYc{width:.5rem;height:.5rem;background-color:rgba(192,222,191,1);}/*!sc*/
.iTVyYc > span{font-size:.5rem;top:1rem;white-space:nowrap;-webkit-transform:rotate(-15deg);-ms-transform:rotate(-15deg);transform:rotate(-15deg);position:inherit;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}/*!sc*/
data-styled.g6[id="GrassPoint__Container-sc-vhet8f-0"]{content:"iTVyYc,"}/*!sc*/
.kTfeIb{height:3rem;overflow:hidden;border-top:1px solid rgba(0,0,0,0.1);border-bottom:1px solid rgba(0,0,0,0.1);padding:0.5rem 0;margin-bottom:1rem;}/*!sc*/
data-styled.g7[id="GrassActivity__Container-sc-1d932e2-0"]{content:"kTfeIb,"}/*!sc*/
.hzZfMw{width:calc(100% - .5rem);height:100%;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
data-styled.g8[id="GrassActivity__PointContainer-sc-1d932e2-1"]{content:"hzZfMw,"}/*!sc*/
.cHXqdT{position:absolute;left:0.00%;z-index:1;}/*!sc*/
.cIJYBT{position:absolute;left:9.90%;z-index:1;}/*!sc*/
.isHLqJ{position:absolute;left:18.30%;z-index:1;}/*!sc*/
.daBIxS{position:absolute;left:19.09%;z-index:1;}/*!sc*/
.iWSBiI{position:absolute;left:20.90%;z-index:1;}/*!sc*/
.bTPENU{position:absolute;left:21.66%;z-index:1;}/*!sc*/
.juikEf{position:absolute;left:23.41%;z-index:1;}/*!sc*/
.doNxsf{position:absolute;left:53.57%;z-index:1;}/*!sc*/
.dttMBF{position:absolute;left:53.62%;z-index:1;}/*!sc*/
.WsBCx{position:absolute;left:97.88%;z-index:1;}/*!sc*/
.isrUsa{position:absolute;left:100.00%;z-index:1;}/*!sc*/
data-styled.g9[id="GrassActivity__GrassPointWrapper-sc-1d932e2-2"]{content:"cHXqdT,cIJYBT,isHLqJ,daBIxS,iWSBiI,bTPENU,juikEf,doNxsf,dttMBF,WsBCx,isrUsa,"}/*!sc*/
.kltskx{font-size:1.5rem;text-align:right;}/*!sc*/
.kltskx a{color:#333333;opacity:0.2;font-weight:700;}/*!sc*/
.kltskx a:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.kltskx a:after{content:"»";margin-left:.1rem;}/*!sc*/
data-styled.g10[id="HomeLink__Container-sc-1f7ngt2-0"]{content:"kltskx,"}/*!sc*/
.fTEgtV{margin:0;padding:1rem 0 .5rem 1rem;font-size:1rem;}/*!sc*/
data-styled.g12[id="RelatedLinks__Header-sc-1y1aimd-1"]{content:"fTEgtV,"}/*!sc*/
.eZRzcg{list-style:none;padding-left:1rem;margin:0;font-size:.8rem;}/*!sc*/
.eZRzcg > li{padding:.1rem 0;line-height:1;display:inline;}/*!sc*/
.eZRzcg > li::after{content:" • ";}/*!sc*/
.eZRzcg > li:last-child::after{content:"";}/*!sc*/
.eZRzcg > li > a:link{color:#0D47A1;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.eZRzcg > li > a:visited{color:#607AA1;}/*!sc*/
.eZRzcg > li > a:hover{color:#AF15C0;-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
data-styled.g13[id="RelatedLinks__Links-sc-1y1aimd-2"]{content:"eZRzcg,"}/*!sc*/
.etrcVC{font-size:.7rem;color:#BDBDBD;}/*!sc*/
.etrcVC a{color:#BDBDBD;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g14[id="GitHubCommitLink__Container-sc-13f81rm-0"]{content:"etrcVC,"}/*!sc*/
.cFPWSV{--height-offset:3rem;display:grid;grid-template-areas:"margin main side";padding-top:var(--height-offset);}/*!sc*/
@media (min-width:700px){.cFPWSV{grid-template-columns:0.3fr 3fr 1fr;}}/*!sc*/
data-styled.g15[id="PageLayout__Container-sc-11jfopf-0"]{content:"cFPWSV,"}/*!sc*/
.bXbYGR{display:grid;grid-area:main;width:100%;padding:0 1rem;}/*!sc*/
data-styled.g16[id="PageLayout__Main-sc-11jfopf-1"]{content:"bXbYGR,"}/*!sc*/
.fytAKM{display:none;grid-area:side;grid-area:side;position:-webkit-sticky;position:sticky;top:0;max-height:calc(100vh - var(--height-offset));padding:1rem 1rem;overflow-y:auto;}/*!sc*/
@media (min-width:700px){.fytAKM{display:block;}}/*!sc*/
data-styled.g17[id="PageLayout__Side-sc-11jfopf-2"]{content:"fytAKM,"}/*!sc*/
.eyeBwU{display:none;grid-area:margin;}/*!sc*/
@media (min-width:700px){.eyeBwU{display:block;}}/*!sc*/
data-styled.g18[id="PageLayout__Margin-sc-11jfopf-3"]{content:"eyeBwU,"}/*!sc*/
.jIRpDV{overflow:auto;}/*!sc*/
data-styled.g19[id="Wiki__Main-sc-16q9onf-0"]{content:"jIRpDV,"}/*!sc*/
.buAPAA{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1rem 0;gap:0.5rem;}/*!sc*/
data-styled.g20[id="Wiki__TitleContainer-sc-16q9onf-1"]{content:"buAPAA,"}/*!sc*/
.gysHks{margin:0;font-size:1.5rem;font-weight:700;color:#333333;}/*!sc*/
data-styled.g21[id="Wiki__Title-sc-16q9onf-2"]{content:"gysHks,"}/*!sc*/
.keieWK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}/*!sc*/
data-styled.g22[id="Wiki__TitleBottom-sc-16q9onf-3"]{content:"keieWK,"}/*!sc*/
.ewPrf{display:block;}/*!sc*/
@media (min-width:700px){.ewPrf{display:none;}}/*!sc*/
data-styled.g23[id="Wiki__TocMain-sc-16q9onf-4"]{content:"ewPrf,"}/*!sc*/
.chvTXK{margin-top:1rem;max-width:20rem;}/*!sc*/
data-styled.g24[id="Wiki__TocSide-sc-16q9onf-5"]{content:"chvTXK,"}/*!sc*/
</style><link rel="sitemap" type="application/xml" href="/cat-logic/sitemap-index.xml"/><link rel="icon" href="/cat-logic/favicon-32x32.png?v=8ac5e5872e5245b972f101c92acce617" type="image/png"/><link rel="manifest" href="/cat-logic/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/cat-logic/icons/icon-48x48.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="72x72" href="/cat-logic/icons/icon-72x72.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="96x96" href="/cat-logic/icons/icon-96x96.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="144x144" href="/cat-logic/icons/icon-144x144.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="192x192" href="/cat-logic/icons/icon-192x192.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="256x256" href="/cat-logic/icons/icon-256x256.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="384x384" href="/cat-logic/icons/icon-384x384.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="apple-touch-icon" sizes="512x512" href="/cat-logic/icons/icon-512x512.png?v=8ac5e5872e5245b972f101c92acce617"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><title data-gatsby-head="true">Cat Logic - Vim</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="PageLayout__Container-sc-11jfopf-0 cFPWSV"><div class="PageLayout__Margin-sc-11jfopf-3 eyeBwU"></div><div class="PageLayout__Main-sc-11jfopf-1 bXbYGR"><div class="Wiki__Main-sc-16q9onf-0 jIRpDV"><div class="Wiki__TitleContainer-sc-16q9onf-1 buAPAA"><div class="HomeLink__Container-sc-1f7ngt2-0 kltskx"><a href="" class="Link__A-sc-k1di17-0 bUjFDA">CAT</a></div><a href="." class="Link__A-sc-k1di17-0 bUjFDA"><h1 class="Wiki__Title-sc-16q9onf-2 gysHks">Vim</h1></a></div><div class="GrassActivity__Container-sc-1d932e2-0 kTfeIb"><div class="GrassActivity__PointContainer-sc-1d932e2-1 hzZfMw"><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 cHXqdT"><span>12/5/2024</span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 cHXqdT"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 cIJYBT"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 isHLqJ"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 daBIxS"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 iWSBiI"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 bTPENU"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 juikEf"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 doNxsf"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 dttMBF"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 WsBCx"><span></span></div><div class="GrassPoint__Container-sc-vhet8f-0 iTVyYc GrassActivity__GrassPointWrapper-sc-1d932e2-2 isrUsa"><span>4/3/2025</span></div></div></div><div class="Wiki__TitleBottom-sc-16q9onf-3 keieWK"><div class="GitHubCommitLink__Container-sc-13f81rm-0 etrcVC"><a href="https://github.com/edunga1/cat-logic/commit/b39ca069c76c463526829c5ed873c8a5554d2ce3">4/1/2025, 1:12:36 AM</a></div></div><div class="Wiki__TocMain-sc-16q9onf-4 ewPrf"><h3 class="Toc__Header-sc-1f76i2s-0 jArVBC">Table of Contents</h3><div class="Toc__Container-sc-1f76i2s-1 bJJrFa"><ul>
<li>
<p><a href="#vim">Vim</a></p>
<ul>
<li>
<p><a href="#neovim">Neovim</a></p>
<ul>
<li><a href="#lua-%EA%B0%80%EC%9D%B4%EB%93%9C">Lua 가이드</a></li>
<li><a href="#%EB%82%B4%EC%9E%A5-language-server-protocol-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0">내장 Language Server Protocol 사용하기</a></li>
</ul>
</li>
<li>
<p><a href="#%EB%8F%84%EC%9B%80%EB%A7%90-help">도움말 <code class="language-text">:help</code></a></p>
<ul>
<li><a href="#%EB%8F%84%EC%9B%80%EB%A7%90-%ED%83%90%EC%83%89%ED%95%98%EA%B8%B0">도움말 탐색하기</a></li>
<li><a href="#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A1%B0%ED%95%A9%EC%97%90-%EA%B4%80%ED%95%9C-%ED%8C%81">명령어 조합에 관한 팁</a></li>
</ul>
</li>
<li>
<p><a href="#%EC%82%AC%EC%9A%A9-%EC%82%AC%EB%A1%80">사용 사례</a></p>
<ul>
<li><a href="#%ED%8C%8C%EC%9D%BC-%EA%B2%80%EC%83%89">파일 검색</a></li>
<li><a href="#%EC%B0%BD-%EB%84%A4%EB%B9%84%EA%B2%8C%EC%9D%B4%EC%85%98">창 네비게이션</a></li>
</ul>
</li>
<li>
<p><a href="#%EB%82%B4%EC%9E%A5-%EA%B8%B0%EB%8A%A5">내장 기능</a></p>
<ul>
<li>
<p><a href="#quickfix--location-list">quickfix &#x26; location list</a></p>
<ul>
<li><a href="#commands">commands</a></li>
<li><a href="#grep">grep</a></li>
<li><a href="#cdo-ldo-%EA%B2%80%EC%83%89%EB%90%9C-%EB%AA%A8%EB%93%A0-entry%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9"><code class="language-text">cdo</code>, <code class="language-text">ldo</code> 검색된 모든 entry에 명령어 적용</a></li>
<li><a href="#cfdo-lfdo-%EA%B2%80%EC%83%89%EB%90%9C-%EB%AA%A8%EB%93%A0-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9"><code class="language-text">cfdo</code>, <code class="language-text">lfdo</code> 검색된 모든 파일에 명령어 적용</a></li>
<li><a href="#bufdo-%EB%AA%A8%EB%93%A0-buffer-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9"><code class="language-text">bufdo</code> 모든 buffer 파일에 명령어 적용</a></li>
<li><a href="#user-function">User Function</a></li>
</ul>
</li>
<li>
<p><a href="#fuzzy-%EB%A7%A4%EC%B9%AD-matchfuzzy">Fuzzy 매칭: <code class="language-text">matchfuzzy()</code></a></p>
</li>
<li>
<p><a href="#make-and-makeprg"><code class="language-text">:make</code> and <code class="language-text">makeprg</code></a></p>
<ul>
<li><a href="#build-integration---how-to-do-90-of-what-plugins-do">build integration - How to Do 90% of What Plugins Do</a></li>
</ul>
</li>
<li>
<p><a href="#matchit">matchit</a></p>
</li>
<li>
<p><a href="#%ED%84%B0%EB%AF%B8%EB%84%90-%EC%97%90%EB%AE%AC%EB%A0%88%EC%9D%B4%ED%84%B0">터미널 에뮬레이터</a></p>
</li>
<li>
<p><a href="#%EC%9E%90%EB%8F%99-%EC%84%9C%EC%8B%9D-formatoptions">자동 서식: <code class="language-text">formatoptions</code></a></p>
</li>
<li>
<p><a href="#%EC%8B%A4%ED%96%89%EC%B7%A8%EC%86%8Cundo-%EA%B4%80%EB%A6%AClocal-history">실행취소(undo) 관리(Local History)</a></p>
<ul>
<li><a href="#undotree-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8">undotree 플러그인</a></li>
</ul>
</li>
<li>
<p><a href="#%EC%9E%90%EB%8F%99%EC%99%84%EC%84%B1">자동완성</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#%EA%B5%AC%EB%AC%B8-%EA%B0%95%EC%A1%B0">구문 강조</a></p>
</li>
<li>
<p><a href="#%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0registers">레지스터(Registers)</a></p>
</li>
<li>
<p><a href="#variables">Variables</a></p>
<ul>
<li><a href="#path"><code class="language-text">path</code></a></li>
</ul>
</li>
<li>
<p><a href="#text-objects">Text Objects</a></p>
</li>
<li>
<p><a href="#plugin-%EB%A7%8C%EB%93%A4%EA%B8%B0">Plugin 만들기</a></p>
<ul>
<li><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0">프로젝트 구조</a></li>
<li><a href="#autoload"><code class="language-text">autoload</code></a></li>
<li><a href="#ftplugin"><code class="language-text">ftplugin</code></a></li>
<li><a href="#plug-sid"><code class="language-text">&lt;Plug></code> <code class="language-text">&lt;SID></code></a></li>
</ul>
</li>
<li>
<p><a href="#plugins">Plugins</a></p>
<ul>
<li>
<p><a href="#%EB%82%B4%EC%9E%A5-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8standard-plugin">내장 플러그인(Standard Plugin)</a></p>
<ul>
<li>
<p><a href="#matchparen">matchparen</a></p>
<ul>
<li><a href="#%EC%9A%A9%EB%9F%89%EC%9D%B4-%ED%81%B0-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EB%8A%90%EB%A0%A4%EC%A7%80%EB%8A%94-%EB%AC%B8%EC%A0%9C">용량이 큰 파일에서 느려지는 문제</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#chrisbracsvvim">chrisbra/csv.vim</a></p>
<ul>
<li><a href="#features">Features</a></li>
</ul>
</li>
<li>
<p><a href="#tpopevim-fugitive">tpope/vim-fugitive</a></p>
<ul>
<li><a href="#git-command"><code class="language-text">:Git &lt;command></code></a></li>
<li><a href="#git"><code class="language-text">:Git</code></a></li>
<li><a href="#git-mergetool"><code class="language-text">:Git mergetool</code></a></li>
</ul>
</li>
<li>
<p><a href="#rmagattiauto-session">rmagatti/auto-session</a></p>
<ul>
<li><a href="#startify%EC%97%90-%EC%84%B8%EC%85%98-%EB%AA%A9%EB%A1%9D-%ED%91%9C%EC%8B%9C%ED%95%98%EA%B8%B0">Startify에 세션 목록 표시하기</a></li>
</ul>
</li>
<li>
<p><a href="#nerdtree---%ED%8C%8C%EC%9D%BC-%ED%83%90%EC%83%89%EA%B8%B0">NERDTree - 파일 탐색기</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#%EC%9A%A9%EC%96%B4">용어</a></p>
<ul>
<li><a href="#pager----more---%EB%A1%9C-%EC%B6%9C%EB%A0%A5%EB%90%98%EB%8A%94-%ED%99%94%EB%A9%B4">pager: <code class="language-text">-- More --</code>로 출력되는 화면</a></li>
</ul>
</li>
<li>
<p><a href="#tips">Tips</a></p>
<ul>
<li>
<p><a href="#mapping-%EC%8B%9C-cr-vs-cmdcr">mapping 시 <code class="language-text">:...&lt;cr></code> vs <code class="language-text">&lt;cmd>...&lt;cr></code></a></p>
</li>
<li>
<p><a href="#%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BC%EB%A7%81-%ED%95%98%EA%B8%B0">프로파일링 하기</a></p>
</li>
<li>
<p><a href="#text-object-%EA%B0%9C%EC%84%A0%ED%95%98%EA%B8%B0">text object 개선하기</a></p>
<ul>
<li><a href="#vim-pythonsense">vim-pythonsense</a></li>
<li><a href="#vim-expand-region">vim-expand-region</a></li>
</ul>
</li>
<li>
<p><a href="#command-%EB%8C%80%EC%8B%A0-command%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%9E%90"><code class="language-text">command</code> 대신 <code class="language-text">command!</code>를 사용하자.</a></p>
</li>
<li>
<p><a href="#%EC%98%B5%EC%85%98%EC%9D%B4-%EC%96%B4%EB%8A%90-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EB%B3%80%EA%B2%BD%EB%90%98%EC%97%88%EB%8A%94%EC%A7%80-%EC%95%8C%EB%A0%A4%EB%A9%B4-verbose">옵션이 어느 파일에서 변경되었는지 알려면 <code class="language-text">:verbose</code></a></p>
</li>
<li>
<p><a href="#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98%EB%90%98%EC%96%B4-%EC%9E%88%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0">플러그인 설치되어 있는지 확인하기</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0">문제 해결</a></p>
<ul>
<li><a href="#typescript-filetype-%EB%AC%B8%EC%A0%9C">Typescript filetype 문제</a></li>
<li><a href="#colorscheme-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8%EC%9D%B4-%EC%A0%90%EC%A0%90-%EB%8A%90%EB%A0%A4%EC%A7%80%EA%B2%8C-%EB%A7%8C%EB%93%9C%EB%8A%94-%ED%98%84%EC%83%81">colorscheme 플러그인이 점점 느려지게 만드는 현상</a></li>
<li><a href="#ubuntu%EC%97%90-%EC%84%A4%EC%B9%98%ED%95%9C-vim%EC%9D%B4-%EC%8B%9C%EC%9E%91-%EC%8B%9C-vimrc%EC%97%90%EC%84%9C-%EB%A7%8E%EC%9D%80-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%ED%98%84%EC%83%81">Ubuntu에 설치한 vim이 시작 시 <code class="language-text">.vimrc</code>에서 많은 에러가 발생하는 현상</a></li>
</ul>
</li>
<li>
<p><a href="#%EA%B4%80%EB%A0%A8-%EA%B8%B0%EC%82%AC">관련 기사</a></p>
</li>
<li>
<p><a href="#troubleshooting">Troubleshooting</a></p>
<ul>
<li><a href="#git-commit-%EC%8B%9C-waiting-for-your-editor-to-close-the-file-%EB%A9%94%EC%8B%9C%EC%A7%80%EC%99%80-%ED%95%A8%EA%BB%98-%EC%BB%A4%EB%B0%8B%EC%9D%B4-%EC%95%88%EB%90%98%EB%8A%94-%EB%AC%B8%EC%A0%9C">Git commit 시 "Waiting for your editor to close the file..." 메시지와 함께 커밋이 안되는 문제</a></li>
</ul>
</li>
</ul>
</li>
</ul></div></div><div class="WikiContent__Container-sc-q3jb6a-0 cFNDjy">
<p>터미널 기반 텍스트 편집기.</p>
<p><a href="https://github.com/Edunga1/dotfiles/blob/master/vim/.vimrc">.vimrc</a>는 vim 설정 파일이다.
누구나 같은 설정 파일을 사용한다면 같은 환경을 재현할 수 있다.
vim은 사람마다 다른 형태를 가지면서도 복제하기 쉽다.</p>
<hr>
<p>vim 보다 <a href="https://github.com/neovim/neovim">neovim</a>을 사용중이다.
neovim은 vim의 fork라 호환성이 유지돼서 바로 넘어가더라도 큰 문제가 없다.
기존 vim 설정을 조금 수정해야 하는데, neovim 메뉴얼 <code class="language-text">:h nvim-from-vim</code>에 잘 설명되어 있다.
vim에서 제공하는 기능은 대부분 neovim에서도 사용할 수 있다. 다만 2023년 11월 기준으로 vim 9.0은 아직인 듯.</p>
<p><a href="https://en.wikipedia.org/wiki/Vim_(text_editor)">Wikipedia</a> 배포 내역을 보면,
8.0 이전까지는 배포가 느렸지만, 8.0부터는 모던 에디터의 추세에 맞춰 팝업 Window와 비동기 I/O 등이 추가되었다.
이전에는 Bram이 대부분 혼자서 개발하느라 느렸던 것으로 알고있다.
<a href="https://github.com/vim/vim#sponsoring">GitHub vim 저장소</a>를 보면 Bram은 직장에 복귀했다고 한다.
그래서 8.0 이후로는 다양한 사람들이 기여하고 있다.</p>
<p>Vim 창시자인 Bram Moolenaar는 2023년 8월 5일에 생을 마감했다.<br>
공식 저장소는 그의 의지를 이어받아 우간다의 아이들을 돕기 위해 후원금을 받고있다.<br>
우간다에 대한 이야기는 <code class="language-text">:h uganda</code>에서 확인할 수 있다.</p>
<p>vim은 에디터를 개선해 나가는 즐거움을 준다.
시작은 불편하고, 아무 기능도 없는 텍스트 편집기지만, 플러그인과 설정을 추가함에 따라 IDE로, 별도 도구로 변한다.
다른 에디터라면 버전업 될 때마다 설레임이 있겠지만, vim은 그 설레임이 나로부터 시작된다.
불필요한 기능을 제거하는 것이 아니라, 필요한 기능을 추가한다는 점은 vim만의 차별화된 특성이다.</p>
<hr>
<p>vimscript라는 자체 스크립트를 제공하는데, 학습하기 꽤 어려운 언어이다.
<a href="https://www.reddit.com/r/neovim/comments/l1mne8/learning_vimscript_vs_lua/">어떤 글</a>에서는 정규식에 빗대어, 학습하는 것이 아니라 그냥 사용하는 것이라고 한다:</p>
<blockquote>
<p>Vimscript is like regex, you don't learn it, just use it.</p>
</blockquote>
<p>창시자인 Bram Moolenaar의 <a href="https://yozm.wishket.com/magazine/detail/2183/">23년 인터뷰 중</a>에서 플러그인을 많이 사용하지 않는다고 한다:</p>
<blockquote>
<p>사실 저는 배포판에 포함된 플러그인(matchit, termdebug 등)을 제외하고는 플러그인 자체를 많이 사용하지 않습니다. 필요한 기능이 있으면 간단한 것은 바로 만들거나 Vim 베이스에 추가하는 편입니다.</p>
</blockquote>
<hr>
<p>Vim 자체는 텍스트 편집기일 뿐이기 때문에, IDE처럼 사용하기 위해서는 플러그인이 필요하다.
자세한 사항은 아래의 <a href="#%EB%82%B4%EC%9E%A5-language-server-protocol-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0">내장 Language Server Protocol 사용하기</a>를 참고하자.</p>
<h2 id="neovim" style="position:relative;"><a href="#neovim" aria-label="neovim permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Neovim</h2>
<p>Neovim은 vim을 fork하고, vimscript와 더불어 lua도 지원하며, 더 확장된 기능을 제공한다.</p>
<p><a href="https://github.com/neovim/neovim">https://github.com/neovim/neovim</a></p>
<p>검색해보면 neovim 커뮤니티에서는 vim에 대한 불만이 많이 보인다. :0<br>
아무래도 원작자인 Bram의 방향성과 상충되어서가 아닐까. 잘 모르겠다.</p>
<p>neovim으로 이전한 이유는 <a href="../language-server-protocol">LSP</a>를 사용하기 위함이었다.
neovim은 LSP를 자체적으로 제공한다. 바닐라 vim은 <a href="https://github.com/neoclide/coc.nvim">coc.nvim</a>을 사용해야 한다.
coc.nvim은 자체 플러그인 기능으로 편리하게 다양한 언어 서버를 설치할 수 있어서 편리하지만, neovim 자체 기능 보다는 느리다.
솔직하게 말하면 답답할 정도.</p>
<p>개인적으로는 Lua를 <a href="../game#ultima-online">Ultima Online</a>의 스크립트 언어로 사용한 경험을 비추어 보았을 때,
딱히 생산성이나 편의성이 높지는 않았다. 다만 vimscript 보다는 학습 곡선이 낮다.</p>
<p>vim에서 사용하는 변수, 옵션, 함수를 lua 스크립트에서도 사용할 수 있다.
그래서 <code class="language-text">.vimrc</code> 내용을 lua로 이전할 수 있는데, 나는 그냥 vimscript로 사용중이다.</p>
<p>lua 스크립트로만 초기화할 수 있는 플러그인들이 있다.
neovim에 맞춰진 플러그인은 ~.nvim 이라는 접미사를 붙이는 것이 관례인데,
이런 플러그인들은 lua 스크립트로 include해서 직접 초기화하는 방식을 주로 사용한다.
예를들어 <a href="https://github.com/neovim/nvim-lspconfig">nvim-lsp</a>를 보면 <code class="language-text">require'lspconfig'.pyright.setup{}</code>로 초기화한다.</p>
<p>vim과 neovim의 다른점은 <code class="language-text">:h vim-differences</code>에서 확인하자.</p>
<h3 id="lua-가이드" style="position:relative;"><a href="#lua-%EA%B0%80%EC%9D%B4%EB%93%9C" aria-label="lua 가이드 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lua 가이드</h3>
<p><a href="https://github.com/nanotee/nvim-lua-guide#modules">https://github.com/nanotee/nvim-lua-guide#modules</a></p>
<ul>
<li>내 custom lua 파일을 가져올 때 lua/ 내에서 찾는다.
<ul>
<li>runtimepath간 이름 충돌이 발생할 수 있다.</li>
</ul>
</li>
</ul>
<p><code class="language-text">init.vim</code> 대신 <code class="language-text">init.lua</code>에서 설정을 명세할 수 있다.</p>
<p>vim 함수를 <code class="language-text">:call Foo()</code>로 호출하는 것처럼, lua 함수도 <code class="language-text">:lua Foo()</code>로 호출할 수 있다.
예를들어 LSP에 설정된 코드 액션 매핑이 있는데:</p>
<div class="gatsby-highlight" data-language="lua"><pre class="language-lua"><code class="language-lua">vim<span class="token punctuation">.</span>keymap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'n'</span><span class="token punctuation">,</span> <span class="token string">'&lt;space>ca'</span><span class="token punctuation">,</span> vim<span class="token punctuation">.</span>lsp<span class="token punctuation">.</span>buf<span class="token punctuation">.</span>code_action<span class="token punctuation">,</span> bufopts<span class="token punctuation">)</span></code></pre></div>
<p>직접 호출하려면 <code class="language-text">:lua vim.lsp.buf.code_action()</code>로 호출한다.</p>
<h3 id="내장-language-server-protocol-사용하기" style="position:relative;"><a href="#%EB%82%B4%EC%9E%A5-language-server-protocol-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" aria-label="내장 language server protocol 사용하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>내장 Language Server Protocol 사용하기</h3>
<p>Noevim은 자체적으로 <a href="../language-server-protocol">Language Server Protocol</a>을 제공한다.</p>
<p>Vim을 IDE처럼 사용하기 위해서는 몇 가지 플러그인이 필요하다.</p>
<p><a href="https://github.com/Edunga1/dotfiles/blob/master/vim/.vimrc#L28-L33">.vimrc</a>에 다음 플러그인을 추가한다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Plug 'neovim/nvim-lspconfig'
Plug 'williamboman/mason.nvim'
Plug 'williamboman/mason-lspconfig.nvim'
Plug 'jose-elias-alvarez/null-ls.nvim'</code></pre></div>
<p>각 플러그인의 역할은 다음과 같다:</p>
<ul>
<li><a href="https://github.com/neovim/nvim-lspconfig">nvim-lspconfig</a>: LSP 설정을 쉽게 관리한다. nvim 만으로도 LSP를 사용할 수 있지만, 이 플러그인을 사용하면 더 편리하다.</li>
<li><a href="https://github.com/williamboman/mason.nvim">mason &#x26; mason-lspconfig</a>: language server와 개발 도구를 관리한다. 직접 executable 설치해야 하는 수고를 덜 수 있다.</li>
<li><a href="https://github.com/jose-elias-alvarez/null-ls.nvim">null-ls</a>: diagnostic, linter, code action을 사용할 수 있게한다. 아쉽게도 23년에 개발 중단되었다. 그러나 여전히 사용할만하다.</li>
</ul>
<p>lua init 파일에서 다음과 같이 설정한다:</p>
<div class="gatsby-highlight" data-language="lua"><pre class="language-lua"><code class="language-lua"><span class="token comment">-- null-ls 설정은 생략</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mason"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mason-lspconfig"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
require<span class="token string">'lspconfig'</span><span class="token punctuation">.</span>tsserver<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></div>
<p>Language Server를 설치한다: <code class="language-text">:MasonInstall typescript-language-server</code><br>
<code class="language-text">:Mason</code> 명령으로 대화형 UI를 통해 목록을 확인하고 설치할 수 있다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/d8c86/nvim-mason-example.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR42pWTS0/CQBSF+1fUIAqosFDSBmKMFgiFEFaEqCzcNqFQyqstffBmAX/5eO8IRkSJLr7MtDP39NxHpZOzU1SrVUGlUkG5XEapVIKmadBozeVyuH94Ih6hqiqKxaI4/wrf5dhoNAopnkojDAMixGg0EkwmE6xWKwHvw/EYAZ3znfl8juVyucdiscBms0E2m4WUvE2j1W5D13UYhoE27TudjsAkrG4XlmVhMBggCAJ4nncAm5hOp5BlGVIsEUev1xP0+30B71nAcxx4W9ccyII/4fu+cK4oCqSbuwxc18VwOBSwUJdcGc0mdNuGTWn6W8FdSVjgV8FEIiYEOVWGBaezGV7rdSimCYcuhkfcHQheXKfgUmomBTPsziUXLySYoRqGJB58c3Q85XTm0yE3hQW5m8+1GrKtFny6+C/BxNUlHNuhrpqiszbVbUyj8tZoQKXuOrTf1fA39rocTcrCIb/kr/BMMTxfK56z7fMxOG69Xn/M4XksLqa/UCiIlSeepz+fz/8Z/ps4NhKJ4B0+vvQYgMYsZQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="mason example"
        title=""
        src="/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/fcda8/nvim-mason-example.png"
        srcset="/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/12f09/nvim-mason-example.png 148w,
/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/e4a3f/nvim-mason-example.png 295w,
/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/fcda8/nvim-mason-example.png 590w,
/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/efc66/nvim-mason-example.png 885w,
/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/c83ae/nvim-mason-example.png 1180w,
/cat-logic/static/66a0c6ba3b5880441ce3191032dbcdb4/d8c86/nvim-mason-example.png 1663w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>이제 설치한 language server가 지원하는 파일을 열면 자동으로 LSP가 활성화된다.<br>
<code class="language-text">:LspInfo</code>로 현재 활성화된 LSP 목록을 확인할 수 있다.</p>
<p><code class="language-text">&lt;C-]></code>로 변수, 함수 등 정의부나 심볼로 이동하도록 매핑되어 있다(<code class="language-text">:h vim.lsp.tagfunc()</code>).
<a href="https://github.com/Edunga1/dotfiles/blob/9da2e8fafc64921b9ab458215ef7e5e6977f543f/vim/lua/lsp/servers/utils/common.lua#L15">직접 정의부 이동을 매핑</a>하고 사용해보면 매끄럽지 않다.
neovim이 직접 tagfunc을 <a href="https://github.com/neovim/neovim/blob/5371659524089b425887af1ce14bf9a374f0f234/runtime/lua/vim/lsp/_tagfunc.lua#L93">구현한 것</a>을 사용하는 편이 낫다.</p>
<hr>
<ul>
<li><a href="../server_configurations">nvim-lspconfig/server_configurations.md</a>에서 설정 가능한 language server 목록을 확인할 수 있다.
<ul>
<li>또는 <code class="language-text">:h lspconfig-all</code> 도움말에서 확인할 수 있다.</li>
</ul>
</li>
<li><a href="../BUILTIN_CONFIG">null-js/BUILTIN_CONFIG</a> 제공하는 lsp 도구 목록</li>
</ul>
<p>서술한대로 null-ls는 개발 중단되었다.
하지만 null-ls 없이도 충분히 다른 LSP를 추가할 수 있다. 예를들어 <a href="https://github.com/neovim/nvim-lspconfig/blob/16666f1bc40f69ce05eb1883fd8c0d076284d8a5/lua/lspconfig/configs/eslint.lua">eslint</a>는 nvim-lspconfig에서 제공하기 때문에 <code class="language-text">require'lspconfig'.eslint.setup{}</code>으로 추가할 수 있다. null-ls처럼 diagnostic, formatting, code action을 구분하지 않는다.
제공되지 않는 것은 nvim-lspconfig의 <a href="https://github.com/neovim/nvim-lspconfig/tree/master?tab=readme-ov-file#contributions">다른 예제를 보고 따라하면 추가할 수 있다</a>.</p>
<h2 id="도움말-help" style="position:relative;"><a href="#%EB%8F%84%EC%9B%80%EB%A7%90-help" aria-label="도움말 help permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>도움말 <code class="language-text">:help</code></h2>
<p>vim 도움말. 명령어, 함수, 변수 등 키워드로 도움말을 제공한다.
기능이 많으므로 도움말을 보는 방법은 필수적으로 알아둬야 한다.</p>
<p><code class="language-text">:h help</code>는 도움말에 대한 도움말이다.
도움말 창이 뜨면 노말 모드처럼 탐색하면 된다.</p>
<p>설치한 플러그인의 도움말도 여기서 제공하므로 같은 경험을 준다.</p>
<p><code class="language-text">:h KEYWORD</code>와 같이 사용한다.
키워드 전체를 입력하지 않아도 된다.
키워드 일부만 입력해도 가장 근접한 키워드를 찾는다.
예를들어 <code class="language-text">:h usr_12.txt</code> 대신 <code class="language-text">:h 12.txt</code>만 입력해도 된다.</p>
<h3 id="도움말-탐색하기" style="position:relative;"><a href="#%EB%8F%84%EC%9B%80%EB%A7%90-%ED%83%90%EC%83%89%ED%95%98%EA%B8%B0" aria-label="도움말 탐색하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>도움말 탐색하기</h3>
<p>도움말은 다른 도움말에 대한 링크를 포함한다.</p>
<p>링크는 색상이 강조되어 표기된다.
키워드에 커서를 위치시키고 <code class="language-text">CTRL-]</code>를 누르면 해당 섹션으로 이동한다.</p>
<p>일반 텍스트도 <code class="language-text">CTRL-]</code>로 이동할 수 있는데,
<code class="language-text">CTRL-]</code>의 기능은 단순히 키워드의 정의를 찾는 기능이기 때문이다.</p>
<h3 id="명령어-조합에-관한-팁" style="position:relative;"><a href="#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A1%B0%ED%95%A9%EC%97%90-%EA%B4%80%ED%95%9C-%ED%8C%81" aria-label="명령어 조합에 관한 팁 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>명령어 조합에 관한 팁</h3>
<p><code class="language-text">:h usr_12.txt</code>는 유용한 명령어 조합에 대한 팁이 담긴 메뉴얼이다.</p>
<p><code class="language-text">:h 12.4</code>는 모든 줄을 역정렬하는 방법을 설명한다.</p>
<p><code class="language-text">:global/^/move 0</code>로 전체 줄을 역정렬할 수 있다. <code class="language-text">move 0</code>가 이동할 줄 번호를 의미하므로, <code class="language-text">move 10</code>이면 10번째 아래의 모든 줄만 역정렬한다.</p>
<h2 id="사용-사례" style="position:relative;"><a href="#%EC%82%AC%EC%9A%A9-%EC%82%AC%EB%A1%80" aria-label="사용 사례 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>사용 사례</h2>
<h3 id="파일-검색" style="position:relative;"><a href="#%ED%8C%8C%EC%9D%BC-%EA%B2%80%EC%83%89" aria-label="파일 검색 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>파일 검색</h3>
<p><a href="https://github.com/junegunn/fzf.vim">fzf.vim</a>이 제공하는 기능 몇가지를 사용한다.</p>
<p>fzf.vim이 제공하는 미리보기 창으로 파일을 검색한다.
코드를 미리 볼 수 있고, interactive 검색이 가능한 장점이 있다.</p>
<ol>
<li>ctrl + p</li>
</ol>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim">nnoremap <span class="token operator">&lt;</span>expr<span class="token operator">></span> <span class="token operator">&lt;</span>C<span class="token operator">-</span><span class="token keyword">p</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token function">system</span><span class="token punctuation">(</span><span class="token string">'git rev-parse'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">':Files'</span> <span class="token punctuation">:</span> <span class="token string">':GFiles --exclude-standard --others --cached'</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string">"\&lt;cr>"</span></code></pre></div>
<p>현재 작업 경로가 git 저장소인 경우 <code class="language-text">:GFiles</code>로,
git 저장소가 아닌 경우 <code class="language-text">:Files</code>로 파일을 검색하기 때문에 어떤 명령을 사용할 지 고려하지 않아도 된다.</p>
<p><code class="language-text">:GFiles</code>는 .gitignore를 확인하기 때문에 불필요한 파일을 제외하고 검색할 수 있다.
일부러 제외된 파일을 검색하기 위해선 <code class="language-text">:Files</code>나 <code class="language-text">:FZF</code>를 입력한다.</p>
<ol start="2">
<li><code class="language-text">:Rg</code> or <code class="language-text">:Ag</code></li>
</ol>
<p>각각 <a href="https://github.com/BurntSushi/ripgrep">ripgrep</a>, <a href="https://github.com/ggreer/the_silver_searcher">the_silver_searcher를</a> 사용하는 명렁어다.
따라서 각 도구 설치가 필요하다.</p>
<p>도구 이름에서 보이듯이 grep, 즉 파일 내용을 검색한다.
검색 결과 미리보기 창에서 다시 검색할 수 있다.</p>
<p>두 도구 차이점은 모르겠다. 검색 결과는 조금 다르다.</p>
<h3 id="창-네비게이션" style="position:relative;"><a href="#%EC%B0%BD-%EB%84%A4%EB%B9%84%EA%B2%8C%EC%9D%B4%EC%85%98" aria-label="창 네비게이션 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>창 네비게이션</h3>
<ol>
<li>팝업 창으로 커서 이동</li>
</ol>
<p>nvim의 diagnostic 또는 hover(<s-k>)는 팝업 창을 띄운다.
커서를 옮기면 팝업 창이 사라지는데, 팝업 안으로 커서를 이동하려면 <code class="language-text">&lt;c-w>w</code>를 사용한다.(<code class="language-text">:h CTRL-W_w</code>)</p>
<h2 id="내장-기능" style="position:relative;"><a href="#%EB%82%B4%EC%9E%A5-%EA%B8%B0%EB%8A%A5" aria-label="내장 기능 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>내장 기능</h2>
<h3 id="quickfix--location-list" style="position:relative;"><a href="#quickfix--location-list" aria-label="quickfix  location list permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>quickfix &#x26; location list</h3>
<p><code class="language-text">:h quickfix</code> <code class="language-text">:h location-list</code></p>
<p>파일 위치를 목록으로 관리한다.
quickfix는 모든 창에서, location-list는 현재 창에서만 유지한다는 점이 다르다.</p>
<p>ref. <a href="https://freshman.tech/vim-quickfix-and-location-list/">https://freshman.tech/vim-quickfix-and-location-list/</a></p>
<p>목록에 나타난 코드를 한꺼번에 수정할 수 있는데, 동시에 여러 파일을 수정하는 용도로 사용한다.</p>
<h4 id="commands" style="position:relative;"><a href="#commands" aria-label="commands permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>commands</h4>
<ul>
<li><code class="language-text">cnext</code>: 다음 지점으로.</li>
<li><code class="language-text">cprevious</code>: 이전 지점으로.</li>
<li><code class="language-text">copen</code>: 목록을 연다.</li>
</ul>
<p>location-list의 명령어는 prefix <code class="language-text">c</code> -> <code class="language-text">l</code> 바꾸면 대응한다.</p>
<h4 id="grep" style="position:relative;"><a href="#grep" aria-label="grep permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>grep</h4>
<p>e.g. <code class="language-text">:vimgrep /myfunc/ **/*.c</code></p>
<p><code class="language-text">:h vimgrep</code> <code class="language-text">:grep</code> <code class="language-text">:lgrep</code>(location-list)</p>
<p>패턴을 검색하고 결과를 quickfix 목록으로 만든다.</p>
<h4 id="cdo-ldo-검색된-모든-entry에-명령어-적용" style="position:relative;"><a href="#cdo-ldo-%EA%B2%80%EC%83%89%EB%90%9C-%EB%AA%A8%EB%93%A0-entry%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9" aria-label="cdo ldo 검색된 모든 entry에 명령어 적용 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">cdo</code>, <code class="language-text">ldo</code> 검색된 모든 entry에 명령어 적용</h4>
<p><code class="language-text">cdo s/foo/bar</code> <code class="language-text">ldo s/foo/bar</code></p>
<p>quickfix, location-list 검색 결과에 명령어를 적용한다.</p>
<p>grep으로 검색하고, cdo로 적용, 예시:</p>
<ol>
<li><code class="language-text">:vimgrep foo **/*.md</code> 모든 <code class="language-text">md</code> 파일에서 <code class="language-text">foo</code> 검색한다.</li>
<li><code class="language-text">:copen</code> 검색 결과 확인하고.</li>
<li><code class="language-text">cdo s/foo/bar</code> 검색 결과에서 <code class="language-text">foo</code> -> <code class="language-text">bar</code> 대체한다.</li>
</ol>
<p><code class="language-text">:cdo s/foo/bar | update</code></p>
<p><code class="language-text">| update</code>를 사용하면 수정과 함께 저장한다.</p>
<h4 id="cfdo-lfdo-검색된-모든-파일에-명령어-적용" style="position:relative;"><a href="#cfdo-lfdo-%EA%B2%80%EC%83%89%EB%90%9C-%EB%AA%A8%EB%93%A0-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9" aria-label="cfdo lfdo 검색된 모든 파일에 명령어 적용 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">cfdo</code>, <code class="language-text">lfdo</code> 검색된 모든 파일에 명령어 적용</h4>
<p><code class="language-text">:cfdo %s/foo/bar</code> or <code class="language-text">:ldo %s/foo/bar</code></p>
<p><code class="language-text">cdo</code>와 차이점은 파일 모든 내용에 대해서 적용한다는 점이 다르다. 검색 목록에서 보이지 않는 라인도 적용되니 주의.</p>
<h4 id="bufdo-모든-buffer-파일에-명령어-적용" style="position:relative;"><a href="#bufdo-%EB%AA%A8%EB%93%A0-buffer-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9" aria-label="bufdo 모든 buffer 파일에 명령어 적용 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">bufdo</code> 모든 buffer 파일에 명령어 적용</h4>
<p><code class="language-text">:bufdo %s/foo/bar</code></p>
<p>모든 buffer에 대해서 적용하므로 <code class="language-text">:buffers</code>등 명령어로 적용 대상을 잘 확인하자.</p>
<h4 id="user-function" style="position:relative;"><a href="#user-function" aria-label="user function permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>User Function</h4>
<p>사용자 함수에 대한 메뉴얼은 <code class="language-text">:help userfunc</code>에서 설명한다.</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">function</span><span class="token operator">!</span> <span class="token function">MyFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> abort
  echo <span class="token string">"Hello World!"</span>
<span class="token keyword">endfunction</span></code></pre></div>
<p>위 함수는 <code class="language-text">:call MyFunction()</code>으로 호출할 수 있다.</p>
<p><code class="language-text">function!</code>의 <code class="language-text">!</code>는 함수가 이미 존재하면 덮어쓴다는 의미다.
<code class="language-text">function</code>은 함수가 이미 존재하면 에러가 발생한다.
<code class="language-text">:help E122</code>에서 설명한다.</p>
<p><code class="language-text">abort</code>는 에러가 발생하면 함수를 거기서 종료한다. <code class="language-text">:help func-abort</code>에서 설명한다.</p>
<hr>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">function</span> s<span class="token punctuation">:</span><span class="token function">MyFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  echo <span class="token string">"Hello World!"</span>
<span class="token keyword">endfunction</span></code></pre></div>
<p><code class="language-text">s:</code>를 붙이면 local function이 된다.
함수는 정의된 스크립트에서만 호출할 수 있다. 즉, <code class="language-text">call MyFunction()</code>로 호출할 수 없다.
vim은 많은 플러그인을 통해 함수가 정의되어 이름 충돌할 수 있으므로 local function을 사용하는 것이 좋다.</p>
<h3 id="fuzzy-매칭-matchfuzzy" style="position:relative;"><a href="#fuzzy-%EB%A7%A4%EC%B9%AD-matchfuzzy" aria-label="fuzzy 매칭 matchfuzzy permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fuzzy 매칭: <code class="language-text">matchfuzzy()</code></h3>
<p><code class="language-text">:h matchfuzzy()</code></p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token punctuation">:</span>echo <span class="token function">matchfuzzy</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'red apple'</span><span class="token punctuation">,</span> <span class="token string">'yello banana'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'ra'</span><span class="token punctuation">)</span>  <span class="token comment">" [</span><span class="token string">'red apple'</span><span class="token punctuation">]</span></code></pre></div>
<p>dictionary를 검색할 수도 있다:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">let</span> s<span class="token punctuation">:</span>lst <span class="token operator">=</span> <span class="token punctuation">[</span>
  \ <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'john'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  \ <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'jane'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  \ <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'joe'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  \ <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'jill'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  \<span class="token punctuation">]</span>

echo s<span class="token punctuation">:</span>lst<span class="token operator">-</span><span class="token operator">></span><span class="token function">matchfuzzy</span><span class="token punctuation">(</span><span class="token string">'je'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">" [{</span><span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'joe'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'jane'</span><span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre></div>
<p>fuzzy search하는 함수.</p>
<h3 id="make-and-makeprg" style="position:relative;"><a href="#make-and-makeprg" aria-label="make and makeprg permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">:make</code> and <code class="language-text">makeprg</code></h3>
<p><code class="language-text">:make</code> 명령은 <code class="language-text">makeprg</code>에 설정한 것을 실행한다.
출력이 quickfix 양식이면 quckfix과 연동할 수 있다!</p>
<h4 id="build-integration---how-to-do-90-of-what-plugins-do" style="position:relative;"><a href="#build-integration---how-to-do-90-of-what-plugins-do" aria-label="build integration   how to do 90 of what plugins do permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>build integration - How to Do 90% of What Plugins Do</h4>
<p><a href="https://youtu.be/XA2WjJbmmoM?t=3062">https://youtu.be/XA2WjJbmmoM?t=3062</a></p>
<p>영상 52분의 build integration 주제에서 설명한다.
vim 내에서 테스트를 실행하고, 실패한 테스트가 있으면 quickfix를 통해 실패 지점으로 네비게이션할 수 있다.</p>
<p>영상 일련 과정:</p>
<ol>
<li><code class="language-text">makeprg</code> 설정한다.: <code class="language-text">set makeprg=bundle\ exec\ rspec\ -f\ QuckfixFormatter</code></li>
<li><code class="language-text">:make</code> 명령으로 <code class="language-text">rspec</code> 테스트 실행한다.</li>
<li>테스트 실패한 지점을 quickfix로 보여준다.</li>
</ol>
<p><code class="language-text">rspec</code>명령에 <code class="language-text">--format QuckfixFormatter</code> 옵션으로 quickfix에서 사용할 수 있는 양식으로 출력된다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/c1328/rspec-formatter.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 16.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsElEQVR42i2O0YqDMBREgwjSLe0SjCYqMUZNLdW42/7/v51m3T4MlzkMc0cs24YLATtNDLcbpne4dWV8PplfL4afnTF5v3hO8kwhT3xdz3xfLhRFQZZl5HmOEOJfIRWtjwdLKttj5M/P3mO7jt894vuecRjYUqlLz8I0E9KA+3JnS2NiTIOco65rqqpCWGvRWtM0zQHN5x5KXEp5BMuyPJiqFEopjDG0Kdu27UcdRmveuKFPOhq4gR4AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="rspec formatter"
        title=""
        src="/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/fcda8/rspec-formatter.png"
        srcset="/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/12f09/rspec-formatter.png 148w,
/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/e4a3f/rspec-formatter.png 295w,
/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/fcda8/rspec-formatter.png 590w,
/cat-logic/static/0e51a27dd2009420be4c85af56503f9e/c1328/rspec-formatter.png 866w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>다만 기본 제공되는 것은 아니고, 플러그인 같아 보인다. 문서에는 <code class="language-text">QuickfixFormatter</code>에 대한 내용이 없다.</p>
<p>ref. python traceback을 quickfix와 연동할 수 없냐는 질문: <a href="https://vi.stackexchange.com/questions/5110/quickfix-support-for-python-tracebacks">Quickfix support for Python tracebacks</a></p>
<h3 id="matchit" style="position:relative;"><a href="#matchit" aria-label="matchit permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>matchit</h3>
<p><code class="language-text">:h matchit</code></p>
<p><code class="language-text">%</code>로 짝에 맞는 문자열로 커서를 이동한다.</p>
<p>괄호의 경우 <code class="language-text">{</code>에서 사용하면 반대편 <code class="language-text">}</code>으로 이동한다.
HTML 태그의 경우 <code class="language-text">&lt;div></code>에서 사용하면 <code class="language-text">&lt;/div></code>로 이동한다.
그 외 xml, latex 등 다양한 언어를 지원한다고 한다.</p>
<p>이전에는 없었던 기능인가 보다.
<a href="https://github.com/vim-scripts/matchit.zip/">matchit.zip</a>이라는 플러그인으로 제공되기도 했다.
내 경우 다른 사람이 사용하던 <code class="language-text">.vimrc</code>로 시작했는데, matchit.zip이 포함되어 있었다.</p>
<h3 id="터미널-에뮬레이터" style="position:relative;"><a href="#%ED%84%B0%EB%AF%B8%EB%84%90-%EC%97%90%EB%AE%AC%EB%A0%88%EC%9D%B4%ED%84%B0" aria-label="터미널 에뮬레이터 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>터미널 에뮬레이터</h3>
<p>vim에서 터미널을 실행할 수 있다. <code class="language-text">:terminal</code> 명령어로 실행하면 <code class="language-text">Terminal-mode</code>로 전환한다.</p>
<p><code class="language-text">:h terminal</code></p>
<p>터미널 모드의 매핑은 <code class="language-text">tmap</code>으로 설정한다. <code class="language-text">:h mapmode-t</code>.</p>
<p>다른 모드와 달리 커서가 동작하지 않고, 키 입력이 터미널로 전달되는데, <code class="language-text">CTRL-\ CTRL-N</code>으로 normal 모드로 전환할 수 있다.
이건 터미널 모드 뿐만 아니라 아무 모드에서나 normal 모드로 전환하는 단축키다. <code class="language-text">:h t_CTRL-\_CTRL-N</code>.</p>
<p>나는 불편해서 <code class="language-text">&lt;leader>esc</code>로 normal 모드로 전환하는 매핑을 추가했다.</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim">tnoremap <span class="token operator">&lt;</span>leader<span class="token operator">></span><span class="token operator">&lt;</span>esc<span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">c</span><span class="token operator">-</span>\<span class="token operator">></span><span class="token operator">&lt;</span><span class="token keyword">c</span><span class="token operator">-</span><span class="token keyword">n</span><span class="token operator">></span></code></pre></div>
<p>터미널 모드에서만 동작하게 <code class="language-text">tnoremap</code>으로 설정했다.</p>
<hr>
<p><code class="language-text">:terminal ls</code>와 같이 시작 명령어를 지정할 수 있다.<br>
나는 markdown 파일 작업 중 <code class="language-text">:terminal mdcat %</code>으로 현재 파일의 preview 보는 용도로 사용한다.<br>
<a href="https://github.com/swsnr/mdcat">mdcat</a>은 markdown용 cat이다.</p>
<h3 id="자동-서식-formatoptions" style="position:relative;"><a href="#%EC%9E%90%EB%8F%99-%EC%84%9C%EC%8B%9D-formatoptions" aria-label="자동 서식 formatoptions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>자동 서식: <code class="language-text">formatoptions</code></h3>
<p>vim으로 커밋 메시지를 작성할 때, 자동으로 줄바꿈 되는 것을 경험했다면 이 옵션이 사용된 것이다.(아마도 vim 기본 설정으로 보인다.)</p>
<ul>
<li><code class="language-text">:h formatoptions</code></li>
<li><code class="language-text">:h fo-tables</code></li>
</ul>
<p><code class="language-text">formatoptions</code>는 어떤 자동 서식을 적용할 지 옵션을 가지고있다. <code class="language-text">:set formatoptions?</code>로 확인하자.</p>
<p>Git 커밋메시지의 파일 타입은 <code class="language-text">ft=gitcommit</code>이며, 옵션을 확인해보면 <code class="language-text">formatoptions=jtln</code>이다.<br>
이 중 <code class="language-text">t</code>가 자동 줄바꿈 한다고 <code class="language-text">:h fo-tables</code>에서 설명한다. <code class="language-text">textwidth</code> 옵션 만큼 길어지면 자동 줄바꿈한다.<br>
비활성화는 <code class="language-text">t</code> 옵션을 제거하거나(<code class="language-text">set formatoptions-=t</code>) <code class="language-text">textwidth</code>를 0으로 설정하면 된다(<code class="language-text">set textwidth=0</code>).</p>
<h3 id="실행취소undo-관리local-history" style="position:relative;"><a href="#%EC%8B%A4%ED%96%89%EC%B7%A8%EC%86%8Cundo-%EA%B4%80%EB%A6%AClocal-history" aria-label="실행취소undo 관리local history permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>실행취소(undo) 관리(Local History)</h3>
<p>Vim은 실행취소 <code class="language-text">u</code>와 다시실행 <code class="language-text">CTRL-R</code>을 지원한다.<br>
그리고 실행취소 내역은 <strong>트리 구조</strong>로 저장된다.
실행취소 내역은 기본적으로 현재 세션에 유지되므로 종료하지만 않았더라면 수정했던 모든 내용은 되돌릴 수 있다.</p>
<ul>
<li><code class="language-text">:h undo-tree</code></li>
<li><code class="language-text">:h undolist</code></li>
</ul>
<p><code class="language-text">:undolist</code>는 변경사항 트리의 Leaf 노드를 보여준다.
undo 시점이 Leaf 노드가 된다. 이 노드는 <code class="language-text">:undo 노드번호</code>로 되돌릴 수 있다.
되돌리는 시점도 Leaf 노드를 생성한다.</p>
<p>노드에는 시간도 표시되는데, <code class="language-text">:earlier</code>와 <code class="language-text">:later</code>로 시간을 기준으로 이동할 수 있다.
예를들어 <code class="language-text">:earlier 1h</code>로 1시간 전으로 이동한다.</p>
<h4 id="undotree-플러그인" style="position:relative;"><a href="#undotree-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8" aria-label="undotree 플러그인 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>undotree 플러그인</h4>
<p>undolist를 트리 구조로 보여주는 플러그인.</p>
<p><a href="https://github.com/mbbill/undotree">https://github.com/mbbill/undotree</a></p>
<p>undolist는 직관적으로 보기 어렵다.
이 플러그인은 트리 구조를 보여주며, 방향키를 통해 이동 및 미리보기를 제공한다.</p>
<h3 id="자동완성" style="position:relative;"><a href="#%EC%9E%90%EB%8F%99%EC%99%84%EC%84%B1" aria-label="자동완성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>자동완성</h3>
<p>입력 모드나 명령 모드에서 자동완성 팝업을 출력하고, 선택하는 기능.
일반적으로 Tab 키로 자동완성을 시작한다.</p>
<p><code class="language-text">:h ins-completion</code></p>
<p>키 입력</p>
<ul>
<li><code class="language-text">CTRL-P</code>: 자동완성 <strong>이전 항목으로 이동</strong></li>
<li><code class="language-text">CTRL-N</code>: 자동완성 <strong>다음 항목으로 이동</strong></li>
<li><code class="language-text">CTRL-E</code>: 팝업을 닫고 자동 완성된 부분을 지운다.</li>
<li><code class="language-text">CTRL-Y</code>: 팝업을 닫고 자동 완성된 부분을 유지한다.</li>
</ul>
<h2 id="구문-강조" style="position:relative;"><a href="#%EA%B5%AC%EB%AC%B8-%EA%B0%95%EC%A1%B0" aria-label="구문 강조 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>구문 강조</h2>
<p><code class="language-text">:h syntax</code></p>
<p><code class="language-text">syntax on</code>으로 구문 강조를 활성화한다. vim은 기본적으로 언어별 문법 강조를 제공한다.<br>
그 목록은 메뉴얼에서 확인할 수 있다. <code class="language-text">ft-&lt;LANGUAGE>-syntax</code> 이름으로 언어별 메뉴얼이 제공된다.<br>
예를들어 <code class="language-text">:h ft-python-syntax</code>로 파이썬 문법 강조에 대한 메뉴얼을 확인할 수 있다.</p>
<p>neovim은 <a href="https://github.com/nvim-treesitter/nvim-treesitter">nvim-treesitter</a> 플러그인으로 언어별 요소를 분석하여 더 정교하게 구문을 분석한다.
<strong>하지만 기본 <code class="language-text">colorscheme</code>으로는 정교한 구문 강조를 지원하지 않는다</strong>.<br>
<a href="https://github.com/nvim-treesitter/nvim-treesitter/wiki/Gallery">tresitter wiki의 gallery</a>에서 treesitter를 지원하는 <code class="language-text">colorscheme</code>을 설치하자.</p>
<h2 id="레지스터registers" style="position:relative;"><a href="#%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0registers" aria-label="레지스터registers permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>레지스터(Registers)</h2>
<p>레지스터는 텍스트를 저장하는 공간이다.</p>
<p><code class="language-text">:h registers</code></p>
<p>레지스터는 크게 두 가지로 구분할 수 있다.
사용자가 직접 사용하는 레지스터와 vim이 제공하는 읽기 전용 레지스터다.</p>
<p>사용자 레지스터는 원하는 텍스트를 저장하고, 읽는 용도로 사용한다.
<code class="language-text">"ayy</code>로 현재 라인을 <code class="language-text">a</code> 레지스터에 저장하고, <code class="language-text">"ap</code>로 붙여넣기한다.</p>
<p>직접 사용하는 방식 외에도 매크로의 녹화와 재생 또한 레지스터를 사용한다.
응용하면 텍스트로 명령어를 저장하고, 매크로로 실행할 수 있다.</p>
<p>vim이 제공하는 읽기 전용 레지스터는 클립보드, 마지막 삭제된 텍스트 등 다양한 트리거에 의해 저장된다.
자주 사용하는 특수 레지스터는 알아두면 좋다.</p>
<ol>
<li><code class="language-text">+</code> 클립보드 레지스터. 정확히는 selection register. 클립보드가 활성되지 않으면 unnamed register와 같다.</li>
<li><code class="language-text">"</code> unnamed register. d, c, s, x 등으로 삭제된 내용이 저장된다.</li>
<li><code class="language-text">_</code> black hole register. 읽는 용도로 사용하지 않는다. 덮어쓸 때 삭제된 내용을 저장하지 않는 용도로 쓴다.
<ul>
<li>e.g. <code class="language-text">"_dd</code> 현재 라인을 삭제하지만 unnamed register에 저장하지 않는다.</li>
</ul>
</li>
</ol>
<p><code class="language-text">let @</code>을 사용하면 직접 register에 값을 할당할 수 있다.
예를들어, <code class="language-text">+</code> register에 클립보드를 연결했다면, 다음은 클립보드에 현재 파일 경로를 복사한다.</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token punctuation">:</span><span class="token keyword">let</span> @<span class="token operator">+=</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token string">'%'</span><span class="token punctuation">)</span></code></pre></div>
<h2 id="variables" style="position:relative;"><a href="#variables" aria-label="variables permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Variables</h2>
<p>변수는 <code class="language-text">:let</code>으로 할당하고, <code class="language-text">:echo</code>로 출력한다.</p>
<p>변수는 다양한 scope를 가질 수 있는데, <code class="language-text">:h variable-scope</code>에서 확인할 수 있다.
스코프는 prepending(앞에 붙이는)으로 결정된다.
전역 변수는 <code class="language-text">g:</code>, 스크립트 변수는 <code class="language-text">s:</code>와 같은 형식으로 사용한다.</p>
<blockquote>
<p>(nothing) In a function: local to a function; otherwise: global</p>
<p>(아무것도 없으면) 함수 내에서는 로컬 변수; 그 외에는 전역 변수</p>
<p>:h variable-scope 중에서.</p>
</blockquote>
<blockquote>
<p>Inside functions global variables are accessed with "g:".  Omitting this will access a variable local to a function.</p>
<p>함수 내에서 전역 변수는 "g:"로 접근한다. 생략하면 함수 내에서 로컬 변수에 접근한다.</p>
<p>h: global-variable 중에서.</p>
</blockquote>
<p>prepending을 생략하면 일반적으로 전역 변수지만, 함수 내에서는 로컬 변수를 가리킨다.</p>
<p>현재 scope에 따라 의미가 달라질 수 있으므로 명시하는 편이 암시적인 오류를 줄일 수 있다.</p>
<h3 id="path" style="position:relative;"><a href="#path" aria-label="path permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">path</code></h3>
<p><code class="language-text">:find</code> 검색 범위를 결정한다.
<code class="language-text">:find foo</code> 파일이나 디렉토리를 검색하고 연다,
<cr> 대신 <tab>으로 모든 결과를 가져오자.</p>
<p><a href="https://youtu.be/GyPXYF6jgwk?t=325">https://youtu.be/GyPXYF6jgwk?t=325</a>
netrw, find 사용법</p>
<p><code class="language-text">set path+=**</code> <code class="language-text">**</code>를 추가하면 현재 폴더 내 모든 범위를 검색한다.
<code class="language-text">**</code> 사용하기 전과 비교해보면 검색 수가 달라지는 것을 알 수 있다.
<code class="language-text">.gitignore</code>의 무시한 파일, <code class="language-text">node_modules</code> 같이 무거운 폴더도 검색된다.</p>
<h2 id="text-objects" style="position:relative;"><a href="#text-objects" aria-label="text objects permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Text Objects</h2>
<p>텍스트 오브젝트는 vim에서 선택 및 조작할 수 있는 텍스트 단위를 말한다.</p>
<p><code class="language-text">:h text-objects</code></p>
<p><code class="language-text">w</code>는 단어, <code class="language-text">s</code>는 문장, <code class="language-text">p</code>는 문단 등이 있다.
선택하는 명령어와 조합하여 <code class="language-text">viw</code>, <code class="language-text">vis</code>, <code class="language-text">vip</code>와 같이 사용할 수 있다.
각각 단어, 문장, 문단을 선택한다.</p>
<p><code class="language-text">w</code>는 문자와 숫자, underscore로 이루어진 문자열을 말한다.
<code class="language-text">W</code>는 공백을 제외한 연속되는 문자열을 말한다. (<code class="language-text">:h word</code>, <code class="language-text">:h WORD</code> 참고)</p>
<p><code class="language-text">s</code>entence는 마침표, 느낌표, 물음표로 끝나는 문장을 말한다.
<code class="language-text">p</code>aragraph는 빈 줄로 구분된 문단을 말한다.</p>
<p><code class="language-text">t</code>는 tag를 말한다(<code class="language-text">:tag-blocks</code>).
HTML 또는 XML 태그를 선택한다.</p>
<p>몇 가지 텍스트 오브젝트만 알아두면 빠르게 텍스트를 편집하거나 네비게이션할 수 있다.
또 플러그인을 통해 사용자 정의 텍스트 오브젝트를 만들 수 있다.</p>
<p><a href="https://github.com/nvim-treesitter/nvim-treesitter-textobjects">nvim-treesitter-textobjects</a>는
언어마다 표현 방식이 다른 함수, 변수, 클래스 등 다양한 텍스트 오브젝트를 일반화하여 제공하는 플러그인이다.</p>
<h2 id="plugin-만들기" style="position:relative;"><a href="#plugin-%EB%A7%8C%EB%93%A4%EA%B8%B0" aria-label="plugin 만들기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plugin 만들기</h2>
<p><code class="language-text">:h write-plugin</code> nvim의 사용자 메뉴얼 플러그인 작성 섹션.</p>
<p>몇몇 플러그인 설명을 보면 <code class="language-text">filetype plugin indent on</code> 구문을 추가하라고 하는데,
스크립트를 읽어들이는 옵션이다.</p>
<p><code class="language-text">:h filetype-overview</code>, <code class="language-text">:h filetype</code>, <code class="language-text">:h filetype-plugin-on</code>, <code class="language-text">:h filetype-indent-on</code> <br>
위 구문은 사실 <code class="language-text">filetype on</code>, <code class="language-text">filetype plugin on</code>, <code class="language-text">filetype indent on</code>를 한 번에 나타낸 것이다. <br>
<code class="language-text">filetype on</code>은 filetype 감지(detection)을 활성화한다. <code class="language-text">$VIMRUNTIME/filetype.vim</code> 파일을 읽는 것을 의미하며, <code class="language-text">BufRead</code>와 같은 filetype 이벤트를 발생시킨다. <br>
<code class="language-text">filetype plugin on</code>은 <code class="language-text">ftplugin</code>을 읽어들인다. <code class="language-text">runtimepath</code>에 있는 ftplugin 관련 파일을 읽어들이며, 일반적으로 플러그인은 여기에 작성한다. <br>
<code class="language-text">filetype indent on</code>은 <code class="language-text">indent</code> 파일을 읽어들인다. <code class="language-text">runtimepath</code>에 있는 indent 관련 파일을 읽어들인다. <br>
그래서 <code class="language-text">filetype plugin on</code>을 사용하여 플러그인 파일을 읽도록 유도하는 것이다.</p>
<p>vim-plug를 사용한다면 알아서 <code class="language-text">filetype plugin indent on</code>을 <a href="https://github.com/junegunn/vim-plug/blob/d80f495fabff8446972b8695ba251ca636a047b0/plug.vim#L396">추가해 주는 것으로 보인다</a>.</p>
<h3 id="프로젝트-구조" style="position:relative;"><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0" aria-label="프로젝트 구조 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>프로젝트 구조</h3>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">.</span>
│   <span class="token comment"># 폴더 내의 모든 파일을 자동으로 로드한다.</span>
├── autoload
│   └── vimwiki_link
│       └── base.vim
│   <span class="token comment"># 파일 타입에 따라 자동으로 로드한다.</span>
└── ftplugin
    │   <span class="token comment"># `vimwiki/script.vim`과 `vimwiki.vim` 파일 모두</span>
    │   <span class="token comment"># vimwiki 파일 타입인 버퍼를 열면 자동으로 로드한다.</span>
    ├── vimwiki
    │   └── script.vim
    └── vimwiki.vim</code></pre></div>
<h3 id="autoload" style="position:relative;"><a href="#autoload" aria-label="autoload permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">autoload</code></h3>
<p><code class="language-text">:h autoload</code></p>
<p><code class="language-text">autoload/vimwiki_link/base.vim</code> 파일이 있으면 <code class="language-text">vimwiki_link#base#Function()</code> 함수 이름으로 정의한다.</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"># autoload<span class="token operator">/</span>vimwiki_link<span class="token operator">/</span>base<span class="token operator">.</span><span class="token keyword">vim</span>
<span class="token keyword">function</span><span class="token operator">!</span> vimwiki_link#base#<span class="token function">follow_link</span><span class="token punctuation">(</span><span class="token punctuation">)</span> abort
  # <span class="token operator">.</span><span class="token operator">.</span><span class="token operator">.</span>
<span class="token keyword">endfunction</span></code></pre></div>
<p>폴더 및 파일 이름이 네임스페이스가 된다. 만약 다른 네임스페이스로 선언하면 에러가 발생한다.</p>
<h3 id="ftplugin" style="position:relative;"><a href="#ftplugin" aria-label="ftplugin permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">ftplugin</code></h3>
<ul>
<li><code class="language-text">:h ftplugin</code></li>
<li><code class="language-text">:h ftplugin-name</code></li>
</ul>
<p><code class="language-text">ftplugin/</code> 디렉토리 아래에 <code class="language-text">filetype.vim</code> 파일 타입을 이름으로 만들면, 파일 타입에 따라 자동 로드된다.
디렉토리나 파일 이름의 prefix로 파일 타입을 지정해도 된다:</p>
<blockquote>
<p>The generic names for the filetype plugins are:</p>
<p>ftplugin/<filetype>.vim
ftplugin/<filetype>_<name>.vim
ftplugin/<filetype>/<name>.vim</p>
</blockquote>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token comment">" ftplugin/vimwiki.vim</span>
command<span class="token operator">!</span> <span class="token operator">-</span><span class="token keyword">buffer</span> VimwikiSmartLink <span class="token keyword">call</span> vimwiki_link#base#<span class="token function">follow_link</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

nnoremap <span class="token operator">&lt;</span><span class="token keyword">silent</span><span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token keyword">buffer</span><span class="token operator">></span> <span class="token operator">&lt;</span>Plug<span class="token operator">></span>VimwikiSmartLink <span class="token punctuation">:</span>VimwikiSmartLink<span class="token operator">&lt;</span>CR<span class="token operator">></span>
nnoremap <span class="token operator">&lt;</span>CR<span class="token operator">></span><span class="token operator">&lt;</span>CR<span class="token operator">></span> <span class="token operator">&lt;</span>Plug<span class="token operator">></span>VimwikiSmartLink</code></pre></div>
<p>보통 파일 타입에 맞는 명령어를 정의하거나 매핑을 생성하고
<code class="language-text">autoload</code>의 함수를 호출하는 구조로 많이 사용하는 거 같다.</p>
<p>nvim이라면 <code class="language-text">~/.config/nvim/ftplugin</code> 디렉토리에 파일을 만들면 된다.</p>
<h3 id="plug-sid" style="position:relative;"><a href="#plug-sid" aria-label="plug sid permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">&lt;Plug></code> <code class="language-text">&lt;SID></code></h3>
<p><code class="language-text">:h using-&lt;Plug></code></p>
<blockquote>
<p>Both <SID> and <Plug> are used to avoid that mappings of typed keys interfere
with mappings that are only to be used from other mappings.</p>
</blockquote>
<p>매핑할 때 사용하는 특수 키 이름이다. 매핑 충돌을 피하기 위한 대책이다.
이 특수 키로 먼저 매핑하고, 실제 키에 매핑한다.</p>
<p>예를들어 vimwiki에는 다음과 같은 코드가 있다:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim">nnoremap <span class="token operator">&lt;</span><span class="token keyword">silent</span><span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token keyword">buffer</span><span class="token operator">></span> <span class="token operator">&lt;</span>Plug<span class="token operator">></span>VimwikiFollowLink <span class="token punctuation">:</span>VimwikiFollowLink<span class="token operator">&lt;</span>CR<span class="token operator">></span>

<span class="token comment">" ... 중간 생략</span>

<span class="token comment">" map_key는 최종적으로 :map 같은 명령어를 실행한다.</span>
<span class="token keyword">call</span> vimwiki#<span class="token keyword">u</span>#<span class="token function">map_key</span><span class="token punctuation">(</span><span class="token string">'n'</span><span class="token punctuation">,</span> <span class="token string">'&lt;CR>'</span><span class="token punctuation">,</span> <span class="token string">'&lt;Plug>VimwikiFollowLink'</span><span class="token punctuation">)</span></code></pre></div>
<h2 id="plugins" style="position:relative;"><a href="#plugins" aria-label="plugins permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plugins</h2>
<p>사용중인 플러그인.</p>
<h3 id="내장-플러그인standard-plugin" style="position:relative;"><a href="#%EB%82%B4%EC%9E%A5-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8standard-plugin" aria-label="내장 플러그인standard plugin permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>내장 플러그인(Standard Plugin)</h3>
<p>vim에 기본으로 포함된 플러그인. 별도 설치 없이도 기본 제공된다.
그래서 주의가 필요한 경우도 있다!</p>
<p>도움말은 <code class="language-text">:h standard-plugin</code>.</p>
<h4 id="matchparen" style="position:relative;"><a href="#matchparen" aria-label="matchparen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>matchparen</h4>
<p>괄호에 대한 매칭을 하이라이트한다. <code class="language-text">:h matchparen</code>.</p>
<h5 id="용량이-큰-파일에서-느려지는-문제" style="position:relative;"><a href="#%EC%9A%A9%EB%9F%89%EC%9D%B4-%ED%81%B0-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EB%8A%90%EB%A0%A4%EC%A7%80%EB%8A%94-%EB%AC%B8%EC%A0%9C" aria-label="용량이 큰 파일에서 느려지는 문제 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>용량이 큰 파일에서 느려지는 문제</h5>
<p>이 플러그인의 문제는 큰 파일에서 매우 느려진다는 점이다.</p>
<p><a href="https://github.com/Edunga1/cat-logic/blob/main/sites/src/related-docs/similarity-result.json">유사성 결과 JSON 파일</a>을
열 때와 커서를 이동할 때 멈추는 현상이 초 단위로 소요되었다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">FUNCTIONS SORTED ON TOTAL TIME
count  total (s)   self (s)  function
   28   3.302722   3.302551  &lt;SNR>108_Highlight_Matching_Pair()</code></pre></div>
<p><code class="language-text">108_Highlight_Matching_Pair</code>가 matchparen의 플러그인 함수로 보이는데, 가장 시간을 많이 소모했다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">count  total (s)   self (s)
                              " Remove any previous match.
   28   0.000272   0.000101   call s:Remove_Matches()
                            
                              " Avoid that we remove the popup menu.
                              " Return when there are no colors (looks like the cursor jumps).
   28              0.000108   if pumvisible() || (&amp;t_Co &lt; 8 &amp;&amp; !has("gui_running"))
                                return
   28              0.000009   endif
                            
                              " Get the character under the cursor and check if it's in 'matchpairs'.
   28              0.000078   let c_lnum = line('.')
   28              0.000058   let c_col = col('.')
   28              0.000022   let before = 0
                            
   28              0.002908   let text = getline(c_lnum)
   28              3.297441   let matches = matchlist(text, '\(.\)\=\%'.c_col.'c\(.\=\)')</code></pre></div>
<p>프로파일 세부 사항을 보면 정규식 사용으로 추정되는 <code class="language-text">matchlist</code> 함수가 원인으로 보인다.</p>
<p>커서 이동 중에 괄호를 만나면 하이라이트를 위해 짝이 맞는 괄호를 찾으면서 실행되어 느린것으로 보인다.
괄호가 아닌 문자에서는 느려지지 않는다.</p>
<p><code class="language-text">:NoMatchParen</code>으로 비활성화할 수 있다. 이제 괄호를 만나더라도 기능이 꺼져있어 속도 저하는 없다.</p>
<hr>
<p>파일 열거나 닫을 때 느린 문제는 아직 처리하지 못했다.
<code class="language-text">:LspStop</code>, <code class="language-text">:TSDisable</code> 사용하면 빠르게 닫히는 것은 확인해서, 자연스럽게 처리하는 방법을 찾고 있다.</p>
<h3 id="chrisbracsvvim" style="position:relative;"><a href="#chrisbracsvvim" aria-label="chrisbracsvvim permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>chrisbra/csv.vim</h3>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/cat-logic/static/a0263c7cc2a0ff2c19eae5792ce5a208/fe8a7/csv-vim-sample.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABq0lEQVR42lWS2ZKjMAxFCYHQwdjGYBabzSxJOr3N/3/dHbFMZuZBBaUqjs6V8Ow0Y+g0KlOiKhUak6HqO7RGwVQF3lSP6ChW9sisRWZq5F2LSjNoGcLqC3RV401aeJfnJ3jHcCVoXMYQ9B4+bhBtAmEFQu1wTkeclUNg7/DnG3xHva8f8DEDzz1kjY9kaXEqOnjX+ztkyxA3OZgmoEkQTQ6qiak4wnyAL1fogKBeELgZASUISEQMGYQiYO2DzwYnbXegaAhoNVhBQEvAZaRnjLRJcHkB3Qt4prgrkP8BGgJOBn7REvDxpHgrkAwLBmkZotsMSUMU1W44boYhAc/jP0CnIbIdKMYafr4ZPsAPw2Qz5IjmkcBXMlwju80wWIHmAB6Rea9eQD5anPKGgO8fu2FbICkZ7XA3TOkoGfUvuj8M3WYYjMsO/PiCmIoNqGiH6VDAT8kwpkmSPmaN3iOTbXRfoPoEivr/RSbDYCKgowN9fkO4HJKunFsyvLfwzbpDmiQHDtaXEHW875B+m92Qk6H7e+UVuDwQzBOCn1+Qc4G08KBb2uGzw6lu8Bsrsd3sWBi1AAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="csv.vim sample"
        title=""
        src="/cat-logic/static/a0263c7cc2a0ff2c19eae5792ce5a208/fcda8/csv-vim-sample.png"
        srcset="/cat-logic/static/a0263c7cc2a0ff2c19eae5792ce5a208/12f09/csv-vim-sample.png 148w,
/cat-logic/static/a0263c7cc2a0ff2c19eae5792ce5a208/e4a3f/csv-vim-sample.png 295w,
/cat-logic/static/a0263c7cc2a0ff2c19eae5792ce5a208/fcda8/csv-vim-sample.png 590w,
/cat-logic/static/a0263c7cc2a0ff2c19eae5792ce5a208/efc66/csv-vim-sample.png 885w,
/cat-logic/static/a0263c7cc2a0ff2c19eae5792ce5a208/c83ae/csv-vim-sample.png 1180w,
/cat-logic/static/a0263c7cc2a0ff2c19eae5792ce5a208/fe8a7/csv-vim-sample.png 1223w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>csv 파일의 highlighting, 열과 행에 대한 처리 도구를 제공한다.</p>
<p>newline이 포함되면 큰 따옴표로 묶어서 표현되기도 하는데, 인식 못하는 문제가 있다.</p>
<h4 id="features" style="position:relative;"><a href="#features" aria-label="features permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Features</h4>
<p><code class="language-text">:DeleteColumn 2-4</code> 2~4열 제거. <code class="language-text">:DeleteColumn 2</code> 2열만 제거</p>
<p><code class="language-text">:%ArrangeColumn</code> 명령으로 전체 열의 크기 일정하게 맞출 수 있다.
다만, 파일 내용에 공백 추가하여 수정하는 형태이므로 사용에 유의하자.<br>
Range <code class="language-text">%</code>를 제외하면 현재 라인만 동작한다는데, 커서와 동일한 컬럼에 걸친 모든 곳을 처리하는지 여러개의 컬럼이 수정된다.</p>
<h3 id="tpopevim-fugitive" style="position:relative;"><a href="#tpopevim-fugitive" aria-label="tpopevim fugitive permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>tpope/vim-fugitive</h3>
<p>Git wrapper 플러그인. Git을 사용하면 추천한다.
터미널 커맨드로 처리해도 좋지만, vim에서 바로 처리할 수 있어 접근성의 차원이 다르다.</p>
<p><a href="https://github.com/tpope/vim-fugitive">https://github.com/tpope/vim-fugitive</a></p>
<h4 id="git-command" style="position:relative;"><a href="#git-command" aria-label="git command permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">:Git &lt;command></code></h4>
<p><code class="language-text">:Git &lt;command></code>는 <code class="language-text">git &lt;command></code>에 대응한다.</p>
<p>예를들어 <code class="language-text">Git log</code>는 <code class="language-text">git log</code>와 같은데, 객체와 상호작용할 수 있다.</p>
<p>커밋 해시에 커서를 두고 <code class="language-text">&lt;cr></code> 누르면 해당 커밋의 변경 사항을 볼 수 있다. <code class="language-text">o</code>는 분할 창에서, <code class="language-text">O</code>는 새 탭에서 연다.</p>
<p>이렇듯 터미널에서 명령어를 일일이 실행하지 않고, 인터랙티브한 환경에서 동작하여 편리하다.</p>
<h4 id="git" style="position:relative;"><a href="#git" aria-label="git permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">:Git</code></h4>
<p>인자 없이 <code class="language-text">:Git</code> 실행하면 현재 git status를 보여준다.</p>
<p><a href="../28251">Git Fugitive how to git add a visually selected chunk of code - stackexchange</a></p>
<p>여기서 꽤 많은 일을 처리할 수 있는데, <code class="language-text">g?</code> 입력하면 도움말을 볼 수 있다.</p>
<p>파일 경로에서 Enter 누르면 해당 파일의 Buffer를 연다.</p>
<p>원하는 라인만 stage 또는 unstage 하거나, discard 하고 싶다면:</p>
<ol>
<li>먼저 변경하려는 파일에서 <code class="language-text">></code> 눌러 변경 사항을 확인</li>
<li>원하는 라인으로 이동해서 visual mode로 선택 후 실행</li>
</ol>
<ul>
<li><code class="language-text">s</code>: stage</li>
<li><code class="language-text">u</code>: unstage</li>
<li><code class="language-text">X</code>: discard</li>
</ul>
<p>unsage 하려면 Staged 목록에서 보여지므로 이동하여 <code class="language-text">u</code> 눌러야 한다.</p>
<p><code class="language-text">:Git</code> 입력하면 이렇게 표시된다:</p>
<div class="gatsby-highlight" data-language="fugitive"><pre class="language-fugitive"><code class="language-fugitive">Head: main
Merge: origin/main
Help: g?

Unstaged (1)
M docs/wiki/vim.md

Staged (1)
M docs/wiki/vim.md</code></pre></div>
<h4 id="git-mergetool" style="position:relative;"><a href="#git-mergetool" aria-label="git mergetool permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">:Git mergetool</code></h4>
<p><code class="language-text">git mergetool</code>과 같다. merge conflicts 처리하는 용도로 사용하는데, fugitive는 충돌 지점을 quickfix로 보여준다.</p>
<p>quickfix로 충돌 지점을 점프하고, <code class="language-text">GWrite</code>(<code class="language-text">git add</code>와 같음)로 stage에 반영한다.</p>
<h3 id="rmagattiauto-session" style="position:relative;"><a href="#rmagattiauto-session" aria-label="rmagattiauto session permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>rmagatti/auto-session</h3>
<p><a href="https://github.com/rmagatti/auto-session">https://github.com/rmagatti/auto-session</a></p>
<p>자동으로 세션을 저장하고 복구해주는 neovim 플러그인.
<code class="language-text">vi</code> 명령어로 인자 없이 열면 최근에 종료한 세션에서 다시 시작한다.
lua 스크립트에서 <code class="language-text">require().setup</code> 해야해서, neovim만 가능할 듯 싶다.</p>
<p>세션 정보는 <code class="language-text">stdpath('data')/sessions</code>에 저장된다.</p>
<p>세션 복구를 원치 않는다면 <code class="language-text">vi -</code>와 같이 사용하자.
또는 복구 후에 <code class="language-text">:SessionDelete</code>로 삭제하고 vim을 종료하면 다음 한 번은 복구하지 않는다.</p>
<h4 id="startify에-세션-목록-표시하기" style="position:relative;"><a href="#startify%EC%97%90-%EC%84%B8%EC%85%98-%EB%AA%A9%EB%A1%9D-%ED%91%9C%EC%8B%9C%ED%95%98%EA%B8%B0" aria-label="startify에 세션 목록 표시하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Startify에 세션 목록 표시하기</h4>
<p>Startify에서 시작 화면에서 auto-session이 저장한 세션을 보여주도록 연동해서 사용하고 있다.</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">function</span> s<span class="token punctuation">:</span><span class="token function">sessions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token builtin">path</span> <span class="token operator">=</span> <span class="token function">stdpath</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token operator">.</span><span class="token string">"/sessions/"</span>
  <span class="token keyword">let</span> sessions <span class="token operator">=</span> <span class="token function">systemlist</span><span class="token punctuation">(</span><span class="token string">'ls '</span><span class="token operator">.</span><span class="token builtin">path</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token function">map</span><span class="token punctuation">(</span>sessions<span class="token punctuation">,</span> '<span class="token punctuation">{</span>
        \ <span class="token string">"line"</span><span class="token punctuation">:</span> <span class="token function">substitute</span><span class="token punctuation">(</span>v<span class="token punctuation">:</span>val<span class="token punctuation">,</span> <span class="token string">"%"</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token string">"g"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        \ <span class="token string">"cmd"</span><span class="token punctuation">:</span> <span class="token string">"SessionRestoreFromFile "</span><span class="token operator">.</span><span class="token builtin">path</span><span class="token operator">.</span>v<span class="token punctuation">:</span>val
        \ <span class="token punctuation">}</span>'<span class="token punctuation">)</span>
<span class="token keyword">endfunction</span>

<span class="token keyword">let</span> g<span class="token punctuation">:</span>startify_lists <span class="token operator">=</span> <span class="token punctuation">[</span>
  \ <span class="token punctuation">{</span> <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token function">function</span><span class="token punctuation">(</span><span class="token string">'s:sessions'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'header'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'   Sessions'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  \ <span class="token punctuation">{</span> <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'files'</span><span class="token punctuation">,</span>     <span class="token string">'header'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'   MRU'</span><span class="token punctuation">]</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>
  \ <span class="token punctuation">{</span> <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'dir'</span><span class="token punctuation">,</span>       <span class="token string">'header'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'   MRU '</span><span class="token operator">.</span> <span class="token function">getcwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  \ <span class="token punctuation">{</span> <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'bookmarks'</span><span class="token punctuation">,</span> <span class="token string">'header'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'   Bookmarks'</span><span class="token punctuation">]</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  \ <span class="token punctuation">{</span> <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'commands'</span><span class="token punctuation">,</span>  <span class="token string">'header'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'   Commands'</span><span class="token punctuation">]</span>       <span class="token punctuation">}</span><span class="token punctuation">,</span>
  \ <span class="token punctuation">]</span></code></pre></div>
<p>그러면 Startify 시작화면이 다음과 같이 세션 목록을 보여준다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[e]  &lt;empty buffer>

Sessions

[0]  /home/dupark/dotfiles.vim
[1]  /home/dupark/workspace/cat-logic.vim
[2]  /home/dupark/workspace/game-cosmic-cat-conquest.vim

MRU

[3]  ~/workspace/cat-logic/docs/wiki/vim.md
[4]  ~/workspace/cat-logic/docs/wiki/machine-learning.md
[5]  ~/workspace/cat-logic/docs/wiki/book.md
[6]  ~/dotfiles/vim/.vimrc
[7]  ~/dotfiles/README.md
[8]  ~/dotfiles/vim/vim-include/vim-startify.vim</code></pre></div>
<p>auto-session에서 세션 파일 명에 <code class="language-text">%</code> 포함하고 있어서 이상하게 보이긴 한다.</p>
<h3 id="nerdtree---파일-탐색기" style="position:relative;"><a href="#nerdtree---%ED%8C%8C%EC%9D%BC-%ED%83%90%EC%83%89%EA%B8%B0" aria-label="nerdtree   파일 탐색기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>NERDTree - 파일 탐색기</h3>
<p>Vim 파일 탐색기 플러그인. 디렉토리 구조를 트리로 보여준다. vim에서 인기있는 플러그인 중 하나.</p>
<p>플러그인 이름은 <code class="language-text">scrooloose/nerdtree</code>.</p>
<p>아래는 자주 사용하는 기능.</p>
<table>
<thead>
<tr>
<th>명령어</th>
<th>설명</th>
<th>내 단축키</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">:NERDTreeToggle</code></td>
<td>트리 Toggle</td>
<td><code class="language-text">&lt;leader>e</code></td>
</tr>
<tr>
<td><code class="language-text">:NERDTree</code></td>
<td>새 NERDTree 열기</td>
<td></td>
</tr>
<tr>
<td><code class="language-text">:NERDTreeFind</code></td>
<td>현재 파일로 트리 이동</td>
<td><code class="language-text">&lt;leader>f</code></td>
</tr>
<tr>
<td><code class="language-text">?</code></td>
<td>도움말 Toggle</td>
<td>아래 부터는 트리 내 Mapping</td>
</tr>
<tr>
<td><code class="language-text">R</code></td>
<td>트리 전체 갱신</td>
<td></td>
</tr>
<tr>
<td><code class="language-text">r</code></td>
<td>커서 아래의 디렉토리 갱신</td>
<td></td>
</tr>
<tr>
<td><code class="language-text">CD</code></td>
<td>트리를 CWD로 복구.</td>
<td></td>
</tr>
<tr>
<td><code class="language-text">cd</code></td>
<td>커서 아래 디렉토리로 CWD를 변경</td>
<td></td>
</tr>
</tbody>
</table>
<p><code class="language-text">CWD</code>는 <code class="language-text">Current Working Directory</code>의 약자로 현재 작업 디렉토리를 의미한다.</p>
<p><code class="language-text">cd</code>의 경우 프로젝트 디렉토리를 변경하므로 사용할 일이 드물다.</p>
<h2 id="용어" style="position:relative;"><a href="#%EC%9A%A9%EC%96%B4" aria-label="용어 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>용어</h2>
<h3 id="pager----more---로-출력되는-화면" style="position:relative;"><a href="#pager----more---%EB%A1%9C-%EC%B6%9C%EB%A0%A5%EB%90%98%EB%8A%94-%ED%99%94%EB%A9%B4" aria-label="pager    more   로 출력되는 화면 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>pager: <code class="language-text">-- More --</code>로 출력되는 화면</h3>
<p><code class="language-text">-- More --</code>로 프롬프트가 출력되면 pager 화면을 보고있는 것이다.</p>
<p><code class="language-text">:let</code>이나 <code class="language-text">:highlight</code> 등 명령어는 pager로 출력된다:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim">Special        xxx ctermfg<span class="token operator">=</span><span class="token number">224</span> guifg<span class="token operator">=</span>Orange
SpecialChar    xxx links <span class="token keyword">to</span> Special
Delimiter      xxx links <span class="token keyword">to</span> Special
SpecialComment xxx links <span class="token keyword">to</span> Special
Debug          xxx links <span class="token keyword">to</span> Special
DiagnosticError xxx ctermfg<span class="token operator">=</span><span class="token number">1</span> guifg<span class="token operator">=</span>Red
DiagnosticWarn xxx ctermfg<span class="token operator">=</span><span class="token number">3</span> guifg<span class="token operator">=</span>Orange
DiagnosticInfo xxx ctermfg<span class="token operator">=</span><span class="token number">4</span> guifg<span class="token operator">=</span>LightBlue
DiagnosticHint xxx ctermfg<span class="token operator">=</span><span class="token number">7</span> guifg<span class="token operator">=</span>LightGrey
<span class="token operator">-</span><span class="token operator">-</span> More <span class="token operator">-</span><span class="token operator">-</span> SPACE<span class="token operator">/</span><span class="token keyword">d</span><span class="token operator">/</span><span class="token keyword">j</span><span class="token punctuation">:</span> screen<span class="token operator">/</span>page<span class="token operator">/</span>line down<span class="token punctuation">,</span> <span class="token keyword">b</span><span class="token operator">/</span><span class="token keyword">u</span><span class="token operator">/</span><span class="token keyword">k</span><span class="token punctuation">:</span> <span class="token keyword">up</span><span class="token punctuation">,</span> <span class="token keyword">q</span><span class="token punctuation">:</span> <span class="token keyword">quit</span></code></pre></div>
<p><code class="language-text">:h pager</code>로 pager 설명을 확인하자.</p>
<p>pager는 다른 화면과 달라서 처음 만나면 당혹스럽다.<br>
<code class="language-text">q</code>를 입력하면 빠져나오고 j, k로 스크롤한다.</p>
<p><code class="language-text">g&lt;</code>를 입력하면 마지막 <em>page</em> 화면을 볼 수 있다.
pager 화면은 아니므로 스크롤 할 수 없다. 마지막 pager의 스크롤 위치에서 보여준다.</p>
<hr>
<p>검색 기능이 없어서 불편하다 :(</p>
<p>하지만 <code class="language-text">:redir</code>을 통한 출력 전환으로 레지스터로 저장하고, 붙여넣는 방법으로 대체할 수 있다.</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token punctuation">:</span><span class="token keyword">redir</span> @a    <span class="token comment">" a 레지스터에 출력을 전환</span>
<span class="token punctuation">:</span><span class="token builtin">highlight</span>   <span class="token comment">" pager로 출력되는 명령어 실행</span>
G<span class="token operator">&lt;</span>CR<span class="token operator">></span>        <span class="token comment">" 맨 아래로 이동하고 빠져나오자. 보여진 만큼만 저장된다.</span>
<span class="token punctuation">:</span><span class="token keyword">redir</span> end   <span class="token comment">" 출력 전환 종료</span>
<span class="token string">"ap          "</span> a 레지스터 내용 커서 위치에 붙여넣기</code></pre></div>
<p><a href="https://vi.stackexchange.com/q/5729">How can I perform a search when vim displays content using "more" pager?</a><br>
질문에서 얻은 정보다.</p>
<p>덧글에 pipeline을 통한 짧은 버전도 있다:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">redir</span> @a | <span class="token keyword">sil</span> <span class="token builtin">highlight</span> | <span class="token keyword">redir</span> end   <span class="token comment">" @a 전환, 명령(silently), 전환 종료</span>
<span class="token string">"ap                                    "</span> a 레지스터 붙여넣기</code></pre></div>
<p>명령어로 만들어둬도 좋겠다:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim">command<span class="token operator">!</span> <span class="token operator">-</span>nargs<span class="token operator">=</span><span class="token number">1</span> <span class="token operator">-</span><span class="token builtin">complete</span><span class="token operator">=</span>command Redir <span class="token keyword">redir</span> @a | <span class="token keyword">sil</span> <span class="token operator">&lt;</span><span class="token keyword">args</span><span class="token operator">></span> | <span class="token keyword">redir</span> end | echo <span class="token string">"Saved to @a"</span></code></pre></div>
<p>이렇게 사용할 수 있다:</p>
<ul>
<li><code class="language-text">:Redir highlight</code></li>
<li><code class="language-text">:Redir let</code></li>
</ul>
<h2 id="tips" style="position:relative;"><a href="#tips" aria-label="tips permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tips</h2>
<h3 id="mapping-시-cr-vs-cmdcr" style="position:relative;"><a href="#mapping-%EC%8B%9C-cr-vs-cmdcr" aria-label="mapping 시 cr vs cmdcr permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>mapping 시 <code class="language-text">:...&lt;cr></code> vs <code class="language-text">&lt;cmd>...&lt;cr></code></h3>
<ul>
<li><code class="language-text">nnoremap [w :lprevious&lt;cr></code></li>
<li><code class="language-text">nnoremap [w &lt;cmd>lprevious&lt;cr></code></li>
</ul>
<p>두 코드 모두 <code class="language-text">[w</code> 단축키에 <code class="language-text">lprevious&lt;cr></code> 명령을 매핑한다.</p>
<p><code class="language-text">:h &lt;cmd></code></p>
<blockquote>
<p>The <Cmd> pseudokey begins a "command mapping", which executes the command
directly (without changing modes).  Where you might use ":...<CR>" in the
{rhs} of a mapping, you can instead use "<Cmd>...<CR>".</p>
</blockquote>
<p><code class="language-text">&lt;cmd></code>는 모드 변경없이 명령을 실행한다고 되어있다.</p>
<p>두 방식을 비교해보면, <code class="language-text">:...&lt;cr></code>는 실행한 명령어가 입력창에 남아있다.
반면에 <code class="language-text">&lt;cmd>...&lt;cr></code>는 남아있지 않다.</p>
<h3 id="프로파일링-하기" style="position:relative;"><a href="#%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BC%EB%A7%81-%ED%95%98%EA%B8%B0" aria-label="프로파일링 하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>프로파일링 하기</h3>
<p>이유없이 느려진다면 프로파일링 해보자.</p>
<p>아래 함수 내용을 직접 실행하거나, 번거로우니 함수 자체를 정의해두고 <code class="language-text">:call StartProfiling()</code> 호출하자.
느려지게 만드는 액션을 하고 <code class="language-text">:profile stop</code> 또는 vim에서 나가면, <code class="language-text">vim-profiling.log</code> 파일이 생성된다.</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">function</span><span class="token operator">!</span> <span class="token function">StartProfiling</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">:</span><span class="token keyword">profile</span> start <span class="token keyword">vim</span><span class="token operator">-</span>profiling<span class="token operator">.</span>log
  <span class="token punctuation">:</span><span class="token keyword">profile</span> <span class="token keyword">file</span> <span class="token operator">*</span>
  <span class="token punctuation">:</span><span class="token keyword">profile</span> func <span class="token operator">*</span>
  echo <span class="token string">'profiling is started. log file: vim-profiling.log'</span>
<span class="token keyword">endfunction</span></code></pre></div>
<h3 id="text-object-개선하기" style="position:relative;"><a href="#text-object-%EA%B0%9C%EC%84%A0%ED%95%98%EA%B8%B0" aria-label="text object 개선하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>text object 개선하기</h3>
<p>vim에서 기본적으로 <code class="language-text">viw</code>로 단어를, <code class="language-text">vip</code>로 문단을 선택할 수 있다.
더 나아가서 각 언어에 맞게 함수, 클래스를 선택할 수 있는 방법이 있다.</p>
<p><a href="../python">Python</a>은 들여쓰기로, <a href="../javascript">Javscript</a>는 중괄호로 함수를 표현한다.
이렇게 언어마다 달라지는 부분을 표현하기 위해서 저마다 설정이 필요하다.</p>
<p>파이썬에 맞는 text object를 제공하거나,
Selection을 점진적으로 확장/축소하는 기능을 제공하는 플러그인이 있다.</p>
<h4 id="vim-pythonsense" style="position:relative;"><a href="#vim-pythonsense" aria-label="vim pythonsense permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>vim-pythonsense</h4>
<p><a href="https://github.com/jeetsukumaran/vim-pythonsense">vim-pythonsense</a></p>
<p><a href="https://github.com/bps/vim-textobj-python">vim-textobj-python</a> 이건 제대로 동작하지 않았다.</p>
<p><strong>vim-pythonsense</strong> 플러그인은 파이썬의 Text Object를 제공한다.
뿐만 아니라 Text Object로 점프하는 기능도 제공하는데,
나는 이 기능은 막았다.</p>
<p>설정을 통해 키 매핑을 비활성화 할 수 있다:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">let</span> g<span class="token punctuation">:</span>is_pythonsense_suppress_motion_keymaps <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">let</span> g<span class="token punctuation">:</span>is_pythonsense_suppress_keymaps <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">let</span> g<span class="token punctuation">:</span>is_pythonsense_alternate_motion_keymaps <span class="token operator">=</span> <span class="token number">0</span></code></pre></div>
<h4 id="vim-expand-region" style="position:relative;"><a href="#vim-expand-region" aria-label="vim expand region permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>vim-expand-region</h4>
<p><a href="https://github.com/terryma/vim-expand-region">terryma/vim-expand-region</a></p>
<p>Expand Selection, Shrink Selection 기능을 제공하는 플러그인.</p>
<p>VSCode, Intellij 에서도 이 기능이 있다.</p>
<p><code class="language-text">+</code> 키를 누르면 단어 -> 문자열 -> 괄호 -> 한 줄 -> 함수 -> 클래스 순서로
점진적으로 Selection 한다. <code class="language-text">-</code> 키는 그 반대로 동작한다.</p>
<p><code class="language-text">vim-textobj-python</code> 플러그인이 없으면, 함수, 클래스 레벨에서 제대로 동작하지 않는다.</p>
<p>별다른 설정을 하지 않으면, 첫 레벨부터 렉이 있어서,
다음과 같이 설정하여 사용하고 있다:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">call</span> expand_region#<span class="token function">custom_text_objects</span><span class="token punctuation">(</span><span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  \ <span class="token string">'af'</span> <span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  \ <span class="token string">'if'</span> <span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  \ <span class="token string">'ac'</span> <span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  \ <span class="token string">'ic'</span> <span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  \ <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="command-대신-command를-사용하자" style="position:relative;"><a href="#command-%EB%8C%80%EC%8B%A0-command%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%9E%90" aria-label="command 대신 command를 사용하자 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">command</code> 대신 <code class="language-text">command!</code>를 사용하자.</h3>
<p><code class="language-text">.vimrc</code>를 리로드하면 이미 정의된 command라고 에러가 나는 경우가 있다:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">Error detected <span class="token keyword">while</span> processing /home/pair/.vimrc:
line  <span class="token number">375</span>:
E174: Command already exists: <span class="token function">add</span> <span class="token operator">!</span> to replace it</code></pre></div>
<p>해결하기 위해선 힌트 그대로, <code class="language-text">!</code> 만 붙여주면 된다. 그러면 replace 하므로 에러가 발생하지 않는다.</p>
<p>다음과 같은 구문이 있으면</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">command</span> TestCore call <span class="token operator">&lt;</span>SID<span class="token operator">></span>run_test_core<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>다음과 같이 변경해주면 된다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">command<span class="token operator">!</span> TestCore call <span class="token operator">&lt;</span>SID<span class="token operator">></span>run_test_core<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="옵션이-어느-파일에서-변경되었는지-알려면-verbose" style="position:relative;"><a href="#%EC%98%B5%EC%85%98%EC%9D%B4-%EC%96%B4%EB%8A%90-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EB%B3%80%EA%B2%BD%EB%90%98%EC%97%88%EB%8A%94%EC%A7%80-%EC%95%8C%EB%A0%A4%EB%A9%B4-verbose" aria-label="옵션이 어느 파일에서 변경되었는지 알려면 verbose permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>옵션이 어느 파일에서 변경되었는지 알려면 <code class="language-text">:verbose</code></h3>
<p><code class="language-text">:verbose set filetype?</code></p>
<p>파일 타입을 어느 파일에서 결정했는지 알려면 위처럼 사용하면 된다.</p>
<p>뒤에 물음표는 꼭 붙이자. <code class="language-text">filetype</code>처럼 값을 받는 옵션이 아닌 <code class="language-text">hlsearch</code>처럼 on/off 하는 형태라면 <code class="language-text">verbose</code>가 무시되고 옵션 변경을 한다.
다시 <code class="language-text">verbose</code>로 확인하더라도 방금 명령어로 변경했기 때문에 제대로된 출처를 알 수 없다.</p>
<h3 id="플러그인-설치되어-있는지-확인하기" style="position:relative;"><a href="#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98%EB%90%98%EC%96%B4-%EC%9E%88%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0" aria-label="플러그인 설치되어 있는지 확인하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>플러그인 설치되어 있는지 확인하기</h3>
<p>특정 플러그인을 설정하기 위해서, 설치되어 있는지 확인해야 할 때가 있다.<br>
설치 여부를 판단하지 않으면 vim 실행 시 에러 문구가 출력되어 번거롭다.</p>
<p>vim 기능으로는 제공하지 않는다.</p>
<p>Package Manager로 <a href="https://github.com/junegunn/vim-plug">vim-plug</a>를 사용한다면 <code class="language-text">plugs</code> 변수를 확인하는 방법이 유효하다.</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">has_key</span><span class="token punctuation">(</span>plugs<span class="token punctuation">,</span> <span class="token string">'sonokai'</span><span class="token punctuation">)</span>
  <span class="token comment">" </span><span class="token string">'sonokai'</span> not installed
  <span class="token keyword">finish</span>
<span class="token keyword">endif</span>

<span class="token comment">" do something with </span><span class="token string">'sonokai'</span></code></pre></div>
<p><code class="language-text">plugs</code>는 dictionary로 플러그인 이름을 key로 가지고 있다:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token comment">" echo plugs로 구조를 확인할 수 있다.</span>
<span class="token punctuation">{</span><span class="token string">'sonokai'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'uri'</span><span class="token punctuation">:</span> <span class="token string">'https://git::@github.com/sainnhe/sonokai.git'</span><span class="token punctuation">,</span> <span class="token string">'dir'</span><span class="token punctuation">:</span> <span class="token string">'/home/dupark/.local/share/nvim/plugged/sonokai/'</span><span class="token punctuation">,</span> <span class="token string">'frozen'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'branch'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<h2 id="문제-해결" style="position:relative;"><a href="#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0" aria-label="문제 해결 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>문제 해결</h2>
<h3 id="typescript-filetype-문제" style="position:relative;"><a href="#typescript-filetype-%EB%AC%B8%EC%A0%9C" aria-label="typescript filetype 문제 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Typescript filetype 문제</h3>
<p>typescript language server에서 JSX 문법을 확인하지 못한다면 파일 타입을 확인해보자.
<code class="language-text">:set ft?</code>로 확인했을 때 <code class="language-text">typescriptreact</code>가 아니라 <code class="language-text">typescript</code>면 문제가 있다.</p>
<p><code class="language-text">:set filetype=typescriptreact</code>로 변경하면 JSX의 하이라이팅이나 타입 체크가 정상적으로 동작한다.</p>
<p><code class="language-text">.vimrc</code>에 filetype을 변경하도록 설정하자:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token comment">" set filetypes as typescriptreact</span>
<span class="token builtin">autocmd</span> BufNewFile<span class="token punctuation">,</span>BufRead <span class="token operator">*</span><span class="token operator">.</span>tsx<span class="token punctuation">,</span><span class="token operator">*</span><span class="token operator">.</span>jsx <span class="token keyword">set</span> <span class="token keyword">filetype</span><span class="token operator">=</span>typescriptreact</code></pre></div>
<p>ref. <a href="https://github.com/peitalin/vim-jsx-typescript#vim-jsx-typescript">https://github.com/peitalin/vim-jsx-typescript#vim-jsx-typescript</a></p>
<blockquote>
<p>Changelog: filetypes were updated from typescript.tsx to typescriptreact Please set filetypes as typescriptreact, not typescript.tsx as in prior versions in your .vimrc if you have any issues</p>
</blockquote>
<p>ref. <a href="https://github.com/leafgarland/typescript-vim/issues/158#issuecomment-589954199">https://github.com/leafgarland/typescript-vim/issues/158#issuecomment-589954199</a></p>
<blockquote>
<p>This brings a new problem. Typescript language server excepts from a typescript file to not have JSX in it. Which means that &#x3C;> is considered a type assertion, JSX is not recognized as JSX but as regular Typescript syntax and the list goes on.</p>
</blockquote>
<h3 id="colorscheme-플러그인이-점점-느려지게-만드는-현상" style="position:relative;"><a href="#colorscheme-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8%EC%9D%B4-%EC%A0%90%EC%A0%90-%EB%8A%90%EB%A0%A4%EC%A7%80%EA%B2%8C-%EB%A7%8C%EB%93%9C%EB%8A%94-%ED%98%84%EC%83%81" aria-label="colorscheme 플러그인이 점점 느려지게 만드는 현상 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>colorscheme 플러그인이 점점 느려지게 만드는 현상</h3>
<p>2023-04-14</p>
<p>vimwiki로 문서 수정할 때, <code class="language-text">&lt;cr></code> <em>엔터를 꾹 누르고 있으면 점점 느려지는</em> 문제.<br>
vimwiki가 키보드 엔터 시 함수 호출이 많다. 그래서 더욱 돋보이는 듯 하다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">FUNCTIONS SORTED ON TOTAL TIME
count  total (s)   self (s)  function
    4   1.671452   0.000150  &lt;SNR>199_CR()
    4   1.669305   0.000430  vimwiki#lst#kbd_cr()
    4   1.667958   0.000952  &lt;SNR>211_cr_on_empty_line()
    1   0.261215   0.000028  vimwiki#u#count_exe()
    1   0.261187   0.000350  vimwiki#lst#kbd_o()
    5   0.093622   0.009607  &lt;SNR>211_get_corresponding_item()
   16   0.087560   0.002484  airline#check_mode()</code></pre></div>
<p>프로파일링 해보니, 엔터가 입력될 때 마다 거의 초단위로 시간이 소요되었다.</p>
<p>결론은 colorscheme 옵션을 제거하면 괜찮다. 프로파일링으로는 딱히 힌트를 얻지 못했다.
<code class="language-text">soliarized</code>로 사용하고 있었다:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">colorscheme</span> solarized</code></pre></div>
<p>플러그인을 하나씩 제외하면서 테스트하는 것으로 원인을 찾을 수 있었다.
기본 테마도 나름 볼만하다 :|</p>
<p><code class="language-text">:echo g:colors_name</code> 또는 <code class="language-text">:colorscheme</code>으로 사용중인 테마의 이름을 알 수 있다.
변수를 찾을 수 없으면 사용하지 않는 것이다.</p>
<p>colorscheme을 제외하고 재현하면 간헐적으로 느려지긴 한다. 하지만 곧바로 복구된다. colorscheme을 사용할 때는 한 번 느려지면 다시 vim 실행하기 전까지는 복구되지 않는다.</p>
<p>2023-12-11</p>
<p><code class="language-text">vim-colors-solarized</code> 플러그인 문제가 아니었다.</p>
<p>최근에 treesitter 구문 강조를 위해서 <code class="language-text">sonokai</code> colorscheme 플러그인을 설치했는데, 마찬가지로 느려지는 문제가 발생한다.</p>
<p>2024-02-22</p>
<p>드디어 원인을 찾았다!</p>
<p>정확한 증상 발생 시점은 <code class="language-text">.vimrc</code>에서 <code class="language-text">color &lt;theme></code>을 설정하면 느려지는 문제였다.<br>
vim 실행 후 직접 <code class="language-text">:color &lt;theme></code> 명령어로 설정하면 느려지지 않는다.<br>
<code class="language-text">.virmc</code> 내에서도 특정 코드 후에 <code class="language-text">color &lt;theme></code>을 설정하면 느려지는 문제가 발생한다.</p>
<p>원인이 되는 코드는 extra whitespace를 강조하는 코드였다:</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token builtin">autocmd</span> ColorScheme <span class="token operator">*</span>
  \ <span class="token builtin">highlight</span> SpecialKey guibg<span class="token operator">=</span>#<span class="token number">424242</span> ctermfg<span class="token operator">=</span><span class="token number">236</span> ctermbg<span class="token operator">=</span><span class="token number">234</span> |
  \ <span class="token builtin">highlight</span> ExtraWhitespace ctermbg<span class="token operator">=</span><span class="token keyword">red</span> guibg<span class="token operator">=</span><span class="token keyword">red</span> |
  \ <span class="token keyword">match</span> ExtraWhitespace <span class="token operator">/</span>\s\<span class="token operator">+</span>$<span class="token operator">/</span> |
  \ <span class="token builtin">autocmd</span> BufWinEnter <span class="token operator">*</span> <span class="token keyword">match</span> ExtraWhitespace <span class="token operator">/</span>\s\<span class="token operator">+</span>$<span class="token operator">/</span> |
  \ <span class="token builtin">autocmd</span> InsertEnter <span class="token operator">*</span> <span class="token keyword">match</span> ExtraWhitespace <span class="token operator">/</span>\s\<span class="token operator">+</span>\<span class="token operator">%</span>#\@<span class="token operator">&lt;</span><span class="token operator">!</span>$<span class="token operator">/</span> |
  \ <span class="token builtin">autocmd</span> InsertLeave <span class="token operator">*</span> <span class="token keyword">match</span> ExtraWhitespace <span class="token operator">/</span>\s\<span class="token operator">+</span>$<span class="token operator">/</span> |
  \ <span class="token builtin">autocmd</span> BufWinLeave <span class="token operator">*</span> <span class="token keyword">call</span> <span class="token function">clearmatches</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>이 코드는 줄 끝에 불필요한 공백을 찾아서 강조한다.
내가 처음 vim을 접할 때 전임자의 vim 설정에서 가져온 건데 유용하게 사용하고 있는 거다.
하지만 이 코드 이후에 <code class="language-text">color &lt;theme></code>을 설정하면 느려지는 문제가 발생한다.</p>
<p>colorscheme 명령을 전체 설정의 앞부분에서 실행하도록 위치를 옮겼다.<br>
dotfiles 저장소에도 반영했다: <a href="https://github.com/Edunga1/dotfiles/commit/bc4efcceab5695b671c68d14912f1d85e7b0e048">https://github.com/Edunga1/dotfiles/commit/bc4efcceab5695b671c68d14912f1d85e7b0e048</a></p>
<h3 id="ubuntu에-설치한-vim이-시작-시-vimrc에서-많은-에러가-발생하는-현상" style="position:relative;"><a href="#ubuntu%EC%97%90-%EC%84%A4%EC%B9%98%ED%95%9C-vim%EC%9D%B4-%EC%8B%9C%EC%9E%91-%EC%8B%9C-vimrc%EC%97%90%EC%84%9C-%EB%A7%8E%EC%9D%80-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%ED%98%84%EC%83%81" aria-label="ubuntu에 설치한 vim이 시작 시 vimrc에서 많은 에러가 발생하는 현상 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ubuntu에 설치한 vim이 시작 시 <code class="language-text">.vimrc</code>에서 많은 에러가 발생하는 현상</h3>
<p>askubuntu 질문: <a href="https://askubuntu.com/questions/284957/vi-getting-multiple-sorry-the-command-is-not-available-in-this-version-af">vi, getting multiple "Sorry, the command is not available in this version..." after reinstall</a></p>
<p>올바른 vim 버전인지 확인하자. vim.tiny로 설치되었을 수 있다:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ readlink <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">`</span><span class="token function">which</span> <span class="token function">vim</span><span class="token variable">`</span></span>
/usr/bin/vim.tiny</code></pre></div>
<p>ubuntu에서는 풀 버전의 vim을 설치하지 않는다고 한다. <code class="language-text">/usr/bin/vim.basic</code>을 가르켜야 대부분의 기능을 사용할 수 있다.</p>
<h2 id="관련-기사" style="position:relative;"><a href="#%EA%B4%80%EB%A0%A8-%EA%B8%B0%EC%82%AC" aria-label="관련 기사 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>관련 기사</h2>
<p>2023년 8월. <a href="https://yozm.wishket.com/magazine/detail/2183/">"Vim은 제 인생에서 매우 중요한 부분입니다"</a> Vim 창시자 인터뷰.</p>
<p>원문은 <a href="https://evrone.com/blog/bram-moolenaar-interview">https://evrone.com/blog/bram-moolenaar-interview</a></p>
<p>플러그인을 사용하기 보다는, 직접 구현하거나 vim 베이스에 포함한다고.</p>
<blockquote>
<p>Evrone: Using plenty of web manuals we can discover great plugins to extend the awesome functionality of Vim. Do you have any plugin favorites and must-haves you could recommend to our audience?</p>
<p>Evrone: Vim의 멋진 기능을 확장하기 위해 많은 웹 매뉴얼을 사용하여 훌륭한 플러그인을 찾을 수 있습니다. 추천할만한 플러그인이 있을까요?</p>
<p>Bram: I have to admit I don’t use many plugins, other than what is included with the distribution (such as matchit and termdebug). When I need something I tend to either make a quick hack or add it to the Vim base. That’s the luxury of being the creator :-).</p>
<p>저는 사실 많은 플러그인을 사용하지 않습니다. 배포판에 포함된 것(예: matchit, termdebug)을 제외하고는요. 필요한 것이 있으면 빠른 해킹을 하거나 Vim 베이스에 추가하는 경향이 있습니다. 그것이 창시자의 특권입니다 :-).</p>
</blockquote>
<p>그리고 협업자들과 커뮤니케이션하는 방식. 그리고 젊은 개발자들에게 여유를 가지고 개발하라는 조언을 했다.</p>
<h2 id="troubleshooting" style="position:relative;"><a href="#troubleshooting" aria-label="troubleshooting permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Troubleshooting</h2>
<h3 id="git-commit-시-waiting-for-your-editor-to-close-the-file-메시지와-함께-커밋이-안되는-문제" style="position:relative;"><a href="#git-commit-%EC%8B%9C-waiting-for-your-editor-to-close-the-file-%EB%A9%94%EC%8B%9C%EC%A7%80%EC%99%80-%ED%95%A8%EA%BB%98-%EC%BB%A4%EB%B0%8B%EC%9D%B4-%EC%95%88%EB%90%98%EB%8A%94-%EB%AC%B8%EC%A0%9C" aria-label="git commit 시 waiting for your editor to close the file 메시지와 함께 커밋이 안되는 문제 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Git commit 시 "Waiting for your editor to close the file..." 메시지와 함께 커밋이 안되는 문제</h3>
<p>Vim으로 커밋 메시지 작성 후 <code class="language-text">ZZ</code> 또는 <code class="language-text">:wq</code>로 저장하여 나와도 커밋이 반영되지 않는 문제로,
주기는 3번 중 1번 꼴로 자주 발생한다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">❯ g commit <span class="token parameter variable">-v</span>
hint: Waiting <span class="token keyword">for</span> your editor to close the file<span class="token punctuation">..</span>. error: There was a problem with the editor <span class="token string">'nvim'</span><span class="token builtin class-name">.</span>
Please supply the message using either <span class="token parameter variable">-m</span> or <span class="token parameter variable">-F</span> option.</code></pre></div>
<p>원인은 <a href="https://github.com/mhinz/vim-startify">Startify</a>의 세션 저장과 관련된 문제였다.</p>
<div class="gatsby-highlight" data-language="vim"><pre class="language-vim"><code class="language-vim"><span class="token keyword">function</span><span class="token operator">!</span> <span class="token function">GetUniqueSessionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token builtin">path</span> <span class="token operator">=</span> <span class="token function">fnamemodify</span><span class="token punctuation">(</span><span class="token function">getcwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">':~:t'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token builtin">path</span> <span class="token operator">=</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token builtin">path</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">'no-project'</span> <span class="token punctuation">:</span> <span class="token builtin">path</span>
  <span class="token keyword">return</span> <span class="token function">substitute</span><span class="token punctuation">(</span><span class="token builtin">path</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">)</span>
<span class="token keyword">endfunction</span>

<span class="token builtin">autocmd</span> VimLeavePre <span class="token operator">*</span> execute <span class="token string">'SSave! '</span> <span class="token operator">.</span> <span class="token function">GetUniqueSessionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>vim을 종료할 때 세션을 저장하고, Startify의 시작 화면에 Session 목록을 노출하도록 설정했는데, 저장하는 시점이 원인이었다.
이 설정을 제거한 후로는 문제가 발생하지 않았다.
정확히 <code class="language-text">SSave</code>의 문제인지, <code class="language-text">GetUniqueSessionName</code>의 문제인지는 모르겠다.</p>
<p>제거 커밋: <a href="https://github.com/Edunga1/dotfiles/commit/9998b7c454e321d48d326e20da56af2328055a46">https://github.com/Edunga1/dotfiles/commit/9998b7c454e321d48d326e20da56af2328055a46</a></p>
<p>세션을 자동 저장하는 것은 마음에 들어서 <a href="https://github.com/rmagatti/auto-session">auto-session</a>으로 변경했다.</p></div><div class="Comments__Container-sc-1ajj4d9-0 gcJKrk"><hr/><div></div></div></div></div><div class="PageLayout__Side-sc-11jfopf-2 fytAKM"><div class="RelatedLinks__Container-sc-1y1aimd-0 ldECpH Wiki__RelatedLinksSide-sc-16q9onf-6 dStlil"><h3 class="RelatedLinks__Header-sc-1y1aimd-1 fTEgtV">Related</h3><ul class="RelatedLinks__Links-sc-1y1aimd-2 eZRzcg"><li><a href="../shell" class="Link__A-sc-k1di17-0 bUjFDA">Shell 명령어</a></li><li><a href="../git" class="Link__A-sc-k1di17-0 bUjFDA">Git</a></li><li><a href="../windows-subsystem-for-linux" class="Link__A-sc-k1di17-0 bUjFDA">Windows Subsystem for Linux (WSL)</a></li><li><a href="../vimwiki" class="Link__A-sc-k1di17-0 bUjFDA">VimWiki</a></li><li><a href="../jetbrains" class="Link__A-sc-k1di17-0 bUjFDA">JetBrains</a></li></ul></div><div class="Wiki__TocSide-sc-16q9onf-5 chvTXK"><h3 class="Toc__Header-sc-1f76i2s-0 jArVBC">Table of Contents</h3><div class="Toc__Container-sc-1f76i2s-1 bJJrFa"><ul>
<li>
<p><a href="#vim">Vim</a></p>
<ul>
<li>
<p><a href="#neovim">Neovim</a></p>
<ul>
<li><a href="#lua-%EA%B0%80%EC%9D%B4%EB%93%9C">Lua 가이드</a></li>
<li><a href="#%EB%82%B4%EC%9E%A5-language-server-protocol-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0">내장 Language Server Protocol 사용하기</a></li>
</ul>
</li>
<li>
<p><a href="#%EB%8F%84%EC%9B%80%EB%A7%90-help">도움말 <code class="language-text">:help</code></a></p>
<ul>
<li><a href="#%EB%8F%84%EC%9B%80%EB%A7%90-%ED%83%90%EC%83%89%ED%95%98%EA%B8%B0">도움말 탐색하기</a></li>
<li><a href="#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A1%B0%ED%95%A9%EC%97%90-%EA%B4%80%ED%95%9C-%ED%8C%81">명령어 조합에 관한 팁</a></li>
</ul>
</li>
<li>
<p><a href="#%EC%82%AC%EC%9A%A9-%EC%82%AC%EB%A1%80">사용 사례</a></p>
<ul>
<li><a href="#%ED%8C%8C%EC%9D%BC-%EA%B2%80%EC%83%89">파일 검색</a></li>
<li><a href="#%EC%B0%BD-%EB%84%A4%EB%B9%84%EA%B2%8C%EC%9D%B4%EC%85%98">창 네비게이션</a></li>
</ul>
</li>
<li>
<p><a href="#%EB%82%B4%EC%9E%A5-%EA%B8%B0%EB%8A%A5">내장 기능</a></p>
<ul>
<li>
<p><a href="#quickfix--location-list">quickfix &#x26; location list</a></p>
<ul>
<li><a href="#commands">commands</a></li>
<li><a href="#grep">grep</a></li>
<li><a href="#cdo-ldo-%EA%B2%80%EC%83%89%EB%90%9C-%EB%AA%A8%EB%93%A0-entry%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9"><code class="language-text">cdo</code>, <code class="language-text">ldo</code> 검색된 모든 entry에 명령어 적용</a></li>
<li><a href="#cfdo-lfdo-%EA%B2%80%EC%83%89%EB%90%9C-%EB%AA%A8%EB%93%A0-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9"><code class="language-text">cfdo</code>, <code class="language-text">lfdo</code> 검색된 모든 파일에 명령어 적용</a></li>
<li><a href="#bufdo-%EB%AA%A8%EB%93%A0-buffer-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%81%EC%9A%A9"><code class="language-text">bufdo</code> 모든 buffer 파일에 명령어 적용</a></li>
<li><a href="#user-function">User Function</a></li>
</ul>
</li>
<li>
<p><a href="#fuzzy-%EB%A7%A4%EC%B9%AD-matchfuzzy">Fuzzy 매칭: <code class="language-text">matchfuzzy()</code></a></p>
</li>
<li>
<p><a href="#make-and-makeprg"><code class="language-text">:make</code> and <code class="language-text">makeprg</code></a></p>
<ul>
<li><a href="#build-integration---how-to-do-90-of-what-plugins-do">build integration - How to Do 90% of What Plugins Do</a></li>
</ul>
</li>
<li>
<p><a href="#matchit">matchit</a></p>
</li>
<li>
<p><a href="#%ED%84%B0%EB%AF%B8%EB%84%90-%EC%97%90%EB%AE%AC%EB%A0%88%EC%9D%B4%ED%84%B0">터미널 에뮬레이터</a></p>
</li>
<li>
<p><a href="#%EC%9E%90%EB%8F%99-%EC%84%9C%EC%8B%9D-formatoptions">자동 서식: <code class="language-text">formatoptions</code></a></p>
</li>
<li>
<p><a href="#%EC%8B%A4%ED%96%89%EC%B7%A8%EC%86%8Cundo-%EA%B4%80%EB%A6%AClocal-history">실행취소(undo) 관리(Local History)</a></p>
<ul>
<li><a href="#undotree-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8">undotree 플러그인</a></li>
</ul>
</li>
<li>
<p><a href="#%EC%9E%90%EB%8F%99%EC%99%84%EC%84%B1">자동완성</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#%EA%B5%AC%EB%AC%B8-%EA%B0%95%EC%A1%B0">구문 강조</a></p>
</li>
<li>
<p><a href="#%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0registers">레지스터(Registers)</a></p>
</li>
<li>
<p><a href="#variables">Variables</a></p>
<ul>
<li><a href="#path"><code class="language-text">path</code></a></li>
</ul>
</li>
<li>
<p><a href="#text-objects">Text Objects</a></p>
</li>
<li>
<p><a href="#plugin-%EB%A7%8C%EB%93%A4%EA%B8%B0">Plugin 만들기</a></p>
<ul>
<li><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0">프로젝트 구조</a></li>
<li><a href="#autoload"><code class="language-text">autoload</code></a></li>
<li><a href="#ftplugin"><code class="language-text">ftplugin</code></a></li>
<li><a href="#plug-sid"><code class="language-text">&lt;Plug></code> <code class="language-text">&lt;SID></code></a></li>
</ul>
</li>
<li>
<p><a href="#plugins">Plugins</a></p>
<ul>
<li>
<p><a href="#%EB%82%B4%EC%9E%A5-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8standard-plugin">내장 플러그인(Standard Plugin)</a></p>
<ul>
<li>
<p><a href="#matchparen">matchparen</a></p>
<ul>
<li><a href="#%EC%9A%A9%EB%9F%89%EC%9D%B4-%ED%81%B0-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EB%8A%90%EB%A0%A4%EC%A7%80%EB%8A%94-%EB%AC%B8%EC%A0%9C">용량이 큰 파일에서 느려지는 문제</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#chrisbracsvvim">chrisbra/csv.vim</a></p>
<ul>
<li><a href="#features">Features</a></li>
</ul>
</li>
<li>
<p><a href="#tpopevim-fugitive">tpope/vim-fugitive</a></p>
<ul>
<li><a href="#git-command"><code class="language-text">:Git &lt;command></code></a></li>
<li><a href="#git"><code class="language-text">:Git</code></a></li>
<li><a href="#git-mergetool"><code class="language-text">:Git mergetool</code></a></li>
</ul>
</li>
<li>
<p><a href="#rmagattiauto-session">rmagatti/auto-session</a></p>
<ul>
<li><a href="#startify%EC%97%90-%EC%84%B8%EC%85%98-%EB%AA%A9%EB%A1%9D-%ED%91%9C%EC%8B%9C%ED%95%98%EA%B8%B0">Startify에 세션 목록 표시하기</a></li>
</ul>
</li>
<li>
<p><a href="#nerdtree---%ED%8C%8C%EC%9D%BC-%ED%83%90%EC%83%89%EA%B8%B0">NERDTree - 파일 탐색기</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#%EC%9A%A9%EC%96%B4">용어</a></p>
<ul>
<li><a href="#pager----more---%EB%A1%9C-%EC%B6%9C%EB%A0%A5%EB%90%98%EB%8A%94-%ED%99%94%EB%A9%B4">pager: <code class="language-text">-- More --</code>로 출력되는 화면</a></li>
</ul>
</li>
<li>
<p><a href="#tips">Tips</a></p>
<ul>
<li>
<p><a href="#mapping-%EC%8B%9C-cr-vs-cmdcr">mapping 시 <code class="language-text">:...&lt;cr></code> vs <code class="language-text">&lt;cmd>...&lt;cr></code></a></p>
</li>
<li>
<p><a href="#%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BC%EB%A7%81-%ED%95%98%EA%B8%B0">프로파일링 하기</a></p>
</li>
<li>
<p><a href="#text-object-%EA%B0%9C%EC%84%A0%ED%95%98%EA%B8%B0">text object 개선하기</a></p>
<ul>
<li><a href="#vim-pythonsense">vim-pythonsense</a></li>
<li><a href="#vim-expand-region">vim-expand-region</a></li>
</ul>
</li>
<li>
<p><a href="#command-%EB%8C%80%EC%8B%A0-command%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%9E%90"><code class="language-text">command</code> 대신 <code class="language-text">command!</code>를 사용하자.</a></p>
</li>
<li>
<p><a href="#%EC%98%B5%EC%85%98%EC%9D%B4-%EC%96%B4%EB%8A%90-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EB%B3%80%EA%B2%BD%EB%90%98%EC%97%88%EB%8A%94%EC%A7%80-%EC%95%8C%EB%A0%A4%EB%A9%B4-verbose">옵션이 어느 파일에서 변경되었는지 알려면 <code class="language-text">:verbose</code></a></p>
</li>
<li>
<p><a href="#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98%EB%90%98%EC%96%B4-%EC%9E%88%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0">플러그인 설치되어 있는지 확인하기</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0">문제 해결</a></p>
<ul>
<li><a href="#typescript-filetype-%EB%AC%B8%EC%A0%9C">Typescript filetype 문제</a></li>
<li><a href="#colorscheme-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8%EC%9D%B4-%EC%A0%90%EC%A0%90-%EB%8A%90%EB%A0%A4%EC%A7%80%EA%B2%8C-%EB%A7%8C%EB%93%9C%EB%8A%94-%ED%98%84%EC%83%81">colorscheme 플러그인이 점점 느려지게 만드는 현상</a></li>
<li><a href="#ubuntu%EC%97%90-%EC%84%A4%EC%B9%98%ED%95%9C-vim%EC%9D%B4-%EC%8B%9C%EC%9E%91-%EC%8B%9C-vimrc%EC%97%90%EC%84%9C-%EB%A7%8E%EC%9D%80-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%ED%98%84%EC%83%81">Ubuntu에 설치한 vim이 시작 시 <code class="language-text">.vimrc</code>에서 많은 에러가 발생하는 현상</a></li>
</ul>
</li>
<li>
<p><a href="#%EA%B4%80%EB%A0%A8-%EA%B8%B0%EC%82%AC">관련 기사</a></p>
</li>
<li>
<p><a href="#troubleshooting">Troubleshooting</a></p>
<ul>
<li><a href="#git-commit-%EC%8B%9C-waiting-for-your-editor-to-close-the-file-%EB%A9%94%EC%8B%9C%EC%A7%80%EC%99%80-%ED%95%A8%EA%BB%98-%EC%BB%A4%EB%B0%8B%EC%9D%B4-%EC%95%88%EB%90%98%EB%8A%94-%EB%AC%B8%EC%A0%9C">Git commit 시 "Waiting for your editor to close the file..." 메시지와 함께 커밋이 안되는 문제</a></li>
</ul>
</li>
</ul>
</li>
</ul></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-1L3R7GGF7P"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-1L3R7GGF7P',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-1L3R7GGF7P', {"anonymize_ip":true,"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/wiki/vim/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-3ddcda02344f3034631f.js\"],\"component---src-components-gatsby-templates-wiki-tsx\":[\"/component---src-components-gatsby-templates-wiki-tsx-a7b70e4c73e55d7f07d9.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-10d51ee2f28b984f9269.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-0d594ef74e2e0bd808b2.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="58c470cd09d2f3a0a90d";</script><script src="/cat-logic/webpack-runtime-7ee973e4565ed4c55bfa.js" async></script><script src="/cat-logic/framework-4bfcb0a3c03c938f10bc.js" async></script><script src="/cat-logic/app-3ddcda02344f3034631f.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>